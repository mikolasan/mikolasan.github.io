{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/modelling-simple-movements","result":{"data":{"markdownRemark":{"html":"<p>I was trying to understand the \"inverse-dynamics model\" block in the paper by Mitsuo Kawato. And I refreshed in my memory all physics from the university like Lagrange equations, Newton/Euler formulas; I made the wheel to roll and stop because of negative acceleration.</p>\n<p>And I learned a weird thing about wheels - its upper part moves twice faster than the bottom one. This is the thing that I didn’t know until I was in my 30s.</p>\n<p>What I’m trying to do is I want to train an ANN to predict what torque should be applied to motors when coordinates of the final position are known.</p>\n<p>I’ve read about similar systems but for robot arms where the movement is performed in one step. I think that I better work with time series, that's why I have to use RNNs or Transformers.</p>\n<h2 id=\"from-goal-to-simple-blocks\" style=\"position:relative;\">From goal to simple blocks<a href=\"#from-goal-to-simple-blocks\" aria-label=\"from goal to simple blocks permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>I sit on a chair and I have a notebook on my lap. If I want to stand up and get a cup of tea, then how to organize the sequence of actions that can be written as algorithm?</p>\n<p>I know where the kettle is, I need to stand up first, I will put the laptop aside first. I can walk with the laptop, but then both my hands will be busy and I need to put it first, but then I will need to carry it back. Then why not to leave it where I sit.</p>\n<p>It seams obvious when you do it every day. You can transfer this behavior from a similar situation. For example, when you were lying on a sofa with a book and decided to get orange juice from the fridge. From that task you maybe already learned that you should leave the book first.</p>\n<p>Main takeaways:</p>\n<ul>\n<li>do not carry extra items with you if you are not gonna use them</li>\n<li>if you somehow sit in the chair, then you can reverse your actions</li>\n<li>you have to walk</li>\n</ul>\n<p>Let’s try to explain this task with a language that is limited to 30 words (referring to a character from The Twelve Chairs by Ilf and Petrov)</p>\n<p>tea = far = walk</p>\n<p>walk = stand + walk</p>\n<p>walk = step forward or turn left or turn right and repeat</p>\n<p>tea = check water, add water, tun on the kettle, wait, get a cup, make tea, pour boiling water</p>\n<p>“far”. But we know where it is because it’s in our sight or we have been there already. Which means the way to our current location we already walked, then we can reverse it back. Sometimes in new environment like some airbnb place we must use memory a lot. But first we need to follow directions.</p>\n<p>What is the minimum block of movement? One step? Short rotation of one motor?</p>\n<p>In more complex robots with multiple degrees of freedom, the minimum block of movement could be a combination of movements from multiple motors or joints.</p>\n<p>When we combine these blocks together in time series what is high hierarchy block? Different patterns like turn left by moving left motors in reverse and right motors forward. In case of slippage, in some off-road test for example, we need to move only one motor. One motor is a simple block, but its actuation in this example is a high order decision related to the specific situation of slippage. In other words we can formulate that for this situation it is important to keep other three motors static.</p>\n<p>Originally I was looking into MDP, the model that will make decisions.</p>\n<p>When you feel tired you feel that every body part become heavy and you lie down. Biologically everything is defined and you know what to do. You can put your face on a hand because it’s softer than a table. Or use your arm as a stand because you want to keep your head at some level fighting with fatigue.</p>\n<p>Which means your brain sends very specific task and a vision how it should be done, you just need to execute it.</p>\n<h2 id=\"architecture\" style=\"position:relative;\">Architecture<a href=\"#architecture\" aria-label=\"architecture permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>There will be no labeled input data, thus autoencoders will be a good choice. However, the network input will be directions or final goals like \"go find mushrooms\" or \"find pine tree in the south\" and the output will be sequences of values representing torque applied to motors of wheeled robot.</p>\n<p>Using physics-based equations, such as Lagrange, Euler, or Newton equations, to model the robot's dynamics and kinematics, and using this model to generate the torque commands.</p>\n<p><strong>I need to create a universal model that will not require creating new inverse kinematics algorithm if robot's structure is changed.</strong> I know that it's not possible to approximate the equations with neural networks. Equation system can be solved with neural networks? Indeed, there are several techniques that can be used to solve equation systems with neural networks, such as physics-informed neural networks (PINN) and differential equation neural networks (DENN).</p>\n<p><a href=\"https://github.com/maziarraissi/PINNs/blob/master/main/discrete_time_identification%20(KdV)/KdV.py\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">This code</a> is very beautiful</p>\n<p>One weakness of the Hamiltonian approach is that it assumes knowledge of the canonical coordinates q, p. In general our observed data from a dynamical system may not match up against this canonical structure. An alternative is to instead parameterise the Lagrangian.</p>\n<p>Take simple perceptron and train it with the first derivative, but it learns the original function. <a href=\"https://colab.research.google.com/drive/12ztGwxR1TK8Ka6H3bOsSt57kB71ieQ-W?usp=sharing\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Basics of NN for ODE</a>.\nThen we take a Hamiltonian and approximate it. <a href=\"https://greydanus.github.io/2019/05/15/hamiltonian-nns/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">here</a>\nHamiltonian is from <a href=\"https://arxiv.org/abs/1909.12077\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">this paper</a> (<a href=\"https://github.com/Physics-aware-AI/Symplectic-ODENet\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">code</a>)</p>\n<ul>\n<li>Look for <a href=\"https://arxiv.org/abs/2009.09457\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">solution of double pendulum problem</a></li>\n<li><a href=\"https://arxiv.org/abs/2202.02435\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Big review</a> of Neural Differential Equations</li>\n<li>Lagrangian Deep Networks <a href=\"https://openreview.net/forum?id=BklHpjCqKm\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://openreview.net/forum?id=BklHpjCqKm</a></li>\n</ul>","excerpt":"I was trying to understand the \"inverse-dynamics model\" block in the paper by Mitsuo Kawato. And I refreshed in my memory all physics from…","tableOfContents":"<ul>\n<li><a href=\"#from-goal-to-simple-blocks\">From goal to simple blocks</a></li>\n<li><a href=\"#architecture\">Architecture</a></li>\n</ul>","fields":{"socialcard":"gatsby-plugin-social-card/ca48ba5c-3caf-57d7-b758-464fc380207f.jpg"},"frontmatter":{"date":"April 29, 2023","published":"April 29, 2023","lastModified":"May 11, 2023","title":"Modelling simple movements","subtitle":null,"section":null,"draft":null,"developing":null,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":null}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/modelling-simple-movements.md","url":"/blog/modelling-simple-movements","next":{"excerpt":"I studied Solid Pods carefully yesterday and I don't like what I found. First I don't see C/C++/Rust implementation of Solid servers. I see…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/solid-pods.md","frontmatter":{"title":"Solid pods","date":"2023-05-05T00:00:00.000Z","topic":null,"article":null},"id":"44f01acd-e295-54ff-909c-a4a968306c36"},"previous":{"excerpt":"Hmm, I will go through this questionnaire.  1. Genre One of my favorite authors is Howard Phillips Lovecraft. He writes horror, but I will…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/i-want-to-write-a-novel.md","frontmatter":{"title":"I want to write a novel","date":"2023-04-27T00:00:00.000Z","topic":null,"article":null},"id":"61662e63-0562-5295-9fa0-b1ff615cb0ee"},"recentArticles":[{"excerpt":"To read AI hype is over? (post from 2023) - L’IA n’est-elle qu’un mythe qui s’essoufflera ? About Google alternative services -  Comment j…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/learning-french.md","frontmatter":{"title":"How I am learning French","date":"2025-07-12T00:00:00.000Z","topic":null,"article":null},"id":"de46ffde-c202-594f-b222-f5f4a548fbe4"},{"excerpt":"I think I like having a dialogue with someone who knows about the topic, even with students who just obtained knowledge from canonical…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/lizards-and-continuous-space.md","frontmatter":{"title":"Lizards and Continuous space","date":"2025-06-23T00:00:00.000Z","topic":null,"article":null},"id":"6ee1f95a-2c05-5950-8a0d-20ff4d937fb1"},{"excerpt":"Yes, developers add new features, refactor other parts to get rid of technical debt. This often changes API, which usually triggers…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/new-ui-and-conspiracy-in-it-industry.md","frontmatter":{"title":"New UI","date":"2025-06-21T00:00:00.000Z","topic":null,"article":null},"id":"fe2e710c-0afa-5b11-8a7d-1dc46d02f0f9"},{"excerpt":"Now when I almost finished with the titanic competition (I didn’t reach 90% accuracy as I planned, although I doubt it’s possible), it’s…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/regulus.md","frontmatter":{"title":"Regulus","date":"2025-05-13T00:00:00.000Z","topic":null,"article":null},"id":"cf23a6fc-e0e2-571b-9dbf-5030b3af25dd"},{"excerpt":"When I found out there was a popular platform where people share open source projects, I imagined GitHub differently. I thought I could find…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/how-github-should-work.md","frontmatter":{"title":"How GitHub should work","date":"2025-04-03T00:00:00.000Z","topic":null,"article":null},"id":"63562cc8-f132-5cbc-a444-5639c4a78d98"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}