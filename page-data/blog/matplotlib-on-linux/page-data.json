{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/matplotlib-on-linux","result":{"data":{"markdownRemark":{"html":"<p>Sometimes using <code class=\"language-text\">matplotlib</code> on Linux you can get a long traceback message instead of a plot that you expected.\nStrangely it says something about key modifiers. Just give me the plot!</p>\n<p>So here's the possible output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Traceback (most recent call last):\n  File \"&lt;stdin>\", line 1, in &lt;module>\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/networkx/drawing/nx_pylab.py\", line 108, in draw\n    cf = plt.gcf()\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 867, in gcf\n    return figure()\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 808, in figure\n    manager = new_figure_manager(\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 326, in new_figure_manager\n    _warn_if_gui_out_of_main_thread()\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 316, in _warn_if_gui_out_of_main_thread\n    if (_get_required_interactive_framework(_get_backend_mod())\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 217, in _get_backend_mod\n    switch_backend(dict.__getitem__(rcParams, \"backend\"))\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 268, in switch_backend\n    switch_backend(candidate)\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 288, in switch_backend\n    class backend_mod(matplotlib.backend_bases._Backend):\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/pyplot.py\", line 289, in backend_mod\n    locals().update(vars(importlib.import_module(backend_name)))\n  File \"/usr/lib/python3.10/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap>\", line 1050, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap>\", line 1027, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap>\", line 688, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external>\", line 883, in exec_module\n  File \"&lt;frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/backends/backend_qtagg.py\", line 12, in &lt;module>\n    from .backend_qt import (\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/backends/backend_qt.py\", line 73, in &lt;module>\n    _MODIFIER_KEYS = [\n  File \"/home/nikolay/.local/lib/python3.10/site-packages/matplotlib/backends/backend_qt.py\", line 74, in &lt;listcomp>\n    (_to_int(getattr(_enum(\"QtCore.Qt.KeyboardModifier\"), mod)),\nTypeError: int() argument must be a string, a bytes-like object or a real number, not 'KeyboardModifier'</code></pre></div>\n<p>Let's say we trying to run this example:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> networkx <span class=\"token keyword\">as</span> nx\n<span class=\"token keyword\">import</span> matplotlib\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n\nA <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nG <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>from_numpy_array<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Make sure you use the correct <a href=\"https://matplotlib.org/stable/users/explain/backends.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">backend</a>. You can switch it in the following way:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">matplotlib<span class=\"token punctuation\">.</span>use<span class=\"token punctuation\">(</span><span class=\"token string\">'wxAgg'</span><span class=\"token punctuation\">)</span></code></pre></div>","excerpt":"Sometimes using  on Linux you can get a long traceback message instead of a plot that you expected.\nStrangely it says something about key…","tableOfContents":"","fields":{"socialcard":"gatsby-plugin-social-card/44a02b53-1fa9-5d03-9329-71178d64ea4a.jpg"},"frontmatter":{"date":"January 27, 2023","published":"February 07, 2023","lastModified":"February 07, 2023","title":"Matplotlib on linux","subtitle":null,"section":null,"draft":null,"developing":null,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":null}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/matplotlib-on-linux.md","url":"/blog/matplotlib-on-linux","next":{"excerpt":"The following answer by Ivan Bartsov is copied from Unix&Linux Stack Exchange Ext filesystems store backups of the superblock -- for an…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/fix-grub-rescue.md","frontmatter":{"title":"Fix Grub rescue","date":"2023-01-31T00:00:00.000Z","topic":null,"article":null},"id":"0b67f31f-6ac5-59d0-ab30-4cf5069dcba7"},"previous":{"excerpt":"Today I'm thinking about the best way to stack boards (to support extensions in other words). In my search I stumbled upon these DIP…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/castellated-vias.md","frontmatter":{"title":"Castellated vias","date":"2022-12-16T00:00:00.000Z","topic":null,"article":null},"id":"9ec8c9c4-53d2-5f77-a418-61a53e837219"},"recentArticles":[{"excerpt":"To read AI hype is over? (post from 2023) - L’IA n’est-elle qu’un mythe qui s’essoufflera ? About Google alternative services -  Comment j…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/learning-french.md","frontmatter":{"title":"How I am learning French","date":"2025-07-12T00:00:00.000Z","topic":null,"article":null},"id":"de46ffde-c202-594f-b222-f5f4a548fbe4"},{"excerpt":"I think I like having a dialogue with someone who knows about the topic, even with students who just obtained knowledge from canonical…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/lizards-and-continuous-space.md","frontmatter":{"title":"Lizards and Continuous space","date":"2025-06-23T00:00:00.000Z","topic":null,"article":null},"id":"6ee1f95a-2c05-5950-8a0d-20ff4d937fb1"},{"excerpt":"Yes, developers add new features, refactor other parts to get rid of technical debt. This often changes API, which usually triggers…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/new-ui-and-conspiracy-in-it-industry.md","frontmatter":{"title":"New UI","date":"2025-06-21T00:00:00.000Z","topic":null,"article":null},"id":"fe2e710c-0afa-5b11-8a7d-1dc46d02f0f9"},{"excerpt":"Now when I almost finished with the titanic competition (I didn’t reach 90% accuracy as I planned, although I doubt it’s possible), it’s…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/regulus.md","frontmatter":{"title":"Regulus","date":"2025-05-13T00:00:00.000Z","topic":null,"article":null},"id":"cf23a6fc-e0e2-571b-9dbf-5030b3af25dd"},{"excerpt":"When I found out there was a popular platform where people share open source projects, I imagined GitHub differently. I thought I could find…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/blog/how-github-should-work.md","frontmatter":{"title":"How GitHub should work","date":"2025-04-03T00:00:00.000Z","topic":null,"article":null},"id":"63562cc8-f132-5cbc-a444-5639c4a78d98"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}