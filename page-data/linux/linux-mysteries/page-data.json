{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux/linux-mysteries","result":{"data":{"markdownRemark":{"html":"<p>A collection of things that I cannot explain</p>\n<h2 id=\"write-permissions\" style=\"position:relative;\">Write permissions<a href=\"#write-permissions\" aria-label=\"write permissions permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>On one machine with Ubuntu 22.04 all files have write permission for the user group by default, but on another - Manjaro 22 - no.</p>\n<h2 id=\"apt-update-critical-error\" style=\"position:relative;\">apt update critical error<a href=\"#apt-update-critical-error\" aria-label=\"apt update critical error permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(appstreamcli:3459): GLib-CRITICAL **: 23:46:48.952: g_variant_builder_end: assertion '!GVSB(builder)->uniform_item_types || GVSB(builder)->prev_item_type != NULL || g_variant_type_is_definite (GVSB(builder)->type)' failed\n(appstreamcli:3459): GLib-CRITICAL **: 23:46:48.952: g_variant_new_variant: assertion 'value != NULL' failed                                                                                  \n(appstreamcli:3459): GLib-ERROR **: 23:46:48.952: g_variant_new_parsed: 11-13:invalid GVariant format string\n\nE: Problem executing scripts APT::Update::Post-Invoke-Success 'if /usr/bin/test -w /var/cache/app-info -a -e /usr/bin/appstreamcli; then appstreamcli refresh-cache > /dev/null; fi'</code></pre></div>\n<h2 id=\"dazed-and-confused\" style=\"position:relative;\">Dazed and confused<a href=\"#dazed-and-confused\" aria-label=\"dazed and confused permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<blockquote>\n<p>Uhhuh. NMI received for unknown reason 31 on CPU 13.\nDo you have a strange power saving mode enabled?\nDazed and confused, but trying to continue</p>\n</blockquote>\n<p>No handler for the interrupt. Not good, but not critical. More important is that nothing wrong with the power supply.</p>\n<p>Source: <a href=\"https://utcc.utoronto.ca/~cks/space/blog/linux/NMIUnknownReasonMeaning?showcomments#comments\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://utcc.utoronto.ca/~cks/space/blog/linux/NMIUnknownReasonMeaning?showcomments#comments</a></p>\n<h2 id=\"sleeping-com-ports\" style=\"position:relative;\">Sleeping COM ports<a href=\"#sleeping-com-ports\" aria-label=\"sleeping com ports permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>IIRC this was an issue in Ubuntu 16.04. After reboot the COM port is not sending or receiving any data. It's \"sleeping\". In order to wake up such port you need to open it with <code class=\"language-text\">screen</code> once</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># touch ports</span>\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com5 <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-m</span> /dev/ttyS4\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com7 <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-m</span> /dev/ttyS6\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com8 <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-m</span> /dev/ttyS7\n\n<span class=\"token comment\"># kill screen sessions</span>\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com5 <span class=\"token parameter variable\">-X</span> <span class=\"token function\">kill</span>\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com7 <span class=\"token parameter variable\">-X</span> <span class=\"token function\">kill</span>\n<span class=\"token function\">screen</span> <span class=\"token parameter variable\">-S</span> com8 <span class=\"token parameter variable\">-X</span> <span class=\"token function\">kill</span></code></pre></div>\n<h2 id=\"serial-console-speed\" style=\"position:relative;\">Serial console speed<a href=\"#serial-console-speed\" aria-label=\"serial console speed permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>A very good Morse code operator can send/receive 30 words per minute, which is about 600bits/s.\nLinux serial console is only 192 times faster.</p>\n<p>Just a random thought.</p>\n<h2 id=\"why-linux-is-not-dominating-the-market\" style=\"position:relative;\">Why Linux is not dominating the market?<a href=\"#why-linux-is-not-dominating-the-market\" aria-label=\"why linux is not dominating the market permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>I think this is because there is no company with big money reserves targeted on common users. Because Linux distribution is not a product. And I think that only by doing the same things what Microsoft did 30 years ago, Linux will start dominating.</p>\n<p>Let’s imagine Canonical is such company. Of course there are other big companies like Red Hat, SUSE, who sell Linux distributions, but they focus only on servers. And there is a reason for this skewed balance. Many products for business from Adobe, Autodesk only support Windows (and sometimes Mac)</p>\n<p>So let’s focus on home users who need a browser, office suite, and games. First, Canonical must contract with many laptop manufacturers and make Ubuntu to be an OS installed by default, not Windows.</p>\n<p>As some consoles maintain exclusive titles (for example, Zelda, Metal Gear Solid, Halo) and release big hits together with the launch of the new console version. So, next Call of Duty must be released only for Ubuntu.</p>\n<h2 id=\"books\" style=\"position:relative;\">Books<a href=\"#books\" aria-label=\"books permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<ul>\n<li><a href=\"https://0xax.gitbooks.io/linux-insides/content/index.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Linux inside</a></li>\n</ul>","excerpt":"A collection of things that I cannot explain Write permissions On one machine with Ubuntu 22.04 all files have write permission for the user…","tableOfContents":"<ul>\n<li><a href=\"#write-permissions\">Write permissions</a></li>\n<li><a href=\"#apt-update-critical-error\">apt update critical error</a></li>\n<li><a href=\"#dazed-and-confused\">Dazed and confused</a></li>\n<li><a href=\"#sleeping-com-ports\">Sleeping COM ports</a></li>\n<li><a href=\"#serial-console-speed\">Serial console speed</a></li>\n<li><a href=\"#why-linux-is-not-dominating-the-market\">Why Linux is not dominating the market?</a></li>\n<li><a href=\"#books\">Books</a></li>\n</ul>","fields":{"socialcard":"gatsby-plugin-social-card/564e54b0-b9f0-50bc-be79-4b0a16b7c657.jpg"},"frontmatter":{"date":"October 04, 2022","published":"February 07, 2023","lastModified":"June 04, 2023","title":"Linux mysteries","subtitle":null,"section":null,"draft":null,"developing":true,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":null}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/linux-mysteries.md","url":"/linux/linux-mysteries","next":{"excerpt":"I was looking for a reverse proxy for my self-hosted services. The choice is hard. I found 4 options: Apache nginx traefik Caddy feron…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/reverse-proxy.md","frontmatter":{"title":"Reverse Proxy","date":"2023-02-22T00:00:00.000Z","topic":null,"article":null},"id":"20149e30-9656-5160-ad8f-91d40a228059"},"previous":{"excerpt":"Change IP Here are the commands used to change the network settings by adding or removing IP addresses and turning on or off network…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/change-network-configuration-with-ip-command.md","frontmatter":{"title":"ip command","date":"2022-09-02T00:00:00.000Z","topic":null,"article":null},"id":"b86d68a5-6941-5735-981b-54b353e80c49"},"recentArticles":[{"excerpt":"The time is now. So you are following the official path","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/lunar-vim.md","frontmatter":{"title":"Lunar Vim","date":"2025-07-12T00:00:00.000Z","topic":null,"article":null},"id":"96fd1359-d24f-593f-bfd5-c6ea877b7e1e"},{"excerpt":"Prologue When I changed my email with Asana, the service that I liked so much, I found it when I had trouble planning my day, forgiving…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/task-management-with-taskwarrior.md","frontmatter":{"title":"Task management with taskwarrior","date":"2025-06-19T00:00:00.000Z","topic":null,"article":null},"id":"d251091d-7777-5f57-a398-6317d95233da"},{"excerpt":"I called my pool 'dinosaur' and three datasets, you guessed it, triassic, jurassic, cretaceous Steps: Reference archwiki - zfs zfs handbook…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/encrypted-backup-with-zfs.md","frontmatter":{"title":"Encrypted backup with ZFS","date":"2025-06-10T00:00:00.000Z","topic":null,"article":null},"id":"a8cfe7c2-1870-5a4d-a4b6-a9e5cb56f73b"},{"excerpt":"I already got used to auto-starting services when they run with docker compose or docker stack, but I like it even more when the apps run…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/autostart-everything.md","frontmatter":{"title":"Autostart everything","date":"2025-05-26T00:00:00.000Z","topic":null,"article":null},"id":"7c1cd1ea-fc7f-558a-9576-5f5420866bad"},{"excerpt":"So this happened when I was working on a Go project and quite frequently compiled binaries for deployment in docker containers. I didn't pay…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/clear-space.md","frontmatter":{"title":"Clear space on Linux","date":"2025-04-15T00:00:00.000Z","topic":null,"article":null},"id":"b3347ef2-f534-5c29-bc5e-0ed82ca4c7ee"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}