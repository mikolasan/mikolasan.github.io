{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux/install-irc-server","result":{"data":{"markdownRemark":{"html":"<p>Probably you have seen on Mastodon people advocating for RSS, forums and IRC as a foundation of new cozy and niche internet without big tech companies. So I want to check if there’s a real reincarnation of these old things. (Except emails, real paper mails are much cooler.)</p>\n<p>I started to play with the system on my raspberry pi. It doesn’t boot from an SD card, but it can boot from a USB stick. But during <code class=\"language-text\">apt upgrade</code> I lost the ssh connection, decided to power cycle the board, and now it doesn’t boot. On Windows I fixed the file system on the first partition, and it started blinking but still no booting. Apparently, the kernel file was corrupted and I needed to replace it with a genuine one file from another place.</p>\n<h2 id=\"build-from-sources\" style=\"position:relative;\">Build from sources<a href=\"#build-from-sources\" aria-label=\"build from sources permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>Doing fun Linux stuff first: compiling an IRC client from source.</p>\n<p>No, I'm serious, I like it. Doing that you will feel that your computer is a sandbox and you can make programs from raw instructions. For the record, I'm not saying that I like Gentoo - that is overboard.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libpq-dev libgnutls28-dev\n\n<span class=\"token function\">git</span> clone https://github.com/inspircd/inspircd.git\n<span class=\"token builtin class-name\">cd</span> inspircd\n./configure\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>\n\n/home/nikolay/irc/inspircd/run/conf/\n\n<span class=\"token function\">git</span> clone https://github.com/anope/anope.git\n<span class=\"token builtin class-name\">cd</span> anope\n./Config\n<span class=\"token builtin class-name\">cd</span> build\n<span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n<h2 id=\"cli-client\" style=\"position:relative;\">CLI Client<a href=\"#cli-client\" aria-label=\"cli client permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>I remotely connected to a Raspberry Pi board. I use a custom terminal (<a href=\"/blog/alacritty-everywhere\">Alacritty</a> with Source Code Pro font), but it's nothing special, standard Windows terminal or MinGW will do the same. I have a tmux session open (fancy powerline at the top can tell that) and it will become handy when I will start the IRC client there. The web page about irssi IRC client is pretty. I was considering to install sic from the \"suckless\" tools (yeah, there is such a philosophy among developers) but then I looked at irssi and their purple theme...</p>\n<h2 id=\"self-signed-certificates\" style=\"position:relative;\">Self-signed certificates<a href=\"#self-signed-certificates\" aria-label=\"self signed certificates permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>Add security level. For irssi: <a href=\"https://joshcurry.co.uk/posts/irssi-connect-to-a-server-which-uses-a-self-signed-certificate/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Connect to a server which uses a self-signed certificate</a></p>\n<h2 id=\"web-client\" style=\"position:relative;\">Web client<a href=\"#web-client\" aria-label=\"web client permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://kiwiirc.com/downloads/kiwiirc_20.05.24.1-1_amd64.deb\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> ./kiwiirc_20.05.24.1-1_amd64.deb\n\n/etc/kiwiirc/client.json\n/etc/kiwiirc/config.conf</code></pre></div>\n<p>Added to the welcome page a hint that I just watched Interstellar for the hundredth time:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\nDo not go gentle into that good night,<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\nOld age should burn and rave at close of day;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\nRage, rage against the dying of the light.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"reverse-proxy-with-apache-2\" style=\"position:relative;\">Reverse proxy with Apache 2<a href=\"#reverse-proxy-with-apache-2\" aria-label=\"reverse proxy with apache 2 permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h3>\n<p>According to <a href=\"https://gist.github.com/ItsOnlyBinary/3e38b66d71e51d12d7df32f739978799\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">the kiwiirc documentation</a> this should be enough but for some reason the websoket part (I assume that, because static files are served just fine) doesn't work. Maybe my Apache config is broken somewhere else, or maybe <a href=\"https://github.com/prawnsalad/KiwiIRC/issues/499\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">the issue is still there</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    # requires: a2enmod rewrite proxy proxy_wstunnel\n    RewriteEngine   On\n    RewriteCond %{HTTP:UPGRADE} ^WebSocket$ [NC]\n    RewriteRule .* ws://localhost:6080%{REQUEST_URI} [P,QSA,L]\n\n    # Reverse proxy http connections\n    # requires: a2enmod proxy proxy_http\n    ProxyVia On\n    ProxyRequests Off\n    ProxyPass /webirc/ http://localhost:6080/webirc/\n    ProxyPassReverse /webirc/ http://localhost:6080/webirc/\n    ProxyPreserveHost on\n\n    # Set header to allow the irc connection to be marked as secure\n    # requires: a2enmod headers\n    RequestHeader set \"X-Forwarded-Proto\" expr=%{REQUEST_SCHEME}</code></pre></div>\n<h2 id=\"irc-commands\" style=\"position:relative;\">IRC commands<a href=\"#irc-commands\" aria-label=\"irc commands permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<h3 id=\"server-window\" style=\"position:relative;\">Server window<a href=\"#server-window\" aria-label=\"server window permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h3>\n<ul>\n<li><code class=\"language-text\">/list</code> - list of channels to join</li>\n</ul>\n<h3 id=\"in-the-channel\" style=\"position:relative;\">In the channel<a href=\"#in-the-channel\" aria-label=\"in the channel permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h3>\n<ul>\n<li><code class=\"language-text\">/names</code> - list of users</li>\n<li>To tag a person - just type in their nickname</li>\n</ul>\n<h2 id=\"reference\" style=\"position:relative;\">Reference<a href=\"#reference\" aria-label=\"reference permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<ul>\n<li>Very long dump but maybe helpful <a href=\"https://clients.sisrv.net/knowledgebase/89/How-to-build-your-own-InspIRCd-IRC-Server-and-Anope.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://clients.sisrv.net/knowledgebase/89/How-to-build-your-own-InspIRCd-IRC-Server-and-Anope.html</a></li>\n</ul>","excerpt":"Probably you have seen on Mastodon people advocating for RSS, forums and IRC as a foundation of new cozy and niche internet without big tech…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#build-from-sources\">Build from sources</a></p>\n</li>\n<li>\n<p><a href=\"#cli-client\">CLI Client</a></p>\n</li>\n<li>\n<p><a href=\"#self-signed-certificates\">Self-signed certificates</a></p>\n</li>\n<li>\n<p><a href=\"#web-client\">Web client</a></p>\n<ul>\n<li><a href=\"#reverse-proxy-with-apache-2\">Reverse proxy with Apache 2</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#irc-commands\">IRC commands</a></p>\n<ul>\n<li><a href=\"#server-window\">Server window</a></li>\n<li><a href=\"#in-the-channel\">In the channel</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","fields":{"socialcard":"gatsby-plugin-social-card/9a875de5-01a9-5d95-8145-13417c46df35.jpg"},"frontmatter":{"date":"February 28, 2025","published":"February 28, 2025","lastModified":"February 28, 2025","title":"IRC server","subtitle":"Install on Raspberry Pi","section":null,"draft":null,"developing":null,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":null}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/install-irc-server.md","url":"/linux/install-irc-server","next":{"excerpt":"The commands supposed to be simple but there is always confusion if it supposed to be  or . Actually if we on this path let's just setup…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/create-new-user.md","frontmatter":{"title":"Create new user in Linux","date":"2025-03-08T00:00:00.000Z","topic":null,"article":null},"id":"1fec8e66-02c4-57dd-ba50-b7890f4e49d3"},"previous":{"excerpt":"Before uploading your files to any cloud storage for backup purposes, it is a good idea to restrict unsanctioned access to your information…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/encrypt-your-files.md","frontmatter":{"title":"Before uploading files to cloud storage","date":"2025-02-24T00:00:00.000Z","topic":null,"article":null},"id":"b146f73e-06a0-5ee8-bc54-11d85d52fba1"},"recentArticles":[{"excerpt":"The time is now. So you are following the official path","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/lunar-vim.md","frontmatter":{"title":"Lunar Vim","date":"2025-07-12T00:00:00.000Z","topic":null,"article":null},"id":"96fd1359-d24f-593f-bfd5-c6ea877b7e1e"},{"excerpt":"Prologue When I changed my email with Asana, the service that I liked so much, I found it when I had trouble planning my day, forgiving…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/task-management-with-taskwarrior.md","frontmatter":{"title":"Task management with taskwarrior","date":"2025-06-19T00:00:00.000Z","topic":null,"article":null},"id":"d251091d-7777-5f57-a398-6317d95233da"},{"excerpt":"I called my pool 'dinosaur' and three datasets, you guessed it, triassic, jurassic, cretaceous Steps: Reference archwiki - zfs zfs handbook…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/encrypted-backup-with-zfs.md","frontmatter":{"title":"Encrypted backup with ZFS","date":"2025-06-10T00:00:00.000Z","topic":null,"article":null},"id":"a8cfe7c2-1870-5a4d-a4b6-a9e5cb56f73b"},{"excerpt":"I already got used to auto-starting services when they run with docker compose or docker stack, but I like it even more when the apps run…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/autostart-everything.md","frontmatter":{"title":"Autostart everything","date":"2025-05-26T00:00:00.000Z","topic":null,"article":null},"id":"7c1cd1ea-fc7f-558a-9576-5f5420866bad"},{"excerpt":"So this happened when I was working on a Go project and quite frequently compiled binaries for deployment in docker containers. I didn't pay…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/linux/clear-space.md","frontmatter":{"title":"Clear space on Linux","date":"2025-04-15T00:00:00.000Z","topic":null,"article":null},"id":"b3347ef2-f534-5c29-bc5e-0ed82ca4c7ee"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}