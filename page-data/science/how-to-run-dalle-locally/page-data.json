{"componentChunkName":"component---src-templates-blog-template-js","path":"/science/how-to-run-dalle-locally","result":{"data":{"markdownRemark":{"html":"<p>Prompt for generating a featured picture: <em>cat cosmonaut floating in deep space with colorful nebulas on the background</em></p>\n<h1 id=\"crazy-data-scientist-diary\" style=\"position:relative;\">Crazy data scientist diary<a href=\"#crazy-data-scientist-diary\" aria-label=\"crazy data scientist diary permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h1>\n<p>Full collection of tricks and fixes required to run TensorFlow on Windows compiled with the latest Visual Studio 2022.</p>\n<ul>\n<li>Windows 10 64 bit</li>\n<li>CUDA 11.3</li>\n<li>cudnn 8.4.1.50</li>\n<li>Microsoft Visual Studio 2022</li>\n<li>Python 3.8.1</li>\n<li>MSYS2 (2018-05-31)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0f9e1fb468e6fc826da800c2e6fcc84a/29114/run-dalle-playground.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACqklEQVR42gGfAmD9AOjp6u3t7evr6+3t7ff399nY2UVESUA/REJCRkJCRkNBRkJBR0JBR0A/REA/RENCRzw7PisqKiopKR8fIADy8vbw8PD09vf5+/3y9ffv8fD6+vXz9PHv7+vs7Ofq7Ofr6+Xv7+X////9/fn///zHx8BNTElQTkoyMS0A9fbz9/f38ff69Pn78fX48/f45eDXr6OXmZmOqKmip5yUn56XtrCjraqisaqn8/Dmzc3IOjk1Pz02Li0oAPX18vLy8ury9uzy9u30+PH3+dfMzmxPUGNjVVNKP6ZhWJ6mpIZ8ZWJeTz5ueLe1pKuqpywrKS0tKi0tLAD38u/y8vLt9Pnr8vjt9fry+PrMx857WmaUb2SSbGSPWE7Mv7qgk3+Je2pulp9UVUkpKCkpKSclJCQlJCMA8O/v8O/w8vT27fDy7O7w9fj4wMC6ZlVCd1lLeXVrU1BEdVtPj4J1alZOdmtaVFJLICAhHR0cGhoZGRkYAPP29vDw8P3+/vf39/r6+v///7SrpmtMMXhqVIR2fZKPk0ZCNE07L1VAMm5xZEZJRikoKCIiIR4eHR4eHQC5urm2ubu5u725ubm7ubn19vS3rahJMDJ/f3OPiZpNS1otKh8/MCpST0YsR0wwOT4xLiwtLS0qKikmJSQAJQ8NLREOMBEOIhMRIhcXwL246ejhq6ijw8LCxca9qayhrKylv722srCpsrezZWRiKiYmMS8uLSopKSYlAC0RCDUWCzYZDycUDRkSE8G/vP////z8/f///////v////////7+/v39/f///35/fyYnJzAxMS8xMCwtLABHIBVCJRs1LysrJyMgHRyMioXAvre2tK23trC4tq+2ta2zsqyysaywr6q5uLFgXFgiHhotKSYrJiQxLiuKD2ni5riiHQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"running dalle playground\"\n        title=\"\"\n        src=\"/static/0f9e1fb468e6fc826da800c2e6fcc84a/a6d36/run-dalle-playground.png\"\n        srcset=\"/static/0f9e1fb468e6fc826da800c2e6fcc84a/222b7/run-dalle-playground.png 163w,\n/static/0f9e1fb468e6fc826da800c2e6fcc84a/ff46a/run-dalle-playground.png 325w,\n/static/0f9e1fb468e6fc826da800c2e6fcc84a/a6d36/run-dalle-playground.png 650w,\n/static/0f9e1fb468e6fc826da800c2e6fcc84a/e548f/run-dalle-playground.png 975w,\n/static/0f9e1fb468e6fc826da800c2e6fcc84a/3c492/run-dalle-playground.png 1300w,\n/static/0f9e1fb468e6fc826da800c2e6fcc84a/29114/run-dalle-playground.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"day-3\" style=\"position:relative;\">Day 3<a href=\"#day-3\" aria-label=\"day 3 permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p><a href=\"https://twitter.com/mikolasan/status/1536575253312221185\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://twitter.com/mikolasan/status/1536575253312221185</a></p>\n<p>I want to create AI-generated cover pictures for my articles. I want to try <a href=\"https://github.com/borisdayma/dalle-mini\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">DALL-E Mini</a> for this purpose, but <a href=\"https://www.craiyon.com/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">the online version</a> is so popular that it even cannot handle all requests.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:0.9005524861878453;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7e41906985612f8589859eef31e2433/f8067/crazy-data-scientist-diary-day-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.04294478527608%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADZklEQVR42pWSWXPaZhSGddcbU1LCIrBWJCEBYrXTsRsMXsIqjPF4SVxjMMSpM9NeZzJpnYLt2nhjF4sE2L7N/+j/6gF3EsftNOnMM2fO957zHn2SDoJjnBQOJuOrS4upSDgdi64+W0rZBS+Bsw8giRE4xkAOkbeJCMOITrvX55112P0OwcexLhvnttJ2AucsZnoMBdGMkgY9hpoImhJYRqQpu0ucQgq7hWwmn8u9ymzvbv+Y29rKZHfyey9fF/I/ZXcKO5k86BCh9Hxze+tFZje3V8jv57J7UEXURulaqfX7t6rSV5Wh0gMGwKB/fXN9OxzcXA9vRwxuboa3AOhAr6teXVaQbrvbqDWbzXan3ZNbstzqANVKvV5r1qqNttyVx0DSlDsAtAFKr18+PUNAPS9fXZxXK1f1agXGdBp1+ax8cXlRubqswtBmow1iq9WpteRqS4b+dqvT7SinJ2Wk21VUZQCGOhRlGKkq3a6qDnu9fqPRUtUB5PBGyuilBgAkvZ7a7w/Pzs6Ro8OTUumPt28PIBaLx8XfD0vvf3v3rvjmza/7+z+PlePD0snR4el9jo/K7w+KiAmldDrs0XcW3WPMaKQMgImmaDttdVK0g6AESMwWq95AGIwkoDdApLRaSzSaRAxGAmx3aB+ZJzTGb7Uoy7kcTj/NOBlWFBw+o4nUaE1QvXuG3oBrNMZIREIwnCNIHpjEWFF8MheITE8H3e4Zl2vG65n1eGbdnhmf7we/P+D2BeAWj/X4hI7+ZsISBfMkweNWkWRcFlJ4Gojmdl6vpjPJxOay9DwR3wg/S0fCq2FgMZWci05PhSiazwfIuMsSjqYQjLSTnIdk3TDiyfcL8dg6ICU2pMRmPLa2MJ9cXFheCknB6Lr/lwNPUGKsQmGRl/zknVkgWDfBuDDa6Z8KQXdwLn5HKJiYD0nz4H8amUlnDR/+tEtbBM6jVp/OIsTi98yAlfOyvP8jzJi/jzYvT9qtzKiT5twoxsdin5vh5vehWZFgPh0xzoOP28h/NT+A5URq5H+og9mE8fH4yn+Z8TH/1CnOY8JsqdT6Z2b45l8DbfOiOL+S3kAmMQ7+1iQhjCNvxmxfBNp0BnJlZQ2BvYUlg/XCCRtqscICfRHY6AmNaXl5DSEp2E3b/wIsqJlOp9f/Aq8HWngcZiK7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Too much trafic please try again\"\n        title=\"\"\n        src=\"/static/d7e41906985612f8589859eef31e2433/a6d36/crazy-data-scientist-diary-day-3.png\"\n        srcset=\"/static/d7e41906985612f8589859eef31e2433/222b7/crazy-data-scientist-diary-day-3.png 163w,\n/static/d7e41906985612f8589859eef31e2433/ff46a/crazy-data-scientist-diary-day-3.png 325w,\n/static/d7e41906985612f8589859eef31e2433/a6d36/crazy-data-scientist-diary-day-3.png 650w,\n/static/d7e41906985612f8589859eef31e2433/f8067/crazy-data-scientist-diary-day-3.png 726w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Thus I'm installing a <a href=\"https://github.com/saharmor/dalle-playground\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">local version</a> on my laptop.</p>\n<p>So the first step is to install the correct tools. I'm going with</p>\n<ul>\n<li>CUDA 11.3.1 (not the latest, just saw it in PyTorch <a href=\"https://pytorch.org/get-started/locally/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">support table</a>)</li>\n<li>cuDNN 8.4 (latest for 11.x)</li>\n<li>NVIDIA Graphics Driver 512.96 (latest)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:2.4328358208955225;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6926133188f7c59b1143d1d2df1918e9/bad1b/crazy-data-scientist-diary-day-3-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.104294478527606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABi0lEQVR42iWRy04UQRSG+73YQuIryG5IeAhdIEYJKzISnejCBAgkqBAgIAkqLiQxbow7E1zMMDqZMHR11/3Sdfd0c/LnVNXiP99fOUWMMXjvncs5J9s0+wOz09fbfT14ai4OtDKCUKWNdd6GqHM2OdtOMefCh6CUMsZ0ZstO9/nJHjvcYu/fil8/6iYiZQnlKmT+8zvqr+DBc/bqGXnxxA2viwBmrUKEQW2RlFmKMEkNr/negLxZlzubYjZjNqo/v9WnI3r2jh/viuNdfztpzUIICN6SG0Nfr5GNx2xzhT3q0YdzZHGOLi2w0bBiUjVO5UxjEinDJUDs1swFJAd4co5/PacfP8jLU/FylfcWWG+eLz9gN0NEJcFUcimF0lKDgg9F05W11rsWTnysXWBAmP7DV1/w1SX+9hnflaiiZVljwjFhmHLKZQixgMyABTsMSCnNbu/G48l49Hda1kgHZDzSrqaiwqyqQbSqSYkwqqkHMvwWtpW6ArIP8V6hO2CLbYfnvWICxa6nlP4DtSKvcoZ0hc0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Compatibility diagram PyTorch vs Cuda\"\n        title=\"\"\n        src=\"/static/6926133188f7c59b1143d1d2df1918e9/a6d36/crazy-data-scientist-diary-day-3-2.png\"\n        srcset=\"/static/6926133188f7c59b1143d1d2df1918e9/222b7/crazy-data-scientist-diary-day-3-2.png 163w,\n/static/6926133188f7c59b1143d1d2df1918e9/ff46a/crazy-data-scientist-diary-day-3-2.png 325w,\n/static/6926133188f7c59b1143d1d2df1918e9/a6d36/crazy-data-scientist-diary-day-3-2.png 650w,\n/static/6926133188f7c59b1143d1d2df1918e9/bad1b/crazy-data-scientist-diary-day-3-2.png 841w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I usually do not update video drivers, but here is a picture to explain why the graphics driver must be updated</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e5ef8e0638c6988986f4887061a87e59/29114/crazy-data-scientist-diary-day-3-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACTklEQVR42mVRzU/TcBjuTS+eVRBQYxZj/EeIMfpfaOLNg148yoVNhMFYx7awaLIEozHDkICChMHGWNxHt3ayCaVl3ejW73brF+3qy4gnn7yH9+v5vU+eH+LzPbjvezgxfu/W6J3RkdsjNyduXB+DcmzsLnSuXrn2/NkLDMNzB3kCr0JUK5UKViZJ8uPyEvLk6ePJyUfBYDCVSiWTyVgshqIolH5/IBJZisfjhUJRkJTBYOB5Xt+0+rpu2zbk2b00cpAv7Ofy3S6naZqu69BV/6HX6zmOoxtmg6R6Wg9GhmFyHC+KIuTbWz+QKl4rY1WW7dA0zTCMYRjNZpNl2e4Q/Qvo9caRKAhAgE6r1ep0uq7rrqa+IZUqUSphcJkZAiQBk+M4QRDggmmaoJOkTp3zcyDzvNBhuzCyTCuTySJYBS8UyxzP0zRFN2nLNttnbR62hmTLskALdXIiy7JuKUqvK6hnqqZomkoQBFLBcYqiFEXpa+CG6w08VdFgVRni0gVJFHcze9uNdaz9mZKyl+YdHx8hRO13s9VWZANnNjYPp3f+hGi+5NjgjQ6aJenCG1lS139+TZ+s5OhlUtxm5CJrlHbyKeSwXmdF1bS9NeLN263xqe++fTIKBAceGAxkRXZdRxTktc1PDWGj3FyFyJDR3VP/ajqMMK0zWAUl8Cvefzgf+iRJUiabBq22c/HDmtvWvNovbAeZmZ6aDwQiobmFSDQRj35IoLFwKIYuRNFQaH4uODuzhIbfBfyvX72MRRYXg++Xo+FkIvEluTI/G/gLyl0WDVNrZPkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Compatibility diagram Nvidia driver vs Cuda\"\n        title=\"\"\n        src=\"/static/e5ef8e0638c6988986f4887061a87e59/a6d36/crazy-data-scientist-diary-day-3-3.png\"\n        srcset=\"/static/e5ef8e0638c6988986f4887061a87e59/222b7/crazy-data-scientist-diary-day-3-3.png 163w,\n/static/e5ef8e0638c6988986f4887061a87e59/ff46a/crazy-data-scientist-diary-day-3-3.png 325w,\n/static/e5ef8e0638c6988986f4887061a87e59/a6d36/crazy-data-scientist-diary-day-3-3.png 650w,\n/static/e5ef8e0638c6988986f4887061a87e59/e548f/crazy-data-scientist-diary-day-3-3.png 975w,\n/static/e5ef8e0638c6988986f4887061a87e59/3c492/crazy-data-scientist-diary-day-3-3.png 1300w,\n/static/e5ef8e0638c6988986f4887061a87e59/29114/crazy-data-scientist-diary-day-3-3.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Next step is CUDA. Go to advanced mode and disable some old payload that comes in the bundle.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; flex:1.3360655737704918;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b0f33e4563f0ae0135ceddd26717868e/5fd3e/crazy-data-scientist-diary-day-3-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.84662576687117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADRUlEQVR42h2S2W/aCBCH3TQJENtgbAMGYkMM5vZBOIwxhmDMlUAop2MaEkiXPqySNKtVV+wmJd2rzUPVPuxjn1b7tO0/WafSNyONNL8ZzQEsF4uXFy+WiwtjrOvDsTEZG/qjPxkP9eHAGI+mxmR68h1j8nyqPzd0M0Ef6LPpFEhxES4X4nNMQggl03v0Hh0kTQtHYqlUTtyvVjKqwhbyXDaXLhaytZJQzMfYeEtPlmv7QDhKxXMEw3r3Iv5gmKT2GDopxIsKX2+k202+qXHaQaIk0WwqGIlE+VQsy7NiujuTCooAuN1uJ4IiiAvFCBcRIGOpZLHEKQqrKFy5nD6oJMV8KB4PMREqEPTt7vqDFBWhfUGaZhjAQzqIsNVN2wkGdbidTq+Pl2WxpvJyMSNJklmIE8JhJpPNxeIJi9W2ub1lAW2b0LaH8gJuH0LQsD/q8kVRXwzFKN/o/Hz56mr2wwtdNw6POu1D03U1rV6tqvVGw0St1ZqHrUwxD9isOyQVjLM86ERhFHf6vder1X9fv/zz+fP9w8OfHz789fHj358+rd8/rH7/4+7dO5Ob29/+/f/L7f0dAIKgA3F6/LsQjsEYhpLeYrs9v77sL87r40m5dywfdcRWS1DVTL2ebzUzmhYpFH5crd7cvwF2QBCGYRfhhXEcxlEn5e0YJz/drfXly8Fi8Wx+fjSdNieTUqdTGw5NysfH+7Xaz2/f3q1vAQiCNp482YEhh8cFYQgaJAqtxvzyarJcNiYTpdvNNRpmZ5Nqv2+KpfZhqdu9/HX16ub6u3hjY9tiQTw4hDmcpEsb9a9Wt6a4fWJU+wO505W7j6ijkWp27vWkTudmvX79y2sAAh/FW9tbdhyBcQTx4ZmqUh/0tP6x1NIKjZqkqWK1KlYrSrMum6FqoupnZ6PRCDAHtu7YYIfdjpmfYt4ZxwMERrpQ0oVRbrsbARFzKyBkRWxbdtCCwBBstVg3nz7FcRwIhmkqFKBC5t8EaCFCp6MBLhxIhQJsKJgKi2X5oK7lCmJCIbJNMiZjTDRSrqiyUhHSaYDj2UQq8QifYHMcV0zz8j5XEFJ5nhOF3mg4m190+88qZ8zRNSufUpJSPJ3Np6cztaZ9A+oNxgtt3oJdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Installation wizard steps\"\n        title=\"\"\n        src=\"/static/b0f33e4563f0ae0135ceddd26717868e/5fd3e/crazy-data-scientist-diary-day-3-4.png\"\n        srcset=\"/static/b0f33e4563f0ae0135ceddd26717868e/222b7/crazy-data-scientist-diary-day-3-4.png 163w,\n/static/b0f33e4563f0ae0135ceddd26717868e/ff46a/crazy-data-scientist-diary-day-3-4.png 325w,\n/static/b0f33e4563f0ae0135ceddd26717868e/5fd3e/crazy-data-scientist-diary-day-3-4.png 594w\"\n        sizes=\"(max-width: 594px) 100vw, 594px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I'm not sure why but I need to <a href=\"https://jax.readthedocs.io/en/latest/developer.html#additional-notes-for-building-jaxlib-from-source-on-windows\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">compile JAX from source</a>. And it's an nuclear mix of Windows and Linux tools. For example</p>\n<blockquote>\n<p>Open PowerShell, and make sure MSYS2 is in the path of the current session</p>\n</blockquote>\n<p>According to my personal beliefs, this is a recipe for disaster 🙉</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a8e41333039eb59504ec19dba2fa7181/29114/crazy-data-scientist-diary-day-3-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACWElEQVR42iXQbU/aUBQH8Ast2Aqlz0+X2ueWFgSHgi7ImCE6pwmLIRNBZJlmMVviPoAfc84XC9PstWYTB4gjW8YK++fkvjg5v3OSCzbKa+nF/PJSsVwsZ/1syvUd27ctz7HTjuXZZqqyXrm8+NS/v7vr3fXue/3B4Eev/+txdNX9ApbzuQXPZ6BMMSzNChTNkhRDEFQsRiQSJI7hqm5ffL68vbm5vf3+877/MHocDkd//06+Xl2D1WUfKpBlSVFgeI4mYlgMj+JzKBoCoRACAJCh0u12h4PhcDAaj/+Mx79HD+PJZHJ9/Q24hV156QXnPeedCmmsE3opYZQIY53SCtE5bIoV/c2H83dn54edk/1m56DZrNfrjUbjVa0G7OpHqXRGr5wS+dNo5hi4HeAegdRb1KwhCBpgVlCs3LOkuSguOELS4jiB53mO44IXmKstaaXN51t0thn3XkftPUSvIcZeRNukaYamKTm5YLkZzXQMK2XYnqbrqqrqum6aJtDnEzxpM1yGofw4X0gIxYT0FFe3MW0Tn58P1ruua5rTUW1qNEVRIIQYhkmSBJzKSXLtJDjO5Np4+jDiHoTtBnDbqLGD43hw2TAMGcqCIATT7CwkSaIoGnSAvfFeKB5TT9rxbAfzWzO8H3aaEX1bFCUIZYZlCYKIzxKdJRQKBX8xxVjqIOIfIe5h2G6F7BawgmoC+whRdwImiiLP8TRF/cdIODyVMyzLMjCyVZiqit4Gl9uF2ZdwcRumqzCzlfTLpqokJd5WYSltplUxbyULhpy35LWMWfS1+tbqPz7IkQ/WcH1wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PowerShell it is\"\n        title=\"\"\n        src=\"/static/a8e41333039eb59504ec19dba2fa7181/a6d36/crazy-data-scientist-diary-day-3-5.png\"\n        srcset=\"/static/a8e41333039eb59504ec19dba2fa7181/222b7/crazy-data-scientist-diary-day-3-5.png 163w,\n/static/a8e41333039eb59504ec19dba2fa7181/ff46a/crazy-data-scientist-diary-day-3-5.png 325w,\n/static/a8e41333039eb59504ec19dba2fa7181/a6d36/crazy-data-scientist-diary-day-3-5.png 650w,\n/static/a8e41333039eb59504ec19dba2fa7181/e548f/crazy-data-scientist-diary-day-3-5.png 975w,\n/static/a8e41333039eb59504ec19dba2fa7181/3c492/crazy-data-scientist-diary-day-3-5.png 1300w,\n/static/a8e41333039eb59504ec19dba2fa7181/29114/crazy-data-scientist-diary-day-3-5.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">python <span class=\"token punctuation\">.</span>\\build\\build<span class=\"token punctuation\">.</span>py `\n  <span class=\"token operator\">--</span>enable_cuda `\n  <span class=\"token operator\">--</span>cuda_path=<span class=\"token string\">'C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v11.3'</span> `\n  <span class=\"token operator\">--</span>cudnn_path=<span class=\"token string\">'C:/Program Files/NVIDIA/CUDNN/v8.4.1.50'</span> `\n  <span class=\"token operator\">--</span>cuda_version=<span class=\"token string\">'11.3'</span> `\n  <span class=\"token operator\">--</span>cudnn_version=<span class=\"token string\">'8.4.1'</span> `\n  <span class=\"token operator\">--</span>bazel_options=<span class=\"token string\">'--local_cpu_resources=1'</span></code></pre></div>\n<p>It's building now. However exception still occurred in the beginning 😬</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/28abb87027fd6c8bcadc9bb2e94bf9e8/29114/crazy-data-scientist-diary-day-3-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAClElEQVR42iWQyU8aYRiHP9MlqRUtIKO4sMoiyFIWGRQGBGuttUhjorVoqIjKol2uPWjsX1OTeqtJmx7spdXa6CAut3ro4sKijMM4MyjQzzb55b097/O+P2DpGW8wD/O0fl7bY16bn6sd4Kj6K5U+rsJrNLSZzXdDT30Lc69fTY6EB7GgH/Nh+m5ra49V5dBLgKH3OccYuqEO3NSMXVMFgPwJkA0DRQA03fN6vd/W1798Xf28srK6toZvJfFEcgNP/Njfj8ZmbnOqgcIVrmsP15rHBZZQlW70liZwSzNSqQuCxi4bavtzkMpkMuc0yxZLxVKJvbikmEK5XJ6bm6+u5gCxM6jwvBA7ojBCdKpKNwZXVBmeVTR57XY0m00zDEPShaPceYqgUwRzeEqx5fL8whsEQYDaExE5os2d0xIsKsFiEmdM1BlpdsS5mkcdnR0npykIE/TFQY4+Ipgjgj7M0SmS/fnr9+LiW6DyToudMbk7LnZGhbZJkSPS1DEFYYFuwI6ip5lUniRJ5vKYYNJnTJpkUmcw9EWx/H0dB3LXREvXLAQQ6wR8u9YSQqyhOjRSo+5HUfQkm4Fmir1Mk2w2z2ZI9oonaPg2juOgxT0tdcWlWEzmjsOz5e4ZmSsm97xEdH4bih5nTvL5PElR2dxZLk8RFE0xLAyEEwkcyNxhiTPaaJ+st4Whk28er9HDzoLXRd3QXChcdUtRFPQXCixDM8UibL30D04AYXtIhM3eMYWBdAhIh//PipZRIPSaTMbl5fcfPn7a2Njc3d3Z2d5OJpNbyeQmju/t7S0tvQPNhj5Bax+ifcA3Dgp0Pr7mIV99n6vuEyhdKrmkXsCTNiBuo8raKnPqlW6DEjOpPe26Lot2qNf+F4vOPuv2umwPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"It&#39;s building now\"\n        title=\"\"\n        src=\"/static/28abb87027fd6c8bcadc9bb2e94bf9e8/a6d36/crazy-data-scientist-diary-day-3-6.png\"\n        srcset=\"/static/28abb87027fd6c8bcadc9bb2e94bf9e8/222b7/crazy-data-scientist-diary-day-3-6.png 163w,\n/static/28abb87027fd6c8bcadc9bb2e94bf9e8/ff46a/crazy-data-scientist-diary-day-3-6.png 325w,\n/static/28abb87027fd6c8bcadc9bb2e94bf9e8/a6d36/crazy-data-scientist-diary-day-3-6.png 650w,\n/static/28abb87027fd6c8bcadc9bb2e94bf9e8/e548f/crazy-data-scientist-diary-day-3-6.png 975w,\n/static/28abb87027fd6c8bcadc9bb2e94bf9e8/3c492/crazy-data-scientist-diary-day-3-6.png 1300w,\n/static/28abb87027fd6c8bcadc9bb2e94bf9e8/29114/crazy-data-scientist-diary-day-3-6.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>The fact that I need to turn my fans to max in this project is bothering me.</p>\n<p>In the end it failed because the compiler was out of heap space 😠</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f4fee8a06a22af0c8c297f2a78e0375c/29114/crazy-data-scientist-diary-day-3-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACiklEQVR42iWQ20/TcBTHf8i4CGrb9b6220rXdgU2NhZkG4Nt7QCjiSYKwsgGQ2AiY2OZD0QCEhmoD14ejfHR4CMxCPESAkEf0FcfTPwf1EeRbTC7kHzzyfecnG9OzgFubUzuHpMCMSkQl7pHK9R9d0LquCayLMcyne2t0eHh/lDgokPwtAhtstkp8W7JctnNAUffrE3NCuFMUzgjqHN8KKN7IZKTfXEZRTEMQxEUhWEURjAjjhpRkqA4zkxh5KBXBG39KVt4VgzrTElaWtbSFa/OWb1RhCBwAqdNJkWSOIYReF6y2SiKRFAjS5CxoAtY/Lfk3izjT6Keccg1dt4Zr1eitc2xRtsVHsdpkmBp2kzTJpLkKIqmaJykcZzgTYzWJgK7Oi1pGX053zPDdt2mOqdYX5INpCztgy0EQZMkjWIEghAwbIThVhxSWdhBIVaKzt1JgpZISgilJbUiOZKpUE0rfTnBH8MoCkMQIwQZIRiDYRiCFQIKc4jThJopanF+HtjD07ZwWtTDWkbWMvrZojoralm+M9p4tsFQVVUNwKnOAFBXbYAgqL62Vi/v5rJADE5ag6mmYIrxJWFX4pxDv3mkRonV8pcmJ8afPH60srK2cD+/tJy/t7Qyv/hgYTmfz689XF1dX38N7KEk1zXN+KYuOOMGaUhP6g8z2EcM5t7t7a1yuXxUKBWPy4Xjk1MdlU6KpZLe//njOzB5pyzBOVPXDOqZaHAk6prjNUrcoCQA07v1blMfOiwUD0uVzL/Syd/icaFc/vX7z8HXb1sbb4CzZ7DZf1P2Dwg9o4J3yOK5YXZfNXuuU/bg02fP9/c/7+zubX7ae/txV+fG+50PXw5evHzVoVgHIq7/rkbETQiEY/sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Control fan speed\"\n        title=\"\"\n        src=\"/static/f4fee8a06a22af0c8c297f2a78e0375c/a6d36/crazy-data-scientist-diary-day-3-7.png\"\n        srcset=\"/static/f4fee8a06a22af0c8c297f2a78e0375c/222b7/crazy-data-scientist-diary-day-3-7.png 163w,\n/static/f4fee8a06a22af0c8c297f2a78e0375c/ff46a/crazy-data-scientist-diary-day-3-7.png 325w,\n/static/f4fee8a06a22af0c8c297f2a78e0375c/a6d36/crazy-data-scientist-diary-day-3-7.png 650w,\n/static/f4fee8a06a22af0c8c297f2a78e0375c/e548f/crazy-data-scientist-diary-day-3-7.png 975w,\n/static/f4fee8a06a22af0c8c297f2a78e0375c/3c492/crazy-data-scientist-diary-day-3-7.png 1300w,\n/static/f4fee8a06a22af0c8c297f2a78e0375c/29114/crazy-data-scientist-diary-day-3-7.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"day-4\" style=\"position:relative;\">Day 4<a href=\"#day-4\" aria-label=\"day 4 permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p><a href=\"https://twitter.com/mikolasan/status/1536923666398580736\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://twitter.com/mikolasan/status/1536923666398580736</a></p>\n<p>I restarted the build process and it advanced further. Now it stopped at the point where library developers do not trust Microsoft developers. I need to lull the build system that we can trust Visual Studio 2022.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cdc26a897d92c3194aa689446c0a992b/29114/crazy-data-scientist-diary-day-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB6UlEQVR42m2QXU8TQRSGmyCYaBSviLTdmdmZ3fmenY/dbmm3pWWpxguNipiUBAhRq0IU+f9XTkFuiJNnTuZinpz3nM6rg7F1njNWFIVS0lljtHYh5DnlkvvaMi0gziDGAKUgTRHGOc1TTBKUdrSgxijGGOdcCME5i1cqRSnLKXXBDqqiKaW3yhTaWl0YLZRAhPSjTEkSHIcQ1YPaWUsIKcuSUZrGk2WhdPOR+9SGZujiu6r+gbOsD1EHwcRbQQhuJpMYGGM8GNRCyrVMSDUI87E/asNkz7tQlMGGYMvyXk5Br3RUcjIe7dEM4xSMhpWWDKcwTihUDCxi7MIIpZUyUhsVWceGaYf7fTVomZ9V07fMHyA9Ja4FagJ4TXLWTcAugC/7MNbuHcmauK31wlh7lR/esMVN3v7hi2t2eP3MnG7y0+fiyDjfA7E/jhHufj8gyj+y+S88u9odreh85d9c6sVqd/h1x33WzkU5SfF/zbUs5ys0vUya79vufJMtH9HlFj/ZoCfb4r22tzJ6KIN7Ot3ht/70987w5wv35Ym5eCzPtuTZBj9/yj4WPsSZbzvj/po00gWoC1EPojh/RzXHulnq/SVvL/LRElXHwL/r+Q+geD1rap4jgoAgUBLkOPGMlDKvjHCSTmr7FzdScHNEvauMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The nvcc flag --allow-unsopported-compiler\"\n        title=\"\"\n        src=\"/static/cdc26a897d92c3194aa689446c0a992b/a6d36/crazy-data-scientist-diary-day-4.png\"\n        srcset=\"/static/cdc26a897d92c3194aa689446c0a992b/222b7/crazy-data-scientist-diary-day-4.png 163w,\n/static/cdc26a897d92c3194aa689446c0a992b/ff46a/crazy-data-scientist-diary-day-4.png 325w,\n/static/cdc26a897d92c3194aa689446c0a992b/a6d36/crazy-data-scientist-diary-day-4.png 650w,\n/static/cdc26a897d92c3194aa689446c0a992b/e548f/crazy-data-scientist-diary-day-4.png 975w,\n/static/cdc26a897d92c3194aa689446c0a992b/3c492/crazy-data-scientist-diary-day-4.png 1300w,\n/static/cdc26a897d92c3194aa689446c0a992b/29114/crazy-data-scientist-diary-day-4.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I was naïve. I should never trust my life to the compiler</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\um\\winbase.h(9531): warning C5105: macro expansion producing 'defined' has undefined behavior\n\nexternal/org_tensorflow/tensorflow/compiler/xla/pjrt/distributed/service.cc(56): error C2398: Element '1': conversion from 'size_t' to 'const Key &amp;' requires a narrowing conversion\n        with\n        [\n            Key=google::protobuf::int32\n        ]</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.8111111111111111;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5746528b739f0ae00d64f7719e2ca8af/fb937/crazy-data-scientist-diary-day-4-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.21472392638037%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACLElEQVR42mPQcisAIm33Qm23Ah33Qk3XfCBSdcrVdi9wiKx3im6wi6hziKxzjKp3iWkw8i3VcAEp0PEsVrNLYlB3yVN2yFZzzlV3zgMioDYNlzxFuyyb0KonT559+/Ll0+fPn758+fDp859//zOqZ0qYp2i55Wu4FirbJDAA7URY7g4kC4AGqznl2YRW37h2/e2r52/evPnw/v27d+////udXTdT1jpd17NI26NY3T6ZAegMCAI6AeJmIFJ2yLEMqrh778H79x/evnv37u27t2/f//39I7ViqrRlmpZrvpZ7kbp9CtDZQJ156mAE1AY0BegKiObXr1//////379/QOLvXyD5P71ymrRlOsgCtyKQn3U9iuAWAj0DIsFss4CyRWt2b959YvOeUxt2HFuz9fDuQ+dCMruAAaTjAfRgsaZDCoMWOIQhloN9XqABckIBkKvikK1kl6VomwFEyvZZQLYKNGhzVZzzVYE2qzlmaLqBAgkY1NJW6SImSfwG8Zza0UDEoxvLrRMDRFw6Mbx6sRxa0cxq4cyq4axq4Szq0Wwq/gyq1ilKQBscsqQsUkHqgNq0QNq4tGOAJBABuUA2h2YUkMGnH8+vH8etAzQ6llM9kEHaOkPBNlPcLEXUNAloG4dWFKtGJIt6BKs6iATaw4RAYXAuo2okq7Ivg7QVKOiB3gCGhIx1uoR5qqBhAtCRAgbx7JpRQAQyTj2CTSMSyIYYyq4Zya4Vw6keAACr2ONTxdrNZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"error C2398\"\n        title=\"\"\n        src=\"/static/5746528b739f0ae00d64f7719e2ca8af/a6d36/crazy-data-scientist-diary-day-4-2.png\"\n        srcset=\"/static/5746528b739f0ae00d64f7719e2ca8af/222b7/crazy-data-scientist-diary-day-4-2.png 163w,\n/static/5746528b739f0ae00d64f7719e2ca8af/ff46a/crazy-data-scientist-diary-day-4-2.png 325w,\n/static/5746528b739f0ae00d64f7719e2ca8af/a6d36/crazy-data-scientist-diary-day-4-2.png 650w,\n/static/5746528b739f0ae00d64f7719e2ca8af/e548f/crazy-data-scientist-diary-day-4-2.png 975w,\n/static/5746528b739f0ae00d64f7719e2ca8af/3c492/crazy-data-scientist-diary-day-4-2.png 1300w,\n/static/5746528b739f0ae00d64f7719e2ca8af/fb937/crazy-data-scientist-diary-day-4-2.png 1820w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Maybe I don't understand bazel, but it always restarts the build from the beginning and very frequently just skyrockets in demand of memory. The Langoliers from JAX.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.7717391304347827;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe693bebab0aa7e48073bbc46dd6125e/29114/crazy-data-scientist-diary-day-4-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACaklEQVR42k2Q2U8TURjFJ4Ylxhi2hAhIaXtnpaVlEQRpOwMzBVlKFQOUQknZKt0JiZHoo0H00ahv+gC++mqEv8XEKLikdIZ21q6h3sHEmJycfLnJL+eci9waC1J0EHcGSOcK7lhG7yxhwwHjgK93fPPb6U9ZllKpVJrnNU3L5/OyolQqlVfvPjZbZ7xDGGJxR41MEue2URYqSY3tYOy2kY4PzD798vXH6ckJzwv5XKFSrhRzpWKhDOE3B8dNvcF5rhshmJDBEcbZOMpEKS4BHTARbCQ2OLt78uu7KGZVSYOYnJVFQVTlHITfHhw1963Yuqw6bGZi6EgMG41DJ9gEySUAE+2/95gXeFVRMkJWzsiapGlyTs5c1n7/qd62hGMoAlwhEx0105G/MKxAubcBE9Phs5QiS+K5qIhqQSuWC2VNyevJh0cN9mUAMASlQwSXNDi2THTE5Ip0OMOkO9k+vNV/fzctZHKaKvBCOp1WVeXfh70+/Fxv8wMUQ4iRhzDH6AwTbByGm5kowSXMdLR7+tHvs3NFUbOSIklSqVS6uLgoFkt68oejOlibIBCKi8DNcCSEYTg8YHl9PJeYCD6b3tj3bLzwhl56NvYnVvcm1/em1p8PPXjSMbxpNAGEZGHbcNvQZlPfai25eAWbryF8Vzv91fgCFLwvfaGaWKjC5uENvZb0X7P4AABIy+11jN0xOGOtg1t1PWvXu9dqO1dqqEAVFUDAoi70f/l1h4+mOWA2I13OuR5myeryUaNB0rFs6PG22KZb7Z42u6fZMnXDOtlE3m0gxhuJ8QZ8rBF3t1gn2+0zN7umONfgH0v6Hw98eTkTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"memory spike\"\n        title=\"\"\n        src=\"/static/fe693bebab0aa7e48073bbc46dd6125e/a6d36/crazy-data-scientist-diary-day-4-3.png\"\n        srcset=\"/static/fe693bebab0aa7e48073bbc46dd6125e/222b7/crazy-data-scientist-diary-day-4-3.png 163w,\n/static/fe693bebab0aa7e48073bbc46dd6125e/ff46a/crazy-data-scientist-diary-day-4-3.png 325w,\n/static/fe693bebab0aa7e48073bbc46dd6125e/a6d36/crazy-data-scientist-diary-day-4-3.png 650w,\n/static/fe693bebab0aa7e48073bbc46dd6125e/e548f/crazy-data-scientist-diary-day-4-3.png 975w,\n/static/fe693bebab0aa7e48073bbc46dd6125e/3c492/crazy-data-scientist-diary-day-4-3.png 1300w,\n/static/fe693bebab0aa7e48073bbc46dd6125e/29114/crazy-data-scientist-diary-day-4-3.png 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>So in the nutshell</p>\n<ol>\n<li>install requirements</li>\n<li>clone jax</li>\n<li>switch to a specific tag</li>\n<li>ignore new compilers</li>\n<li>fix type conversion</li>\n<li>compile with options that make build process more stable (hint: use only one CPU)</li>\n<li>install the wheel and the module (the same version)</li>\n<li>install also from sources <a href=\"https://github.com/borisdayma/dalle-mini\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">dalle-mini</a> (0.1.1) and flax (0.5.2)</li>\n</ol>\n<p>Links:</p>\n<ul>\n<li><a href=\"https://github.com/google/jax#installation\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://github.com/google/jax#installation</a></li>\n<li><a href=\"https://jax.readthedocs.io/en/latest/developer.html#building-from-source\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://jax.readthedocs.io/en/latest/developer.html#building-from-source</a></li>\n</ul>\n<h2 id=\"day-5\" style=\"position:relative;\">Day 5<a href=\"#day-5\" aria-label=\"day 5 permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>I've installed <a href=\"https://github.com/alacritty/alacritty\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Alacritty terminal</a> on Windows and more than happy with it.</p>\n<ul>\n<li>it's configurable</li>\n<li>it's portable (only 4MB)</li>\n<li>it runs on GPU</li>\n<li>it supports emoji and color output</li>\n</ul>\n<p>But inside you still have cmd.exe or powershell.</p>\n<p>Here is my config <code class=\"language-text\">%APPDATA%\\alacritty\\alacritty.yml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Configuration for Alacritty, the GPU enhanced terminal emulator.</span>\n\n<span class=\"token key atrule\">window</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.9</span>\n  <span class=\"token key atrule\">dimensions</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">columns</span><span class=\"token punctuation\">:</span> <span class=\"token number\">120</span>\n    <span class=\"token key atrule\">lines</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>\n\n  <span class=\"token key atrule\">padding</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">x</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token key atrule\">y</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n\n  <span class=\"token key atrule\">decorations</span><span class=\"token punctuation\">:</span> full\n\n<span class=\"token comment\"># Font configuration</span>\n<span class=\"token key atrule\">font</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Normal (roman) font face</span>\n  <span class=\"token key atrule\">normal</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">family</span><span class=\"token punctuation\">:</span> Source Code Pro\n\n    <span class=\"token comment\"># The `style` can be specified to pick a specific face.</span>\n    <span class=\"token key atrule\">style</span><span class=\"token punctuation\">:</span> Medium\n  <span class=\"token key atrule\">size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">13.0</span>\n<span class=\"token key atrule\">colors</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Default colors</span>\n  <span class=\"token key atrule\">primary</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">background</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#000000'</span>\n    <span class=\"token key atrule\">foreground</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#eaeaea'</span>\n\n<span class=\"token key atrule\">selection</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">save_to_clipboard</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">program</span><span class=\"token punctuation\">:</span> cmd.exe\n  <span class=\"token key atrule\">args</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> /k \"C<span class=\"token punctuation\">:</span>\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\Tools\\VsDevCmd.bat\"\n\n<span class=\"token key atrule\">working_directory</span><span class=\"token punctuation\">:</span> C<span class=\"token punctuation\">:</span>\\Users\\neupo\\\n</code></pre></div>\n<p>The command to build TensorFlow</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">bazel build <span class=\"token operator\">--</span>local_ram_resources=4096 <span class=\"token operator\">--</span>local_cpu_resources=1 <span class=\"token operator\">--</span>config=opt <span class=\"token operator\">--</span>config=cuda <span class=\"token operator\">--</span>copt=<span class=\"token operator\">-</span>nvcc_options=<span class=\"token function\">disable-warnings</span> <span class=\"token operator\">--</span><span class=\"token keyword\">define</span>=no_tensorflow_py_deps=true <span class=\"token operator\">/</span><span class=\"token operator\">/</span>tensorflow/tools/pip_package:build_pip_package</code></pre></div>\n<p>Think about <code class=\"language-text\">/arch:AVX2</code> (<a href=\"https://docs.microsoft.com/en-us/cpp/build/reference/arch-x64?view=msvc-170\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">MSVC compiler reference about the <code class=\"language-text\">/arch</code> option</a>)</p>\n<p>A usual finale of this evening is a long output of errors but this time I was <a href=\"/blog/build-rocm-from-source\">compiling ROCM on Linux</a>. However, you can simply enjoy more Source Pro font samples.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.1897810218978102;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ea194b3dd60735828e696c008218725b/bb051/alacritty-showcase.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.04907975460122%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACS0lEQVR42k2T6WLaMBCETTC2ZRx8X5JvoP/CkVBoerz/a/WT1CRdFiEL7e7M7Nr58/vnr/cfj++3t+vl/XG/397sej69XKyfT8ZfrufT6/Xyejlrv14e95uTxFiS53mSpmmWsc/SnN1m47l8PY9lvV5vNhtW5z/jL6dv20nbvF/2fd/PxqZ57vthnpfj8ai6Ls1yKVXTtGVZFUVZlGWWF0p1jlSKS72xuq6HYSCMS0qRVnZdr5Sq66aqKill3WAcy6IoqOHwQA5iuLQsezCM49jUTVFWeV5WVZ3nRbSNnrQBfO26rsWvYZN1GEfCgDeO0/HwDcyAHKeJQ1KDuZXqcDiCYpxmu6mqhqQOMgGjbVuQgKksyzhJKBVFz0IIz/NxPxBBIPj5dA65oYOfn3da8SQhPjHGiRCh7+tgNtZdd0MKxP9Sm1IQs5WRSqshJfKAioYVuRZ2qzmvrcMa9ibYJ7iyXUEweNIbNFNSQZn+ac5pZsVnresWwsiUJClYHR4IRmFWjE3XddSnMi2N45R7hHGSZTlh7CEVRTstGAg5BbxW7kM2AoEaiJB1t4shDNTVSoNm/eJMAmJ6A4aylKZnoAUR1UhEasQkSxhu8Z3REuZCBHpIaC8fOMOA3g79gIQ8wRmadjaX/UE3n0bPCxszc7UDTzDTHrqlW6XfDl6PWASCahSh4ZEpa9vGCnI8DENH61IUhm0JCjvDjH5gBgOSQRDidjZMMH1efbxVfQ9oLXBbLsvEI6MTBFw15vn/9nrUPP2r382nrQjTNP0L82tQzaM9DJwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Alacritty showcase\"\n        title=\"\"\n        src=\"/static/ea194b3dd60735828e696c008218725b/a6d36/alacritty-showcase.png\"\n        srcset=\"/static/ea194b3dd60735828e696c008218725b/222b7/alacritty-showcase.png 163w,\n/static/ea194b3dd60735828e696c008218725b/ff46a/alacritty-showcase.png 325w,\n/static/ea194b3dd60735828e696c008218725b/a6d36/alacritty-showcase.png 650w,\n/static/ea194b3dd60735828e696c008218725b/e548f/alacritty-showcase.png 975w,\n/static/ea194b3dd60735828e696c008218725b/bb051/alacritty-showcase.png 1212w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","excerpt":"Prompt for generating a featured picture: cat cosmonaut floating in deep space with colorful nebulas on the background Crazy data scientist…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#crazy-data-scientist-diary\">Crazy data scientist diary</a></p>\n<ul>\n<li><a href=\"#day-3\">Day 3</a></li>\n<li><a href=\"#day-4\">Day 4</a></li>\n<li><a href=\"#day-5\">Day 5</a></li>\n</ul>\n</li>\n</ul>","fields":{"socialcard":"gatsby-plugin-social-card/9b9fe0b4-a812-5db6-869d-772cca3fcf79.jpg"},"frontmatter":{"date":"June 23, 2022","published":"August 20, 2022","lastModified":"September 08, 2022","title":"How to run DALL-E locally","subtitle":null,"section":null,"draft":null,"developing":null,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":{"publicURL":"/static/84617ad1fa7163dff679b5dbb86450aa/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.png","childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#080808","images":{"fallback":{"src":"/static/84617ad1fa7163dff679b5dbb86450aa/840b5/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.png","srcSet":"/static/84617ad1fa7163dff679b5dbb86450aa/2eca7/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.png 576w,\n/static/84617ad1fa7163dff679b5dbb86450aa/840b5/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.png 739w","sizes":"100vw"},"sources":[{"srcSet":"/static/84617ad1fa7163dff679b5dbb86450aa/6e7cd/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.webp 576w,\n/static/84617ad1fa7163dff679b5dbb86450aa/d28f0/a_cat_in_a_cosmonaut_costume_floating_in_deep_space_with_colorful_nebulas_on_the_background.webp 739w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1.0027063599458728}}}}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/how-to-run-dalle-locally.md","url":"/science/how-to-run-dalle-locally","next":{"excerpt":"So why we don't have planes that flap wings? I found my files from 2010. Back then I found Brodsky's monograph [1988] (picture from the book…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/insect-flight.md","frontmatter":{"title":"Insect flight","date":"2022-07-28T00:00:00.000Z","topic":null,"article":null},"id":"a0827598-e3a0-5d18-ab44-af7d3b6287fa"},"previous":{"excerpt":"My plan is to play with CycleGAN and to read 2 papers [2018] Large Scale GAN Training for High Fidelity Natural Image Synthesis [201…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/cycle-gan-intro.md","frontmatter":{"title":"Intro to CycleGAN","date":"2022-06-07T00:00:00.000Z","topic":null,"article":null},"id":"cad4a2e7-eb8b-51f9-8112-41af62ac9896"},"recentArticles":[{"excerpt":"Infinite zoom Yes, let's make an infinite zoom in real time in the browser using WebGL and shaders. Limited precision of floating point…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/mandelbrot.md","frontmatter":{"title":"Mandelbrot","date":"2025-08-03T00:00:00.000Z","topic":null,"article":null},"id":"50df8845-e3c8-53e2-889f-30490e52a353"},{"excerpt":"Today I came up with another weird combination. How can I use Reed-Solomon error correction on directed acyclic graph? In another words…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/reed-solomon-codes-in-neural-networks.md","frontmatter":{"title":"Reed Solomon Codes in Neural Networks","date":"2023-08-16T00:00:00.000Z","topic":null,"article":null},"id":"5fa2845a-3361-5ab4-bc19-d89c6598f044"},{"excerpt":"You can find this in many scientific papers, common phrases indicating that the proper explanation is skipped, here sorted in the growing…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/as-always-no-explanation.md","frontmatter":{"title":"As always - no explanation","date":"2023-06-04T00:00:00.000Z","topic":null,"article":null},"id":"cbdf4071-1dc6-521c-b9eb-e67b0840a8fa"},{"excerpt":"⚠️ Work in progress ⚠️ Load images I'm using TensorFlow and I need to scale black and white image from 512x512 pixels stored in  to 128x9…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/cycle-gan-pixelation.md","frontmatter":{"title":"Pixelate images with CycleGAN","date":"2023-04-11T00:00:00.000Z","topic":null,"article":null},"id":"4ba80532-4f51-5341-835c-2b57b4537a56"},{"excerpt":"First, I got carried away with researching what a Dyck language is. I was damn certain that some geeks already released an online service…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/science/dyck-language-converter.md","frontmatter":{"title":"Dyck language converter","date":"2023-02-02T00:00:00.000Z","topic":null,"article":null},"id":"97734e6a-4bae-55ee-9de1-0efd1ff0bfdd"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}