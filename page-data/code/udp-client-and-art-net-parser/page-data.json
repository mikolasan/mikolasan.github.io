{"componentChunkName":"component---src-templates-blog-template-js","path":"/code/udp-client-and-art-net-parser","result":{"data":{"markdownRemark":{"html":"<p>My own UDP client and Art-Net parser</p>\n<p>First we use a tool like <a href=\"https://resolume.com/download/files?file=Resolume_Arena_7_5_0_rev_77960_Installer.exe\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Resolume</a> or LED Strip Studio</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; flex:1.3697478991596639;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4f654d937cdfe8dcfdd68815aa3fa7d8/67a79/capture-art-net.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.00613496932516%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADiElEQVR42i2SfUwbZRzHn0I7UXHGzL3ZleDuSqXttam0sK6ZG+OlLS8TNrIoOsmcM1MzozG4gZiYjEQ0MS6LiYlCfBsb8Q/EZWb/yWammVParhR6veu115d7o72Oo+2NttDzwH1+z5M8/3ye7x+/L3jDoDU9bzEZDfV6Xb3egCAGE2KEIejEwOmpqz9fmZycujp15fLk5R9/+uG7iYnx8Wu/zuAEjoexEBoCAx37nG2HO50Hj7ibnS3Nna5DrrZDjY3WsbGxaDyBomgymaAZikomg8EAQURxkggvk1SWY1MZAOv0MLQXhmAY1r5mtx93d/S6Ohv0+sEPh5MrIkenBUGSpHJZkmhaYmkJi96/OU/eWqCDdBaoVCoFqNhSoQQAdBzpHhw+33/mZet+y8nXT69kGY5eyosbsnwZRmIoKZLI3gzEfw9QIUYESpVSCaoeqaiS5eMOx4W+vs8aPunTuN8afC+zzFMJLsOXy+slqbzGMespTqJY8fZifHaBRtn8RvIWUKkClbJ8tA4etTu+hQZP1XW9M3I+I4hUMo6TtAejvTi1QHLBGHcrkLg+F5uVk7lNWdYqgAIoFLXbnjI/s90KIZraurNfXhLFQpJm7vixX/7w3/gbvf7n/I2/7v12Z/E2ys4ubiZXVT8OlJXyUagqd6l3a3bv0OzYtfXRrW+++/FiLOXBqLl5NOj3ElgwxdIr9/mCmBULa54wE4wtAWeT3W1rPGZ3nGh3fWSzfepyvTpwsrer55tLX2NYaCEQ8Pn8vnt+DMNYlisUiqXSWv7BKiXvLhEHb+9/+hTy2PuW6lFH9TlDTc8rZ9q/mLIf6//q4kWez6TT6TAR/XfOi+HhNM8/WJUp5FcL8iOXywFjw85aXbUWeRI2P9HW7tjj6t9p2re9znT23IisxmIxMhYPolgIw9mlVJrPZJaFbE4slUqCIACouVtjOQA5OrQHelvd3RabDXG01LzQNTz6OUMlgyhKRqNhGSIsCCulUnF9fW2jMZKUzWaBBTGbDYjVbLGaLK0th82IUa64ei88NDTEciwaCpEkieFymf+XH1Iul/P5PEDq9fI8p9NptdqDTU1uZ+tLLe3bntV/MHKB59MYjsXicSJCRCKRXD73sKib0cViERztftFoMu2pqYEgSK1W9/T2zExPj098Pz1zzevz/XP3rtfr8cr4PDiOyV+EN4lEiFAI/Q+MghHKDR7tigAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot of the capturing process where Wireshark and LED Strip Studio are open\"\n        title=\"\"\n        src=\"/static/4f654d937cdfe8dcfdd68815aa3fa7d8/a6d36/capture-art-net.png\"\n        srcset=\"/static/4f654d937cdfe8dcfdd68815aa3fa7d8/222b7/capture-art-net.png 163w,\n/static/4f654d937cdfe8dcfdd68815aa3fa7d8/ff46a/capture-art-net.png 325w,\n/static/4f654d937cdfe8dcfdd68815aa3fa7d8/a6d36/capture-art-net.png 650w,\n/static/4f654d937cdfe8dcfdd68815aa3fa7d8/e548f/capture-art-net.png 975w,\n/static/4f654d937cdfe8dcfdd68815aa3fa7d8/3c492/capture-art-net.png 1300w,\n/static/4f654d937cdfe8dcfdd68815aa3fa7d8/67a79/capture-art-net.png 1408w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Then we capture UDP packets from the software with the following wireshark capture settings:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">udp and src host 192.168.0.4 and port 6454</code></pre></div>\n<p>Wireshark saves packets in pcap format, then we will use pcap library to read them and then we need to parse Art-Net structures, make a few changes and send to LED controller. Yes, controller, not LED strip directly. It can be a specialized device like DMX King or Arduino board with <a href=\"https://www.arduino.cc/reference/en/libraries/artnet/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">Art-Net library</a> like <a href=\"https://github.com/rstephan/ArtnetWifi\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">ArtneWifi</a></p>\n<h2 id=\"artnewifi\" style=\"position:relative;\">ArtneWifi<a href=\"#artnewifi\" aria-label=\"artnewifi permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">Udp<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span>ART_NET_PORT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The <code class=\"language-text\">Udp</code> object implementation depends on what board is selected in Arduino IDE. For Wemos W1 the<a href=\"https://github.com/esp8266/Arduino/tree/master/libraries/ESP8266WiFi\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">ESP8266WiFi</a> library is used.\nThere in <strong>WiFiUdp.cpp</strong> we find implementation of the <code class=\"language-text\">begin</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">uint8_t</span> <span class=\"token class-name\">WiFiUDP</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">uint16_t</span> port<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_ctx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    _ctx<span class=\"token operator\">-></span><span class=\"token function\">unref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    _ctx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  _ctx <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> UdpContext<span class=\"token punctuation\">;</span>\n  _ctx<span class=\"token operator\">-></span><span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>_ctx<span class=\"token operator\">-></span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token function\">IPAddress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>where the <code class=\"language-text\">listen</code> function is defined in <a href=\"https://github.com/esp8266/Arduino/blob/da6ec83b5fdbd5b02f04cf143dcf8e158a8cfd36/libraries/ESP8266WiFi/src/include/UdpContext.h\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\"><strong>UdpContext.h</strong></a></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">bool</span> <span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> IPAddress<span class=\"token operator\">&amp;</span> addr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">uint16_t</span> port<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token function\">udp_recv</span><span class=\"token punctuation\">(</span>_pcb<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>_s_recv<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  err_t err <span class=\"token operator\">=</span> <span class=\"token function\">udp_bind</span><span class=\"token punctuation\">(</span>_pcb<span class=\"token punctuation\">,</span> addr<span class=\"token punctuation\">,</span> port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> err <span class=\"token operator\">==</span> ERR_OK<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The <code class=\"language-text\">udp_</code> functions seem to come from <a href=\"https://www.nongnu.org/lwip/2_1_x/group__udp__raw.html#gac7fbda8b12b9b9360e92b51e805e799e\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\"><strong>lwip</strong></a> (<a href=\"https://github.com/stm32duino/LwIP/blob/main/src/core/udp.c\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">mirror</a>)</p>\n<p>Compare it with implementation of <code class=\"language-text\">UDP.begin</code> for <a href=\"https://github.com/arduino-libraries/WiFi101/blob/21aeca0d82d1f8939b4b1c2790213921be47e5c5/src/WiFiUdp.cpp\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">another board</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">uint8_t</span> <span class=\"token class-name\">WiFiUDP</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">uint16_t</span> port<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">struct</span> <span class=\"token class-name\">sockaddr_in</span> addr<span class=\"token punctuation\">;</span>\n\tuint32 u32EnableCallbacks <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n\t_sndSize <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t_parsedPacketSize <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Initialize socket address structure.</span>\n\taddr<span class=\"token punctuation\">.</span>sin_family <span class=\"token operator\">=</span> AF_INET<span class=\"token punctuation\">;</span>\n\taddr<span class=\"token punctuation\">.</span>sin_port <span class=\"token operator\">=</span> <span class=\"token function\">_htons</span><span class=\"token punctuation\">(</span>port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\taddr<span class=\"token punctuation\">.</span>sin_addr<span class=\"token punctuation\">.</span>s_addr <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_socket <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> WiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">bound</span><span class=\"token punctuation\">(</span>_socket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tWiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span>_socket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t_socket <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">// Open UDP server socket.</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>_socket <span class=\"token operator\">=</span> WiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>AF_INET<span class=\"token punctuation\">,</span> SOCK_DGRAM<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\tWiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">setopt</span><span class=\"token punctuation\">(</span>_socket<span class=\"token punctuation\">,</span> SOL_SOCKET<span class=\"token punctuation\">,</span> SO_SET_UDP_SEND_CALLBACK<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>u32EnableCallbacks<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// Bind socket:</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>WiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>_socket<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">sockaddr</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;</span>addr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">sizeof</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">struct</span> <span class=\"token class-name\">sockaddr_in</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tWiFiSocket<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span>_socket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t_socket <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://learn.adafruit.com/sipping-power-with-neopixels/putting-it-all-together\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://learn.adafruit.com/sipping-power-with-neopixels/putting-it-all-together</a></p>\n<h2 id=\"dmx512\" style=\"position:relative;\">DMX512<a href=\"#dmx512\" aria-label=\"dmx512 permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>Send/receive DMX on Arduino</p>\n<ul>\n<li><a href=\"https://www.mischianti.org/2020/05/11/interface-arduino-esp8266-esp32-rs-485/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.mischianti.org/2020/05/11/interface-arduino-esp8266-esp32-rs-485/</a></li>\n<li><a href=\"https://tigoe.github.io/DMX-Examples/arduinodmx.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://tigoe.github.io/DMX-Examples/arduinodmx.html</a></li>\n<li><a href=\"http://www.mathertel.de/Arduino/DMXSerial.aspx\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">http://www.mathertel.de/Arduino/DMXSerial.aspx</a></li>\n<li><a href=\"https://github.com/mathertel/DMXSerial/blob/master/examples/DmxSerialNeoPixels/DmxSerialNeoPixels.ino\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://github.com/mathertel/DMXSerial/blob/master/examples/DmxSerialNeoPixels/DmxSerialNeoPixels.ino</a></li>\n</ul>\n<h2 id=\"artnet\" style=\"position:relative;\">ArtNet<a href=\"#artnet\" aria-label=\"artnet permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>Send/receive Art-Net on Arduino</p>\n<ul>\n<li>choose one <a href=\"http://dmxking.com/m/support/13-control-software/80-artnet-sacn-software\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">http://dmxking.com/m/support/13-control-software/80-artnet-sacn-software</a></li>\n<li><a href=\"https://artisticlicence.com/product/dmx-workshop/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://artisticlicence.com/product/dmx-workshop/</a></li>\n<li><a href=\"https://learn.sparkfun.com/tutorials/using-artnet-dmx-and-the-esp32-to-drive-pixels/all\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://learn.sparkfun.com/tutorials/using-artnet-dmx-and-the-esp32-to-drive-pixels/all</a></li>\n</ul>\n<h2 id=\"udp\" style=\"position:relative;\">UDP<a href=\"#udp\" aria-label=\"udp permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<ul>\n<li><a href=\"https://arduino-esp8266.readthedocs.io/en/latest/esp8266wifi/udp-examples.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://arduino-esp8266.readthedocs.io/en/latest/esp8266wifi/udp-examples.html</a></li>\n<li><a href=\"https://wiki.python.org/moin/UdpCommunication\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://wiki.python.org/moin/UdpCommunication</a></li>\n<li><a href=\"https://github.com/cpvalente/stupidArtnet/blob/b24f5939b8d14371511e3544721b01a673340882/stupidArtnet/StupidArtnet.py#L16\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://github.com/cpvalente/stupidArtnet/blob/b24f5939b8d14371511e3544721b01a673340882/stupidArtnet/StupidArtnet.py#L16</a></li>\n<li><a href=\"https://www.qlcplus.org/index.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.qlcplus.org/index.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24559909/sending-string-over-udp-in-c\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://stackoverflow.com/questions/24559909/sending-string-over-udp-in-c</a></li>\n<li><a href=\"https://gist.github.com/mikolasan/adfa10849aae8d940a6caea018422f17\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://gist.github.com/mikolasan/adfa10849aae8d940a6caea018422f17</a></li>\n<li><a href=\"https://gist.github.com/jimfinnis/6823802\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://gist.github.com/jimfinnis/6823802</a></li>\n<li><a href=\"https://www.educative.io/edpresso/how-to-implement-udp-sockets-in-c\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.educative.io/edpresso/how-to-implement-udp-sockets-in-c</a></li>\n</ul>\n<h3 id=\"pcap\" style=\"position:relative;\">PCAP<a href=\"#pcap\" aria-label=\"pcap permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h3>\n<ul>\n<li>library <a href=\"https://github.com/the-tcpdump-group/libpcap\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://github.com/the-tcpdump-group/libpcap</a></li>\n<li>examples <a href=\"https://www.tcpdump.org/pcap.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.tcpdump.org/pcap.html</a></li>\n<li>very good example <a href=\"https://elf11.github.io/2017/01/22/libpcap-in-C.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://elf11.github.io/2017/01/22/libpcap-in-C.html</a></li>\n<li>documentation <a href=\"https://www.tcpdump.org/manpages/pcap.3pcap.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.tcpdump.org/manpages/pcap.3pcap.html</a></li>\n<li>how to read pcap example <a href=\"https://www.rhyous.com/2011/11/13/how-to-read-a-pcap-file-from-wireshark-with-c/\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://www.rhyous.com/2011/11/13/how-to-read-a-pcap-file-from-wireshark-with-c/</a></li>\n<li>how to read pcap question <a href=\"https://stackoverflow.com/questions/36218278/reading-a-tcpdump-file-with-c\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://stackoverflow.com/questions/36218278/reading-a-tcpdump-file-with-c</a></li>\n</ul>\n<p>python is so easy <a href=\"https://gist.github.com/gerkey/bf749775e6bc600368b97ce3d9f113e5\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://gist.github.com/gerkey/bf749775e6bc600368b97ce3d9f113e5</a>\nIP Adress from string <a href=\"https://github.com/arduino/ArduinoCore-API/blob/master/api/IPAddress.cpp\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://github.com/arduino/ArduinoCore-API/blob/master/api/IPAddress.cpp</a></p>\n<h3 id=\"udp-broadcast\" style=\"position:relative;\">UDP broadcast<a href=\"#udp-broadcast\" aria-label=\"udp broadcast permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h3>\n<p><code class=\"language-text\">255.255.255.255</code> would be considered the phsyical layer broadcast address while <code class=\"language-text\">192.168.1.255</code> would be considered the network layer broadcast address.</p>\n<p><em>c++ udp send broadcast permission denied</em></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/337422/how-to-udp-broadcast-with-c-in-linux\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://stackoverflow.com/questions/337422/how-to-udp-broadcast-with-c-in-linux</a></li>\n<li><a href=\"https://man7.org/linux/man-pages/man3/setsockopt.3p.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">https://man7.org/linux/man-pages/man3/setsockopt.3p.html</a></li>\n</ul>\n<h2 id=\"as-a-service\" style=\"position:relative;\">As a service<a href=\"#as-a-service\" aria-label=\"as a service permalink\" class=\"with-anchor after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\">\n                <path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3\n                3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3\n                  9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64\n                  1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\">\n                </path>\n                </svg></a></h2>\n<p>I'm going to add a TCP client socket to my PCAP reader/UDP sender which will add it to the mesh of services. I use <strong>zmq</strong> library for that, specifically a <a href=\"https://brettviren.github.io/cppzmq-tour/index.html\" target=\"_blank\" rel=\"external nofollow noopener noreferrer\">C++ wrapper</a></p>","excerpt":"My own UDP client and Art-Net parser First we use a tool like Resolume or LED Strip Studio  Then we capture UDP packets from the software…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#artnewifi\">ArtneWifi</a></p>\n</li>\n<li>\n<p><a href=\"#dmx512\">DMX512</a></p>\n</li>\n<li>\n<p><a href=\"#artnet\">ArtNet</a></p>\n</li>\n<li>\n<p><a href=\"#udp\">UDP</a></p>\n<ul>\n<li><a href=\"#pcap\">PCAP</a></li>\n<li><a href=\"#udp-broadcast\">UDP broadcast</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#as-a-service\">As a service</a></p>\n</li>\n</ul>","fields":{"socialcard":"gatsby-plugin-social-card/7a7ec547-de20-5bbe-b25d-173ed9bda93f.jpg"},"frontmatter":{"date":"September 21, 2021","published":"October 13, 2021","lastModified":"October 13, 2021","title":"UDP client and Art-Net parser","subtitle":null,"section":null,"draft":null,"developing":null,"buttonText":null,"buttonLink":null,"secondButtonText":null,"secondButtonLink":null,"featuredImage":null}}},"pageContext":{"showLikes":true,"absolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/udp-client-and-art-net-parser.md","url":"/code/udp-client-and-art-net-parser","next":{"excerpt":"Let's take a look on slightly different implementations of Fisher-Yates shuffle algorithm. ESBench  MeasureThat  Benchmarks ESBench https…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/shuffle-algorithm-performance.md","frontmatter":{"title":"Shuffle algorithm performance in JavaScript","date":"2021-09-30T00:00:00.000Z","topic":null,"article":null},"id":"2911b6ff-53e0-5046-bfb3-3a9ee22e7b03"},"previous":{"excerpt":"In Node.js everything executed in one thread, but it's important to ensure that the order of operations is maintained when using async/await…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/how-to-avoid-race-conditions-in-nodejs.md","frontmatter":{"title":"How to avoid race conditions in Node.js?","date":"2021-09-09T00:00:00.000Z","topic":null,"article":null},"id":"a128fa4c-a570-54ad-9c16-9f34a0ea17c8"},"recentArticles":[{"excerpt":"Then here is the list of alternatives Intel-IPP Links: https://software.intel.com/en-us/intel-ipp , https://github.com/intel/ipp-crypto…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/if-you-hate-openssl.md","frontmatter":{"title":"If you hate OpenSSL","date":"2024-05-10T00:00:00.000Z","topic":null,"article":null},"id":"0c36d8cc-31d2-582b-9929-51cf8bed8920"},{"excerpt":"cool thing for the background (play it together with egzod - royalty) nice globe  Cool WebGL examples (no code, sad)","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/webgl.md","frontmatter":{"title":"WebGL","date":"2023-07-17T00:00:00.000Z","topic":null,"article":null},"id":"1bbe4c4e-2cc1-5fec-a2ca-b8cefdbfc6ee"},{"excerpt":"Check that you have ESLint extension installed. (Optional) While you are playing with linters and VS Code extensions, you can think about a…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/eslint-for-gatsby-howto.md","frontmatter":{"title":"ESLint in VS Code for Gatsby 5 blog","date":"2023-05-29T00:00:00.000Z","topic":null,"article":null},"id":"5953c80a-01e6-56c1-985e-bb9c0b1f340b"},{"excerpt":"The reason behind \"connect, disconnect and then connect again\" behavior might be that the old socket was still listening because it was half…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/how-to-close-tcp-socket-in-nodejs.md","frontmatter":{"title":"How to close TCP socket in Node.js","date":"2023-02-02T00:00:00.000Z","topic":null,"article":null},"id":"e7b7740f-e7b4-565f-a843-05bf8c27fda3"},{"excerpt":"When does verification happen? From this wiki it seems like the get function does it. What security level to use? https://www.openssl.org…","fileAbsolutePath":"/home/runner/work/mikolasan.github.io/mikolasan.github.io/src/markdown/code/ssl-tls-client-socket-with-openssl.md","frontmatter":{"title":"SSL/TLS client socket with OpenSSL","date":"2023-01-26T00:00:00.000Z","topic":null,"article":null},"id":"1f2b456a-3ea6-5863-a966-8579f11b39bd"}]}},"staticQueryHashes":["2961657013","447685113"],"slicesMap":{}}