/*! For license information please see component---src-pages-calabi-manifold-js-abc691f9125946e3bb93.js.LICENSE.txt */
(self.webpackChunkgatsby_mikolasan_blog=self.webpackChunkgatsby_mikolasan_blog||[]).push([[584],{7334:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},3996:function(e){!function(){"use strict";var t={s:1,n:0,d:1};function n(e,t){if(isNaN(e=parseInt(e,10)))throw l();return e*t}function r(e,t){if(0===t)throw u();var n=Object.create(s.prototype);n.s=e<0?-1:1;var r=o(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function i(e){for(var t={},n=e,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var a=function(e,r){var i,a=0,o=1,s=1,f=0,h=0,d=0,p=1,m=1,g=0,v=1,y=1,D=1,w=1e7;if(null==e);else if(void 0!==r){if(s=(a=e)*(o=r),a%1!=0||o%1!=0)throw c()}else switch(typeof e){case"object":if("d"in e&&"n"in e)a=e.n,o=e.d,"s"in e&&(a*=e.s);else{if(!(0 in e))throw l();a=e[0],1 in e&&(o=e[1])}s=a*o;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)a=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));v<=w&&D<=w;){if(e===(i=(g+y)/(v+D))){v+D<=w?(a=g+y,o=v+D):D>v?(a=y,o=D):(a=g,o=v);break}e>i?(g+=y,v+=D):(y+=g,D+=v),v>w?(a=y,o=D):(a=g,o=v)}a*=m}else(isNaN(e)||isNaN(r))&&(o=a=NaN);break;case"string":if(null===(v=e.match(/\d+|./g)))throw l();if("-"===v[g]?(s=-1,g++):"+"===v[g]&&g++,v.length===g+1?h=n(v[g++],s):"."===v[g+1]||"."===v[g]?("."!==v[g]&&(f=n(v[g++],s)),(++g+1===v.length||"("===v[g+1]&&")"===v[g+3]||"'"===v[g+1]&&"'"===v[g+3])&&(h=n(v[g],s),p=Math.pow(10,v[g].length),g++),("("===v[g]&&")"===v[g+2]||"'"===v[g]&&"'"===v[g+2])&&(d=n(v[g+1],s),m=Math.pow(10,v[g+1].length)-1,g+=3)):"/"===v[g+1]||":"===v[g+1]?(h=n(v[g],s),p=n(v[g+2],1),g+=3):"/"===v[g+3]&&" "===v[g+1]&&(f=n(v[g],s),h=n(v[g+2],s),p=n(v[g+4],1),g+=5),v.length<=g){s=a=d+(o=p*m)*f+m*h;break}default:throw l()}if(0===o)throw u();t.s=s<0?-1:1,t.n=Math.abs(a),t.d=Math.abs(o)};function o(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function s(e,n){if(a(e,n),!(this instanceof s))return r(t.s*t.n,t.d);e=o(t.d,t.n),this.s=t.s,this.n=t.n/e,this.d=t.d/e}var u=function(){return new Error("Division by Zero")},l=function(){return new Error("Invalid argument")},c=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return r(this.n,this.d)},neg:function(){return r(-this.s*this.n,this.d)},add:function(e,n){return a(e,n),r(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(e,n){return a(e,n),r(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(e,n){return a(e,n),r(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(e,n){return a(e,n),r(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return r(this.s*this.n,this.d)},mod:function(e,n){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===e)return r(this.s*this.n%this.d,1);if(a(e,n),0===t.n&&0===this.d)throw u();return r(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(e,n){return a(e,n),r(o(t.n,this.n)*o(t.d,this.d),t.d*this.d)},lcm:function(e,n){return a(e,n),0===t.n&&0===this.n?r(0,1):r(t.n*this.n,o(t.n,this.n)*o(t.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return r(this.s*this.d,this.n)},pow:function(e,n){if(a(e,n),1===t.d)return t.s<0?r(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):r(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var o=i(this.n),s=i(this.d),u=1,l=1;for(var c in o)if("1"!==c){if("0"===c){u=0;break}if(o[c]*=t.n,o[c]%t.d!=0)return null;o[c]/=t.d,u*=Math.pow(c,o[c])}for(var c in s)if("1"!==c){if(s[c]*=t.n,s[c]%t.d!=0)return null;s[c]/=t.d,l*=Math.pow(c,s[c])}return t.s<0?r(l,u):r(u,l)},equals:function(e,n){return a(e,n),this.s*this.n*t.d==t.s*t.n*this.d},compare:function(e,n){a(e,n);var r=this.s*this.n*t.d-t.s*t.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),i=1;i<n.length;i++){for(var a=r(n[i-1],1),o=i-2;o>=0;o--)a=a.inverse().add(n[o]);if(Math.abs(a.sub(t).valueOf())<e)return a.mul(this.s)}return this},divisible:function(e,n){return a(e,n),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";e=e||15;var r=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,n),i=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),a=0;a<300;a++){if(r===i)return a;r=10*r%t,i=10*i%t}return 0}(0,n,r),a=this.s<0?"-":"";if(a+=t/n|0,t%=n,(t*=10)&&(a+="."),r){for(var o=i;o--;)a+=t/n|0,t%=n,t*=10;a+="(";for(o=r;o--;)a+=t/n|0,t%=n,t*=10;a+=")"}else for(o=e;t&&o--;)a+=t/n|0,t%=n,t*=10;return a}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,e.exports=s}()},5552:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(6540),i=n(7387),a=n(2532),o=n(4091),s=n(823),u=n(7888),l=n(1061),c=n(6528),f=n(9981),h=n(8460);var d=function(e){function t(t){var n;return(n=e.call(this,t)||this).errorCallback=n.errorCallback.bind(n),n.menuClicked=n.menuClicked.bind(n),n.closeCallback=n.closeMenu.bind(n),n.searchClicked=n.searchClicked.bind(n),n.state={menuOpen:!1,searchOpen:!1,errorMessage:""},n}(0,i.A)(t,e);var n=t.prototype;return n.errorCallback=function(e){this.setState({errorMessage:e})},n.menuClicked=function(){this.setState({menuOpen:!this.state.menuOpen,searchOpen:!1})},n.openMenu=function(){this.setState({menuOpen:!0})},n.closeMenu=function(){this.setState({menuOpen:!1})},n.searchClicked=function(){this.state.menuOpen||this.setState({searchOpen:!this.state.searchOpen})},n.render=function(){const{children:e,title:t,published:n,publishedText:i,lastUpdated:d,updatedText:p,section:m,subsection:g,buttonText:v,buttonLink:y,secondButtonText:D,secondButtonLink:w,featuredImage:_,bannerParagraph:E,mainConf:b,languageName:C}=this.props,x=(0,a.c)(_),F=((0,a.d)(_),r.createElement(s.A,{image:x,title:t,buttonText:v,buttonLink:y,secondButtonText:D,secondButtonLink:w,published:n,lastUpdated:d},E)),A=E&&r.createElement(o.A,{buttonText:v,buttonLink:y,secondButtonText:D,secondButtonLink:w,published:n,publishedText:i,lastUpdated:d,updatedText:p},E)||"",S=r.createElement(f.A,{section:m,subsection:g,language:C,menuOpen:this.state.menuOpen,menuClickedCallback:this.menuClicked,searchOpen:this.state.searchOpen,searchClickedCallback:this.searchClicked}),M=r.createElement(r.Fragment,null,S,r.createElement(l.A,{language:C,closeCallback:this.closeCallback})),T=r.createElement("div",{className:"language-"+C},S,this.state.searchOpen&&r.createElement("div",{className:"searchline"},r.createElement(h.A,null)),_&&F||A,r.createElement(u.A,Object.assign({mainConf:b,errorCallback:this.errorCallback,errorMessage:this.state.errorMessage},this.props),e),r.createElement(c.A,{language:C}));return this.state.menuOpen&&M||T},t}(r.Component),p=n(2205);function m(e){return"navigation"===e.mainConf?r.createElement(p.A,Object.assign({},e,{languageName:"en",publishedText:"Published: ",updatedText:"Updated: "})):r.createElement(d,Object.assign({},e,{languageName:"en",publishedText:"Published: ",updatedText:"Updated: "}))}},5017:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return gc},default:function(){return mc}});var r=n(6540),i=n(5552),a=n(7528),o=n(9437),s=n(772);function u(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){const n=r(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}const l="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function c(e){const t="function"==typeof e?u(e):e,n=(e=t.getState,n=Object.is)=>{const[,i]=(0,r.useReducer)((e=>e+1),0),a=t.getState(),o=(0,r.useRef)(a),s=(0,r.useRef)(e),u=(0,r.useRef)(n),c=(0,r.useRef)(!1),f=(0,r.useRef)();let h;void 0===f.current&&(f.current=e(a));let d=!1;(o.current!==a||s.current!==e||u.current!==n||c.current)&&(h=e(a),d=!n(f.current,h)),l((()=>{d&&(f.current=h),o.current=a,s.current=e,u.current=n,c.current=!1}));const p=(0,r.useRef)(a);l((()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);u.current(f.current,n)||(o.current=e,f.current=n,i())}catch(He){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);const m=d?h:f.current;return(0,r.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}const f=[];function h(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function d(e,t=null,n=!1,r={}){null===t&&(t=[e]);for(const o of f)if(h(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=f.indexOf(i);-1!==e&&f.splice(e,1)},promise:(a=e,"object"==typeof a&&"function"==typeof a.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var a;if(f.push(i),!n)throw i.promise}var p=n(4848),m=n(4845),g=n.n(m),v=n(9982);const y={},D=e=>{Object.assign(y,e)};var w,_;const E=e=>"colorSpace"in e||"outputColorSpace"in e,b=()=>{var e;return null!=(e=y.ColorManagement)?e:null},C=e=>e&&e.isOrthographicCamera,x="undefined"!=typeof window&&(null!=(w=window.document)&&w.createElement||"ReactNative"===(null==(_=window.navigator)?void 0:_.product))?r.useLayoutEffect:r.useEffect;function F(e){const t=r.useRef(e);return x((()=>{t.current=e}),[e]),t}function A({set:e}){return x((()=>(e(new Promise((()=>null))),()=>e(!1))),[e]),null}class S extends r.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}S.getDerivedStateFromError=()=>({error:!0});const M="__default",T=new Map,O=e=>e&&!!e.memoized&&!!e.changes;function N(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const B=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function z(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const k={obj:e=>e===Object(e)&&!k.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(k.str(e)||k.num(e)||k.boo(e))return e===t;const a=k.obj(e);if(a&&"reference"===r)return e===t;const o=k.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!k.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(k.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function P(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function U(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function R(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const L=/-\d+$/;function I(e,t,n){if(k.str(n)){if(L.test(n)){const t=n.replace(L,""),{target:r,key:i}=R(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=R(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function j(e,t,n){var r,i;if(k.str(n)){const{target:r,key:i}=R(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function H(e,{children:t,key:n,ref:r,...i},{children:a,key:o,ref:s,...u}={},l=!1){const c=e.__r3f,f=Object.entries(i),h=[];if(l){const e=Object.keys(u);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||f.unshift([e[t],M+"remove"])}f.forEach((([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t)return;if(k.equ(n,u[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return h.push([t,n,!0,[]]);let a=[];t.includes("-")&&(a=t.split("-")),h.push([t,n,!1,a]);for(const e in i){const n=i[e];e.startsWith(`${t}-`)&&h.push([e,n,!1,e.split("-")])}}));const d={...i};return null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.args&&(d.args=c.memoizedProps.args),null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.attach&&(d.attach=c.memoizedProps.attach),{memoized:d,changes:h}}const V="undefined"!=typeof process&&!1;function q(e,t){var n;const r=e.__r3f,i=null==r?void 0:r.root,a=null==i||null==i.getState?void 0:i.getState(),{memoized:s,changes:u}=O(t)?t:H(e,t),l=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let c=0;c<u.length;c++){let[t,n,i,s]=u[c];if(E(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let l=e,f=l[t];if(s.length&&(f=s.reduce(((e,t)=>e[t]),e),!f||!f.set)){const[n,...r]=s.reverse();l=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===M+"remove")if(l.constructor){let e=T.get(l.constructor);e||(e=new l.constructor,T.set(l.constructor,e)),n=e[t]}else n=0;if(i&&r)n?r.handlers[t]=n:delete r.handlers[t],r.eventCount=Object.keys(r.handlers).length;else if(f&&f.set&&(f.copy||f instanceof o.Layers)){if(Array.isArray(n))f.fromArray?f.fromArray(n):f.set(...n);else if(f.copy&&n&&n.constructor&&(V?f.constructor.name===n.constructor.name:f.constructor===n.constructor))f.copy(n);else if(void 0!==n){const e=f instanceof o.Color;!e&&f.setScalar?f.setScalar(n):f instanceof o.Layers&&n instanceof o.Layers?f.mask=n.mask:f.set(n),!b()&&a&&!a.linear&&e&&f.convertSRGBToLinear()}}else if(l[t]=n,l[t]instanceof o.Texture&&l[t].format===o.RGBAFormat&&l[t].type===o.UnsignedByteType&&a){const e=l[t];E(e)&&E(a.gl)?e.colorSpace=a.gl.outputColorSpace:e.encoding=a.gl.outputEncoding}W(e)}if(r&&r.parent&&e.raycast&&l!==r.eventCount){const t=z(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),r.eventCount&&t.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(n=e.__r3f)&&n.parent&&Z(e),e}function W(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Z(e){null==e.onUpdate||e.onUpdate(e)}function Y(e,t){e.manual||(C(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function Q(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function $(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function X(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(Q(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){const{onPointerMissed:s,internal:u}=e.getState();u.lastEvent.current=a;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=B(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap((function(e){const n=B(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=B(e.object),r=B(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=Q(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var u;null!=(u=t.__r3f)&&u.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(Q(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),h=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=f.map((e=>e.eventObject))),c&&!f.length&&h<=2&&(r(a,u.interaction),s&&s(a)),l&&n(f),function(t,r,i,a){const s=e.getState();if(t.length){const e={stopped:!1};for(const u of t){const l=B(u.object)||s,{raycaster:c,pointer:f,camera:h,internal:d}=l,p=new o.Vector3(f.x,f.y,0).unproject(h),m=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(u.eventObject))&&t},g=e=>{const t={intersection:u,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(u.eventObject,t):d.capturedMap.set(e,new Map([[u.eventObject,t]])),r.target.setPointerCapture(e)},v=e=>{const t=d.capturedMap.get(e);t&&$(d.capturedMap,u.eventObject,t,e)};let y={};for(let e in r){let t=r[e];"function"!=typeof t&&(y[e]=t)}let D={...u,...y,pointer:f,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:h,stopPropagation(){const i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(u.eventObject))&&(D.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((e=>e.eventObject===u.eventObject)))&&n([...t.slice(0,t.indexOf(u)),u])},target:{hasPointerCapture:m,setPointerCapture:g,releasePointerCapture:v},currentTarget:{hasPointerCapture:m,setPointerCapture:g,releasePointerCapture:v},nativeEvent:r};if(a(D),!0===e.stopped)break}}}(f,a,h,(function(e){const t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=Q(e),n=u.hovered.get(t);n?n.stopped&&e.stopPropagation():(u.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?c&&!u.initialHits.includes(t)||(r(a,u.interaction.filter((e=>!u.initialHits.includes(e)))),n(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((e=>!u.initialHits.includes(e))))}}))}}}}const G=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],K=e=>!(null==e||!e.render),J=r.createContext(null);let ee,te=new Set,ne=new Set,re=new Set;function ie(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function ae(e,t){switch(e){case"before":return ie(te,t);case"after":return ie(ne,t);case"tail":return ie(re,t)}}let oe,se;function ue(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),oe=t.internal.subscribers,ee=0;ee<oe.length;ee++)se=oe[ee],se.ref.current(se.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function le(){const e=r.useContext(J);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function ce(e=e=>e,t){return le()(e,t)}function fe(e,t=0){const n=le(),r=n.getState().internal.subscribe,i=F(e);return x((()=>r(i,t,n)),[t,r,n]),null}const he=new WeakMap;function de(e,t){return function(n,...r){let i=he.get(n);return i||(i=new n,he.set(n,i)),e&&e(i),Promise.all(r.map((e=>new Promise(((n,r)=>i.load(e,(e=>{e.scene&&Object.assign(e,P(e.scene)),n(e)}),t,(t=>r(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`)))))))))}}function pe(e,t,n,r){const i=Array.isArray(t)?t:[t],a=((e,t,n)=>d(e,t,!1,n))(de(n,r),[e,...i],{equal:k.equ});return Array.isArray(t)?a:a[0]}pe.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{d(e,t,!0,n)})(de(n),[e,...r])},pe.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)f.splice(0,f.length);else{const t=f.find((t=>h(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const me=new Map,{invalidate:ge,advance:ve}=function(e){let t,n,r,i=!1,a=!1;function o(s){n=requestAnimationFrame(o),i=!0,t=0,ae("before",s),a=!0;for(const n of e.values()){var u;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(u=r.gl.xr)&&u.isPresenting||(t+=ue(s,r))}if(a=!1,ae("after",s),0===t)return ae("tail",s),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n,r=1){var s;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(s=n.gl.xr)&&s.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):a?2:1,i||(i=!0,requestAnimationFrame(o)))},advance:function(t,n=!0,r,i){if(n&&ae("before",t),r)ue(t,r,i);else for(const a of e.values())ue(t,a.store.getState());n&&ae("after",t)}}}(me),{reconciler:ye,applyProps:De}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,s=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw new Error("R3F: Primitives without 'object' are invalid!");a=U(r.object,{type:e,root:i,attach:n,primitive:!0})}else{const r=y[s];if(!r)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw new Error("R3F: The args prop must be an array!");a=U(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===a.__r3f.attach&&(a instanceof o.BufferGeometry?a.__r3f.attach="geometry":a instanceof o.Material&&(a.__r3f.attach="material")),"inject"!==s&&q(a,r),a}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?I(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,Z(t),W(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)I(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter((e=>e!==t)),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||U(t,{}),t.__r3f.parent=e,Z(t),W(t)}}function a(e,t,n=!1){e&&[...e].forEach((e=>u(t,e,n)))}function u(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)j(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{$(n.capturedMap,t,e,r)}))}(z(t),t)}const l=null==(o=t.__r3f)?void 0:o.primitive,c=!l&&(void 0===n?null!==t.dispose:n);var u;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);if(delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,v.unstable_scheduleCallback)(v.unstable_IdlePriority,e):e()}W(e)}}const l=()=>{},c=g()({createInstance:n,removeChild:u,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&u(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:o=[],children:s,...u}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==o[t])))return[!0];const l=H(e,a,u,!0);return l.changes.length?[!1,l]:null}},commitUpdate(e,[t,i],a,o,s,l){t?function(e,t,i,a){var o;const s=null==(o=e.__r3f)?void 0:o.parent;if(!s)return;const l=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(l,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(l,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||u(s,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(s,l),l.raycast&&l.__r3f.eventCount&&z(l).getState().internal.interaction.push(l);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=l,e.ref&&("function"==typeof e.ref?e.ref(l):e.ref.current=l))}))}(e,a,s,l):q(e,i)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&z(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>U(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&j(r,e,n),e.isObject3D&&(e.visible=!1),W(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&I(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),W(e)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>t?t():s.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&k.fun(performance.now)?performance.now:k.fun(Date.now)?Date.now:()=>0,scheduleTimeout:k.fun(setTimeout)?setTimeout:void 0,cancelTimeout:k.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:c,applyProps:q}}(0,(function(){var e;const t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return s.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return s.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return s.ContinuousEventPriority;default:return s.DefaultEventPriority}})),we={objects:"shallow",strict:!1},_e=(e,t)=>{const n="function"==typeof e?e(t):e;return K(n)?n:new o.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function Ee(e){const t=me.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const a="function"==typeof reportError?reportError:console.error,u=i||((e,t)=>{const n=c(((n,i)=>{const a=new o.Vector3,s=new o.Vector3,u=new o.Vector3;function l(e=i().camera,t=s,n=i().size){const{width:r,height:l,top:c,left:f}=n,h=r/l;t instanceof o.Vector3?u.copy(t):u.set(...t);const d=e.getWorldPosition(a).distanceTo(u);if(C(e))return{width:r/e.zoom,height:l/e.zoom,top:c,left:f,factor:1,distance:d,aspect:h};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,i=n*(r/l);return{width:i,height:n,top:c,left:f,factor:r/i,distance:d,aspect:h}}}let c;const f=e=>n((t=>({performance:{...t.performance,current:e}}))),h=new o.Vector2,d={set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(i(),t),advance:(e,n)=>t(e,n,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new o.Clock,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();c&&clearTimeout(c),e.performance.current!==e.performance.min&&f(e.performance.min),c=setTimeout((()=>f(i().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,a,o)=>{const u=i().camera,c={width:e,height:t,top:a||0,left:o||0,updateStyle:r};n((e=>({size:c,viewport:{...e.viewport,...l(u,s,c)}})))},setDpr:e=>n((t=>{const n=N(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:(e="always")=>{const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return d})),i=n.getState();let a=i.size,s=i.viewport.dpr,u=i.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:i,set:o}=n.getState();if(t.width!==a.width||t.height!==a.height||r.dpr!==s){var l;a=t,s=r.dpr,Y(e,t),i.setPixelRatio(r.dpr);const n=null!=(l=t.updateStyle)?l:"undefined"!=typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==u&&(u=e,o((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n})(ge,ve),l=n||ye.createContainer(u,s.ConcurrentRoot,null,!1,null,"",a,null);let f;t||me.set(e,{fiber:l,store:u});let h,d=!1;return{configure(t={}){let{gl:n,size:r,scene:i,events:a,onCreated:s,shadows:l=!1,linear:c=!1,flat:p=!1,legacy:m=!1,orthographic:g=!1,frameloop:v="always",dpr:y=[1,2],performance:D,raycaster:w,camera:_,onPointerMissed:E}=t,C=u.getState(),x=C.gl;C.gl||C.set({gl:x=_e(n,e)});let F=C.raycaster;F||C.set({raycaster:F=new o.Raycaster});const{params:A,...S}=w||{};if(k.equ(S,F,we)||De(F,{...S}),k.equ(A,F.params,we)||De(F,{params:{...F.params,...A}}),!C.camera||C.camera===h&&!k.equ(h,_,we)){h=_;const e=_ instanceof o.Camera,t=e?_:g?new o.OrthographicCamera(0,0,0,0,.1,1e3):new o.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,_&&(De(t,_),("aspect"in _||"left"in _||"right"in _||"bottom"in _||"top"in _)&&(t.manual=!0,t.updateProjectionMatrix())),C.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),C.set({camera:t}),F.camera=t}if(!C.scene){let e;i instanceof o.Scene?e=i:(e=new o.Scene,i&&De(e,i)),C.set({scene:U(e)})}if(!C.xr){var M;const e=(e,t)=>{const n=u.getState();"never"!==n.frameloop&&ve(e,!0,n,t)},t=()=>{const t=u.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||ge(t)},n={connect(){const e=u.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=u.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(M=x.xr)?void 0:M.addEventListener)&&n.connect(),C.set({xr:n})}if(x.shadowMap){const e=x.shadowMap.enabled,t=x.shadowMap.type;if(x.shadowMap.enabled=!!l,k.boo(l))x.shadowMap.type=o.PCFSoftShadowMap;else if(k.str(l)){var T;const e={basic:o.BasicShadowMap,percentage:o.PCFShadowMap,soft:o.PCFSoftShadowMap,variance:o.VSMShadowMap};x.shadowMap.type=null!=(T=e[l])?T:o.PCFSoftShadowMap}else k.obj(l)&&Object.assign(x.shadowMap,l);e===x.shadowMap.enabled&&t===x.shadowMap.type||(x.shadowMap.needsUpdate=!0)}const O=b();if(O&&("enabled"in O?O.enabled=!m:"legacyMode"in O&&(O.legacyMode=m)),!d){De(x,{outputEncoding:c?3e3:3001,toneMapping:p?o.NoToneMapping:o.ACESFilmicToneMapping})}C.legacy!==m&&C.set((()=>({legacy:m}))),C.linear!==c&&C.set((()=>({linear:c}))),C.flat!==p&&C.set((()=>({flat:p}))),!n||k.fun(n)||K(n)||k.equ(n,x,we)||De(x,n),a&&!C.events.handlers&&C.set({events:a(u)});const B=function(e,t){const n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:a,updateStyle:o=n}=t;return{width:e,height:r,top:i,left:a,updateStyle:o}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return k.equ(B,C.size,we)||C.setSize(B.width,B.height,B.updateStyle,B.top,B.left),y&&C.viewport.dpr!==N(y)&&C.setDpr(y),C.frameloop!==v&&C.setFrameloop(v),C.onPointerMissed||C.set({onPointerMissed:E}),D&&!k.equ(D,C.performance,we)&&C.set((e=>({performance:{...e.performance,...D}}))),f=s,d=!0,this},render(t){return d||this.configure(),ye.updateContainer((0,p.jsx)(be,{store:u,children:t,onCreated:f,rootElement:e}),l,null,(()=>{})),u},unmount(){Ce(e)}}}function be({store:e,children:t,onCreated:n,rootElement:r}){return x((()=>{const t=e.getState();t.set((e=>({internal:{...e.internal,active:!0}}))),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)}),[]),(0,p.jsx)(J.Provider,{value:e,children:t})}function Ce(e,t){const n=me.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),ye.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),me.delete(e),t&&t(e)}catch(s){}}),500)}))}}function xe({state:e={},children:t,container:n}){const{events:i,size:a,...s}=e,u=le(),[l]=r.useState((()=>new o.Raycaster)),[f]=r.useState((()=>new o.Vector2)),h=r.useCallback(((e,t)=>{const r={...e};let c;if(Object.keys(e).forEach((n=>{(G.includes(n)||e[n]!==t[n]&&t[n])&&delete r[n]})),t&&a){const n=t.camera;c=e.viewport.getCurrentViewport(n,new o.Vector3,a),n!==e.camera&&Y(n,a)}return{...r,scene:n,raycaster:l,pointer:f,mouse:f,previousRoot:u,events:{...e.events,...null==t?void 0:t.events,...i},size:{...e.size,...a},viewport:{...e.viewport,...c},...s}}),[e]),[d]=r.useState((()=>{const e=u.getState(),t=c(((t,r)=>({...e,scene:n,raycaster:l,pointer:f,mouse:f,previousRoot:u,events:{...e.events,...i},size:{...e.size,...a},...s,set:t,get:r,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})));return t}));return r.useEffect((()=>{const e=u.subscribe((e=>d.setState((t=>h(e,t)))));return()=>{e()}}),[h]),r.useEffect((()=>{d.setState((e=>h(u.getState(),e)))}),[h]),r.useEffect((()=>()=>{d.destroy()}),[]),(0,p.jsx)(p.Fragment,{children:ye.createPortal((0,p.jsx)(J.Provider,{value:d,children:t}),d,null)})}ye.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;const Fe={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ae(e){const{handlePointer:t}=X(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Fe).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((([e,n])=>{const[r,i]=Fe[e];t.addEventListener(r,n,{passive:i})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=Fe[e];n.connected.removeEventListener(r,t)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}var Se,Me,Te=n(7334),Oe=n.n(Te),Ne=Object.defineProperty,Be=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,Re=(e,t,n)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t)=>{for(var n in t||(t={}))Pe.call(t,n)&&Re(e,n,t[n]);if(ke)for(var n of ke(t))Ue.call(t,n)&&Re(e,n,t[n]);return e};"undefined"==typeof window||!(null==(Se=window.document)?void 0:Se.createElement)&&"ReactNative"!==(null==(Me=window.navigator)?void 0:Me.product)?r.useEffect:r.useLayoutEffect;function Ie(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=Ie(r,t,n);if(e)return e;r=t?null:r.sibling}}function je(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(t){return e}}const He=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return He.apply(this,arguments);console.error=He};const Ve=je(r.createContext(null));class qe extends r.Component{render(){return r.createElement(Ve.Provider,{value:this._reactInternals},this.props.children)}}function We(){const e=r.useContext(Ve);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=r.useId();return r.useMemo((()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=Ie(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function Ze(){const e=function(){const e=We(),[t]=r.useState((()=>new Map));t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==Ve&&!t.has(e)&&t.set(e,r.useContext(je(e)))}n=n.return}return t}();return r.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>i=>{return r.createElement(t,null,r.createElement(n.Provider,(a=Le({},i),o={value:e.get(n)},Be(a,ze(o)))));var a,o}),(e=>r.createElement(qe,Le({},e))))),[e])}function Ye({debounce:e,scroll:t,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=n||"undefined"!=typeof window&&window.ResizeObserver,[o,s]=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!a)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const u=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=e?"number"==typeof e?e:e.scroll:null,c=e?"number"==typeof e?e:e.resize:null,f=(0,r.useRef)(!1);(0,r.useEffect)((()=>(f.current=!0,()=>{f.current=!1})));const[h,d,p]=(0,r.useMemo)((()=>{const e=()=>{if(!u.current.element)return;const{left:e,top:t,width:n,height:r,bottom:a,right:o,x:l,y:c}=u.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:r,bottom:a,right:o,x:l,y:c};u.current.element instanceof HTMLElement&&i&&(h.height=u.current.element.offsetHeight,h.width=u.current.element.offsetWidth),Object.freeze(h),f.current&&!Xe(u.current.lastBounds,h)&&s(u.current.lastBounds=h)};return[e,c?Oe()(e,c):e,l?Oe()(e,l):e]}),[s,i,l,c]);function m(){u.current.scrollContainers&&(u.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function g(){var e;u.current.element&&(u.current.resizeObserver=new a(d),null==(e=u.current.resizeObserver)||e.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))),u.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}var v,y,D;return v=p,y=Boolean(t),(0,r.useEffect)((()=>{if(y){const e=v;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[v,y]),D=d,(0,r.useEffect)((()=>{const e=D;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[D]),(0,r.useEffect)((()=>{m(),g()}),[t,p,d]),(0,r.useEffect)((()=>m),[]),[e=>{e&&e!==u.current.element&&(m(),u.current.element=e,u.current.scrollContainers=Qe(e),g())},o,h]}function Qe(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...Qe(e.parentElement)]}const $e=["x","y","top","bottom","left","right","width","height"],Xe=(e,t)=>$e.every((n=>e[n]===t[n])),Ge=r.forwardRef((function({children:e,fallback:t,resize:n,style:i,gl:a,events:s=Ae,eventSource:u,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:w,camera:_,scene:E,onPointerMissed:b,onCreated:C,...M},T){r.useMemo((()=>D(o)),[]);const O=Ze(),[N,B]=Ye({scroll:!0,debounce:{scroll:50,resize:0},...n}),z=r.useRef(null),k=r.useRef(null);r.useImperativeHandle(T,(()=>z.current));const P=F(b),[U,R]=r.useState(!1),[L,I]=r.useState(!1);if(U)throw U;if(L)throw L;const j=r.useRef(null);x((()=>{const t=z.current;B.width>0&&B.height>0&&t&&(j.current||(j.current=Ee(t)),j.current.configure({gl:a,events:s,shadows:c,linear:f,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:w,camera:_,scene:E,size:B,onPointerMissed:(...e)=>null==P.current?void 0:P.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:k.current),l&&e.setEvents({compute:(e,t)=>{const n=e[l+"X"],r=e[l+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),j.current.render((0,p.jsx)(O,{children:(0,p.jsx)(S,{set:I,children:(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(A,{set:R}),children:e})})})))})),r.useEffect((()=>{const e=z.current;if(e)return()=>Ce(e)}),[]);const H=u?"none":"auto";return(0,p.jsx)("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i},...M,children:(0,p.jsx)("div",{ref:N,style:{width:"100%",height:"100%"},children:(0,p.jsx)("canvas",{ref:z,style:{display:"block"},children:t})})})})),Ke=r.forwardRef((function(e,t){return(0,p.jsx)(qe,{children:(0,p.jsx)(Ge,{...e,ref:t})})}));function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(null,arguments)}class et extends o.Mesh{constructor(e,t){var n,r;const i=(a=e)&&a.isCubeTexture;var a;const s=(null!=(r=i?null==(n=e.image[0])?void 0:n.width:e.image.width)?r:1024)/4,u=Math.floor(Math.log2(s)),l=Math.pow(2,u),c=[i?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH "+1/(3*Math.max(l,112)),"#define CUBEUV_TEXEL_HEIGHT "+1/(4*l),`#define CUBEUV_MAX_MIP ${u}.0`].join("\n")+`\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <${parseInt(o.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>\n        }\n        `,f={map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}};super(new o.IcosahedronGeometry(1,16),new o.ShaderMaterial({uniforms:f,fragmentShader:c,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:o.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class tt extends o.DataTextureLoader{constructor(e){super(e),this.type=o.HalfFloatType}parse(e){const t=function(e,t){switch(e){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw new Error("THREE.RGBELoader: Memory Error: "+(t||""))}},n=function(e,t,n){t=t||1024;let r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){const i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){const i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=o.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=o.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=o.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=o.DataUtils.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;const s=function(e){const r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*FORMAT=(\S+)\s*$/,o=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,s={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let u,l;for((e.pos>=e.byteLength||!(u=n(e)))&&t(1,"no header found"),(l=u.match(/^#\?(\S+)/))||t(3,"bad initial token"),s.valid|=1,s.programtype=l[1],s.string+=u+"\n";u=n(e),!1!==u;)if(s.string+=u+"\n","#"!==u.charAt(0)){if((l=u.match(r))&&(s.gamma=parseFloat(l[1])),(l=u.match(i))&&(s.exposure=parseFloat(l[1])),(l=u.match(a))&&(s.valid|=2,s.format=l[1]),(l=u.match(o))&&(s.valid|=4,s.height=parseInt(l[1],10),s.width=parseInt(l[2],10)),2&s.valid&&4&s.valid)break}else s.comments+=u+"\n";return 2&s.valid||t(3,"missing format specifier"),4&s.valid||t(3,"missing image size specifier"),s}(a),u=s.width,l=s.height,c=function(e,n,r){const i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);i!==(e[2]<<8|e[3])&&t(3,"wrong scanline width");const a=new Uint8Array(4*n*r);a.length||t(4,"unable to allocate buffer space");let o=0,s=0;const u=4*i,l=new Uint8Array(4),c=new Uint8Array(u);let f=r;for(;f>0&&s<e.byteLength;){s+4>e.byteLength&&t(1),l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],2==l[0]&&2==l[1]&&(l[2]<<8|l[3])==i||t(3,"bad rgbe scanline format");let n,r=0;for(;r<u&&s<e.byteLength;){n=e[s++];const i=n>128;if(i&&(n-=128),(0===n||r+n>u)&&t(3,"bad scanline data"),i){const t=e[s++];for(let e=0;e<n;e++)c[r++]=t}else c.set(e.subarray(s,s+n),r),r+=n,s+=n}const h=i;for(let e=0;e<h;e++){let t=0;a[o]=c[e+t],t+=i,a[o+1]=c[e+t],t+=i,a[o+2]=c[e+t],t+=i,a[o+3]=c[e+t],o+=4}f--}return a}(a.subarray(a.pos),u,l);let f,h,d;switch(this.type){case o.FloatType:d=c.length/4;const e=new Float32Array(4*d);for(let n=0;n<d;n++)r(c,4*n,e,4*n);f=e,h=o.FloatType;break;case o.HalfFloatType:d=c.length/4;const t=new Uint16Array(4*d);for(let n=0;n<d;n++)i(c,4*n,t,4*n);f=t,h=o.HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:l,data:f,header:s.string,gamma:s.gamma,exposure:s.exposure,type:h}}setDataType(e){return this.type=e,this}load(e,t,n,r){return super.load(e,(function(e,n){switch(e.type){case o.FloatType:case o.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=o.LinearFilter,e.magFilter=o.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,r)}}var nt=Uint8Array,rt=Uint16Array,it=Uint32Array,at=new nt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ot=new nt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),st=new nt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ut=function(e,t){for(var n=new rt(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new it(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},lt=ut(at,2),ct=lt[0],ft=lt[1];ct[28]=258,ft[258]=28;for(var ht=ut(ot,0),dt=ht[0],pt=(ht[1],new rt(32768)),mt=0;mt<32768;++mt){var gt=(43690&mt)>>>1|(21845&mt)<<1;gt=(61680&(gt=(52428&gt)>>>2|(13107&gt)<<2))>>>4|(3855&gt)<<4,pt[mt]=((65280&gt)>>>8|(255&gt)<<8)>>>1}var vt=function(e,t,n){for(var r=e.length,i=0,a=new rt(t);i<r;++i)++a[e[i]-1];var o,s=new rt(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new rt(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],c=t-e[i],f=s[e[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)o[pt[f]>>>u]=l}else for(o=new rt(r),i=0;i<r;++i)e[i]&&(o[i]=pt[s[e[i]-1]++]>>>15-e[i]);return o},yt=new nt(288);for(mt=0;mt<144;++mt)yt[mt]=8;for(mt=144;mt<256;++mt)yt[mt]=9;for(mt=256;mt<280;++mt)yt[mt]=7;for(mt=280;mt<288;++mt)yt[mt]=8;var Dt=new nt(32);for(mt=0;mt<32;++mt)Dt[mt]=5;var wt=vt(yt,9,1),_t=vt(Dt,5,1),Et=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},bt=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Ct=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},xt=function(e){return(e/8|0)+(7&e&&1)},Ft=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof rt?rt:e instanceof it?it:nt)(n-t);return r.set(e.subarray(t,n)),r},At=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new nt(0);var i=!t||n,a=!n||n.i;n||(n={}),t||(t=new nt(3*r));var o=function(e){var n=t.length;if(e>n){var r=new nt(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,u=n.p||0,l=n.b||0,c=n.l,f=n.d,h=n.m,d=n.n,p=8*r;do{if(!c){n.f=s=bt(e,u,1);var m=bt(e,u+1,3);if(u+=3,!m){var g=e[(A=xt(u)+4)-4]|e[A-3]<<8,v=A+g;if(v>r){if(a)throw"unexpected EOF";break}i&&o(l+g),t.set(e.subarray(A,v),l),n.b=l+=g,n.p=u=8*v;continue}if(1==m)c=wt,f=_t,h=9,d=5;else{if(2!=m)throw"invalid block type";var y=bt(e,u,31)+257,D=bt(e,u+10,15)+4,w=y+bt(e,u+5,31)+1;u+=14;for(var _=new nt(w),E=new nt(19),b=0;b<D;++b)E[st[b]]=bt(e,u+3*b,7);u+=3*D;var C=Et(E),x=(1<<C)-1,F=vt(E,C,1);for(b=0;b<w;){var A,S=F[bt(e,u,x)];if(u+=15&S,(A=S>>>4)<16)_[b++]=A;else{var M=0,T=0;for(16==A?(T=3+bt(e,u,3),u+=2,M=_[b-1]):17==A?(T=3+bt(e,u,7),u+=3):18==A&&(T=11+bt(e,u,127),u+=7);T--;)_[b++]=M}}var O=_.subarray(0,y),N=_.subarray(y);h=Et(O),d=Et(N),c=vt(O,h,1),f=vt(N,d,1)}if(u>p){if(a)throw"unexpected EOF";break}}i&&o(l+131072);for(var B=(1<<h)-1,z=(1<<d)-1,k=u;;k=u){var P=(M=c[Ct(e,u)&B])>>>4;if((u+=15&M)>p){if(a)throw"unexpected EOF";break}if(!M)throw"invalid length/literal";if(P<256)t[l++]=P;else{if(256==P){k=u,c=null;break}var U=P-254;if(P>264){var R=at[b=P-257];U=bt(e,u,(1<<R)-1)+ct[b],u+=R}var L=f[Ct(e,u)&z],I=L>>>4;if(!L)throw"invalid distance";u+=15&L;N=dt[I];if(I>3){R=ot[I];N+=Ct(e,u)&(1<<R)-1,u+=R}if(u>p){if(a)throw"unexpected EOF";break}i&&o(l+131072);for(var j=l+U;l<j;l+=4)t[l]=t[l-N],t[l+1]=t[l+1-N],t[l+2]=t[l+2-N],t[l+3]=t[l+3-N];l=j}}n.l=c,n.p=k,n.b=l,c&&(s=1,n.m=h,n.d=f,n.n=d)}while(!s);return l==t.length?t:Ft(t,0,l)},St=new nt(0),Mt=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Tt(e,t){return At((Mt(e),e.subarray(2,-4)),t)}var Ot="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ot.decode(St,{stream:!0})}catch(vc){}const Nt="colorSpace"in new o.Texture;class Bt extends o.DataTextureLoader{constructor(e){super(e),this.type=o.HalfFloatType}parse(e){const t=65536,n=14,r=65537,i=16384,a=Math.pow(2.7182818,2.2);const s={l:0,c:0,lc:0};function u(e,t,n,r,i){for(;n<e;)t=t<<8|H(r,i),n+=8;n-=e,s.l=t>>n&(1<<e)-1,s.c=t,s.lc=n}const l=new Array(59);function c(e,t,n,i,a,o,c){for(var f=n,h=0,d=0;a<=o;a++){if(f.value-n.value>i)return!1;u(6,h,d,e,f);var p=s.l;if(h=s.c,d=s.lc,c[a]=p,63==p){if(f.value-n.value>i)throw"Something wrong with hufUnpackEncTable";u(8,h,d,e,f);var m=s.l+6;if(h=s.c,d=s.lc,a+m>o+1)throw"Something wrong with hufUnpackEncTable";for(;m--;)c[a++]=0;a--}else if(p>=59){if(a+(m=p-59+2)>o+1)throw"Something wrong with hufUnpackEncTable";for(;m--;)c[a++]=0;a--}}!function(e){for(var t=0;t<=58;++t)l[t]=0;for(t=0;t<r;++t)l[e[t]]+=1;var n=0;for(t=58;t>0;--t){var i=n+l[t]>>1;l[t]=n,n=i}for(t=0;t<r;++t){var a=e[t];a>0&&(e[t]=a|l[a]++<<6)}}(c)}function f(e){return 63&e}function h(e){return e>>6}const d={c:0,lc:0};function p(e,t,n,r){e=e<<8|H(n,r),t+=8,d.c=e,d.lc=t}const m={c:0,lc:0};function g(e,t,n,r,i,a,o,s,u,l){if(e==t){r<8&&(p(n,r,i,o),n=d.c,r=d.lc);var c=n>>(r-=8);c=new Uint8Array([c])[0];if(u.value+c>l)return!1;for(var f=s[u.value-1];c-- >0;)s[u.value++]=f}else{if(!(u.value<l))return!1;s[u.value++]=e}m.c=n,m.lc=r}function v(e){return 65535&e}function y(e){var t=v(e);return t>32767?t-65536:t}const D={a:0,b:0};function w(e,t){var n=y(e),r=y(t),i=n+(1&r)+(r>>1),a=i,o=i-r;D.a=a,D.b=o}function _(e,t){var n=v(e),r=v(t),i=n-(r>>1)&65535,a=r+i-32768&65535;D.a=a,D.b=i}function E(e,t,n,r,i,a,o){for(var s,u=o<16384,l=n>i?i:n,c=1;c<=l;)c<<=1;for(s=c>>=1,c>>=1;c>=1;){for(var f,h,d,p,m=0,g=m+a*(i-s),v=a*c,y=a*s,E=r*c,b=r*s;m<=g;m+=y){for(var C=m,x=m+r*(n-s);C<=x;C+=b){var F=C+E,A=(S=C+v)+E;u?(w(e[C+t],e[S+t]),f=D.a,d=D.b,w(e[F+t],e[A+t]),h=D.a,p=D.b,w(f,h),e[C+t]=D.a,e[F+t]=D.b,w(d,p),e[S+t]=D.a,e[A+t]=D.b):(_(e[C+t],e[S+t]),f=D.a,d=D.b,_(e[F+t],e[A+t]),h=D.a,p=D.b,_(f,h),e[C+t]=D.a,e[F+t]=D.b,_(d,p),e[S+t]=D.a,e[A+t]=D.b)}if(n&c){var S=C+v;u?w(e[C+t],e[S+t]):_(e[C+t],e[S+t]),f=D.a,e[S+t]=D.b,e[C+t]=f}}if(i&c)for(C=m,x=m+r*(n-s);C<=x;C+=b){F=C+E;u?w(e[C+t],e[F+t]):_(e[C+t],e[F+t]),f=D.a,e[F+t]=D.b,e[C+t]=f}s=c,c>>=1}return m}function b(e,t,a,o,s,u){var l=a.value,v=j(t,a),y=j(t,a);a.value+=4;var D=j(t,a);if(a.value+=4,v<0||v>=r||y<0||y>=r)throw"Something wrong with HUF_ENCSIZE";var w=new Array(r),_=new Array(i);if(function(e){for(var t=0;t<i;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(_),c(e,0,a,o-(a.value-l),v,y,w),D>8*(o-(a.value-l)))throw"Something wrong with hufUncompress";!function(e,t,r,i){for(;t<=r;t++){var a=h(e[t]),o=f(e[t]);if(a>>o)throw"Invalid table entry";if(o>n){if((c=i[a>>o-n]).len)throw"Invalid table entry";if(c.lit++,c.p){var s=c.p;c.p=new Array(c.lit);for(var u=0;u<c.lit-1;++u)c.p[u]=s[u]}else c.p=new Array(1);c.p[c.lit-1]=t}else if(o){var l=0;for(u=1<<n-o;u>0;u--){var c;if((c=i[(a<<n-o)+l]).len||c.p)throw"Invalid table entry";c.len=o,c.lit=t,l++}}}}(w,v,y,_),function(e,t,r,i,a,o,s,u,l,c){for(var v=0,y=0,D=u,w=Math.trunc(a.value+(o+7)/8);a.value<w;)for(p(v,y,r,a),v=d.c,y=d.lc;y>=n;)if((C=t[v>>y-n&16383]).len)y-=C.len,g(C.lit,s,v,y,r,0,a,l,c,D),v=m.c,y=m.lc;else{if(!C.p)throw"hufDecode issues";var _;for(_=0;_<C.lit;_++){for(var E=f(e[C.p[_]]);y<E&&a.value<w;)p(v,y,r,a),v=d.c,y=d.lc;if(y>=E&&h(e[C.p[_]])==(v>>y-E&(1<<E)-1)){y-=E,g(C.p[_],s,v,y,r,0,a,l,c,D),v=m.c,y=m.lc;break}}if(_==C.lit)throw"hufDecode issues"}var b=8-o&7;for(v>>=b,y-=b;y>0;){var C;if(!(C=t[v<<n-y&16383]).len)throw"hufDecode issues";y-=C.len,g(C.lit,s,v,y,r,0,a,l,c,D),v=m.c,y=m.lc}}(w,_,e,0,a,D,y,u,s,{value:0})}function C(e){for(var t=1;t<e.length;t++){var n=e[t-1]+e[t]-128;e[t]=n}}function x(e,t){for(var n=0,r=Math.floor((e.length+1)/2),i=0,a=e.length-1;!(i>a||(t[i++]=e[n++],i>a));)t[i++]=e[r++]}function F(e){for(var t=e.byteLength,n=new Array,r=0,i=new DataView(e);t>0;){var a=i.getInt8(r++);if(a<0){t-=(s=-a)+1;for(var o=0;o<s;o++)n.push(i.getUint8(r++))}else{var s=a;t-=2;var u=i.getUint8(r++);for(o=0;o<s+1;o++)n.push(u)}}return n}function A(e,t,n){for(var r,i=1;i<64;)65280==(r=t[e.value])?i=64:r>>8==255?i+=255&r:(n[i]=r,i++),e.value++}function S(e,t){t[0]=Y(e[0]),t[1]=Y(e[1]),t[2]=Y(e[5]),t[3]=Y(e[6]),t[4]=Y(e[14]),t[5]=Y(e[15]),t[6]=Y(e[27]),t[7]=Y(e[28]),t[8]=Y(e[2]),t[9]=Y(e[4]),t[10]=Y(e[7]),t[11]=Y(e[13]),t[12]=Y(e[16]),t[13]=Y(e[26]),t[14]=Y(e[29]),t[15]=Y(e[42]),t[16]=Y(e[3]),t[17]=Y(e[8]),t[18]=Y(e[12]),t[19]=Y(e[17]),t[20]=Y(e[25]),t[21]=Y(e[30]),t[22]=Y(e[41]),t[23]=Y(e[43]),t[24]=Y(e[9]),t[25]=Y(e[11]),t[26]=Y(e[18]),t[27]=Y(e[24]),t[28]=Y(e[31]),t[29]=Y(e[40]),t[30]=Y(e[44]),t[31]=Y(e[53]),t[32]=Y(e[10]),t[33]=Y(e[19]),t[34]=Y(e[23]),t[35]=Y(e[32]),t[36]=Y(e[39]),t[37]=Y(e[45]),t[38]=Y(e[52]),t[39]=Y(e[54]),t[40]=Y(e[20]),t[41]=Y(e[22]),t[42]=Y(e[33]),t[43]=Y(e[38]),t[44]=Y(e[46]),t[45]=Y(e[51]),t[46]=Y(e[55]),t[47]=Y(e[60]),t[48]=Y(e[21]),t[49]=Y(e[34]),t[50]=Y(e[37]),t[51]=Y(e[47]),t[52]=Y(e[50]),t[53]=Y(e[56]),t[54]=Y(e[59]),t[55]=Y(e[61]),t[56]=Y(e[35]),t[57]=Y(e[36]),t[58]=Y(e[48]),t[59]=Y(e[49]),t[60]=Y(e[57]),t[61]=Y(e[58]),t[62]=Y(e[62]),t[63]=Y(e[63])}function M(e){const t=.5*Math.cos(.7853975),n=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),i=.5*Math.cos(3*3.14159/16),a=.5*Math.cos(.981746875),o=.5*Math.cos(3*3.14159/8),s=.5*Math.cos(1.374445625);for(var u=new Array(4),l=new Array(4),c=new Array(4),f=new Array(4),h=0;h<8;++h){var d=8*h;u[0]=r*e[d+2],u[1]=o*e[d+2],u[2]=r*e[d+6],u[3]=o*e[d+6],l[0]=n*e[d+1]+i*e[d+3]+a*e[d+5]+s*e[d+7],l[1]=i*e[d+1]-s*e[d+3]-n*e[d+5]-a*e[d+7],l[2]=a*e[d+1]-n*e[d+3]+s*e[d+5]+i*e[d+7],l[3]=s*e[d+1]-a*e[d+3]+i*e[d+5]-n*e[d+7],c[0]=t*(e[d+0]+e[d+4]),c[3]=t*(e[d+0]-e[d+4]),c[1]=u[0]+u[3],c[2]=u[1]-u[2],f[0]=c[0]+c[1],f[1]=c[3]+c[2],f[2]=c[3]-c[2],f[3]=c[0]-c[1],e[d+0]=f[0]+l[0],e[d+1]=f[1]+l[1],e[d+2]=f[2]+l[2],e[d+3]=f[3]+l[3],e[d+4]=f[3]-l[3],e[d+5]=f[2]-l[2],e[d+6]=f[1]-l[1],e[d+7]=f[0]-l[0]}for(var p=0;p<8;++p)u[0]=r*e[16+p],u[1]=o*e[16+p],u[2]=r*e[48+p],u[3]=o*e[48+p],l[0]=n*e[8+p]+i*e[24+p]+a*e[40+p]+s*e[56+p],l[1]=i*e[8+p]-s*e[24+p]-n*e[40+p]-a*e[56+p],l[2]=a*e[8+p]-n*e[24+p]+s*e[40+p]+i*e[56+p],l[3]=s*e[8+p]-a*e[24+p]+i*e[40+p]-n*e[56+p],c[0]=t*(e[p]+e[32+p]),c[3]=t*(e[p]-e[32+p]),c[1]=u[0]+u[3],c[2]=u[1]-u[2],f[0]=c[0]+c[1],f[1]=c[3]+c[2],f[2]=c[3]-c[2],f[3]=c[0]-c[1],e[0+p]=f[0]+l[0],e[8+p]=f[1]+l[1],e[16+p]=f[2]+l[2],e[24+p]=f[3]+l[3],e[32+p]=f[3]-l[3],e[40+p]=f[2]-l[2],e[48+p]=f[1]-l[1],e[56+p]=f[0]-l[0]}function T(e){for(var t=0;t<64;++t){var n=e[0][t],r=e[1][t],i=e[2][t];e[0][t]=n+1.5747*i,e[1][t]=n-.1873*r-.4682*i,e[2][t]=n+1.8556*r}}function O(e,t,n){for(var r=0;r<64;++r)t[n+r]=o.DataUtils.toHalfFloat(N(e[r]))}function N(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(a,Math.abs(e)-1)}function B(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function z(e){var t=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),n=new Uint8Array(F(t)),r=new Uint8Array(n.length);return C(n),x(n,r),new DataView(r.buffer)}function k(e){var t=Tt(e.array.slice(e.offset.value,e.offset.value+e.size)),n=new Uint8Array(t.length);return C(t),x(t,n),new DataView(n.buffer)}function P(e){for(var n=e.viewer,r={value:e.offset.value},i=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),a=new Uint8Array(8192),o=0,s=new Array(e.channels),u=0;u<e.channels;u++)s[u]={},s[u].start=o,s[u].end=s[u].start,s[u].nx=e.width,s[u].ny=e.lines,s[u].size=e.type,o+=s[u].nx*s[u].ny*s[u].size;var l=Q(n,r),c=Q(n,r);if(c>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=c)for(u=0;u<c-l+1;u++)a[u+l]=V(n,r);var f=new Uint16Array(t),h=function(e,n){for(var r=0,i=0;i<t;++i)(0==i||e[i>>3]&1<<(7&i))&&(n[r++]=i);for(var a=r-1;r<t;)n[r++]=0;return a}(a,f),d=j(n,r);b(e.array,n,r,d,i,o);for(u=0;u<e.channels;++u)for(var p=s[u],m=0;m<s[u].size;++m)E(i,p.start+m,p.nx,p.size,p.ny,p.nx*p.size,h);!function(e,t,n){for(var r=0;r<n;++r)t[r]=e[t[r]]}(f,i,o);for(var g=0,v=new Uint8Array(i.buffer.byteLength),y=0;y<e.lines;y++)for(var D=0;D<e.channels;D++){var w=(p=s[D]).nx*p.size,_=new Uint8Array(i.buffer,2*p.end,2*w);v.set(_,g),g+=2*w,p.end+=w}return new DataView(v.buffer)}function U(e){var t=Tt(e.array.slice(e.offset.value,e.offset.value+e.size));const n=e.lines*e.channels*e.width,r=1==e.type?new Uint16Array(n):new Uint32Array(n);let i=0,a=0;const o=new Array(4);for(let s=0;s<e.lines;s++)for(let n=0;n<e.channels;n++){let n=0;switch(e.type){case 1:o[0]=i,o[1]=o[0]+e.width,i=o[1]+e.width;for(let i=0;i<e.width;++i){n+=t[o[0]++]<<8|t[o[1]++],r[a]=n,a++}break;case 2:o[0]=i,o[1]=o[0]+e.width,o[2]=o[1]+e.width,i=o[2]+e.width;for(let i=0;i<e.width;++i){n+=t[o[0]++]<<24|t[o[1]++]<<16|t[o[2]++]<<8,r[a]=n,a++}}}return new DataView(r.buffer)}function R(e){var t=e.viewer,n={value:e.offset.value},r=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),i={version:q(t,n),unknownUncompressedSize:q(t,n),unknownCompressedSize:q(t,n),acCompressedSize:q(t,n),dcCompressedSize:q(t,n),rleCompressedSize:q(t,n),rleUncompressedSize:q(t,n),rleRawSize:q(t,n),totalAcUncompressedCount:q(t,n),totalDcUncompressedCount:q(t,n),acCompression:q(t,n)};if(i.version<2)throw"EXRLoader.parse: "+ee.compression+" version "+i.version+" is unsupported";for(var a=new Array,o=Q(t,n)-2;o>0;){var s=L(t.buffer,n),u=V(t,n),l=u>>2&3,c=new Int8Array([(u>>4)-1])[0],f=V(t,n);a.push({name:s,index:c,type:f,compression:l}),o-=s.length+3}for(var h=ee.channels,d=new Array(e.channels),p=0;p<e.channels;++p){var m=d[p]={},g=h[p];m.name=g.name,m.compression=0,m.decoded=!1,m.type=g.pixelType,m.pLinear=g.pLinear,m.width=e.width,m.height=e.lines}for(var v={idx:new Array(3)},y=0;y<e.channels;++y)for(m=d[y],p=0;p<a.length;++p){var D=a[p];m.name==D.name&&(m.compression=D.compression,D.index>=0&&(v.idx[D.index]=y),m.offset=y)}if(i.acCompressedSize>0)switch(i.acCompression){case 0:var w=new Uint16Array(i.totalAcUncompressedCount);b(e.array,t,n,i.acCompressedSize,w,i.totalAcUncompressedCount);break;case 1:var _=Tt(e.array.slice(n.value,n.value+i.totalAcUncompressedCount));w=new Uint16Array(_.buffer);n.value+=i.totalAcUncompressedCount}if(i.dcCompressedSize>0){var E={array:e.array,offset:n,size:i.dcCompressedSize},C=new Uint16Array(k(E).buffer);n.value+=i.dcCompressedSize}if(i.rleRawSize>0){var x=F((_=Tt(e.array.slice(n.value,n.value+i.rleCompressedSize))).buffer);n.value+=i.rleCompressedSize}var N=0,B=new Array(d.length);for(p=0;p<B.length;++p)B[p]=new Array;for(var z=0;z<e.lines;++z)for(var P=0;P<d.length;++P)B[P].push(N),N+=d[P].width*e.type*2;!function(e,t,n,r,i,a){var o=new DataView(a.buffer),s=n[e.idx[0]].width,u=n[e.idx[0]].height,l=Math.floor(s/8),c=Math.ceil(s/8),f=Math.ceil(u/8),h=s-8*(c-1),d=u-8*(f-1),p={value:0},m=new Array(3),g=new Array(3),v=new Array(3),y=new Array(3),D=new Array(3);for(let A=0;A<3;++A)D[A]=t[e.idx[A]],m[A]=A<1?0:m[A-1]+c*f,g[A]=new Float32Array(64),v[A]=new Uint16Array(64),y[A]=new Uint16Array(64*c);for(let N=0;N<f;++N){var w=8;N==f-1&&(w=d);var _=8;for(let e=0;e<c;++e){e==c-1&&(_=h);for(let e=0;e<3;++e)v[e].fill(0),v[e][0]=i[m[e]++],A(p,r,v[e]),S(v[e],g[e]),M(g[e]);T(g);for(let t=0;t<3;++t)O(g[t],y[t],64*e)}let t=0;for(let r=0;r<3;++r){const i=n[e.idx[r]].type;for(let e=8*N;e<8*N+w;++e){t=D[r][e];for(let n=0;n<l;++n){const a=64*n+8*(7&e);o.setUint16(t+0*i,y[r][a+0],!0),o.setUint16(t+2*i,y[r][a+1],!0),o.setUint16(t+4*i,y[r][a+2],!0),o.setUint16(t+6*i,y[r][a+3],!0),o.setUint16(t+8*i,y[r][a+4],!0),o.setUint16(t+10*i,y[r][a+5],!0),o.setUint16(t+12*i,y[r][a+6],!0),o.setUint16(t+14*i,y[r][a+7],!0),t+=16*i}}if(l!=c)for(let e=8*N;e<8*N+w;++e){const t=D[r][e]+8*l*2*i,n=64*l+8*(7&e);for(let e=0;e<_;++e)o.setUint16(t+2*e*i,y[r][n+e],!0)}}}for(var E=new Uint16Array(s),b=(o=new DataView(a.buffer),0);b<3;++b){n[e.idx[b]].decoded=!0;var C=n[e.idx[b]].type;if(2==n[b].type)for(var x=0;x<u;++x){const e=D[b][x];for(var F=0;F<s;++F)E[F]=o.getUint16(e+2*F*C,!0);for(F=0;F<s;++F)o.setFloat32(e+2*F*C,Y(E[F]),!0)}}}(v,B,d,w,C,r);for(p=0;p<d.length;++p){if(!(m=d[p]).decoded){if(2!==m.compression)throw"EXRLoader.parse: unsupported channel compression";var U=0,R=0;for(z=0;z<e.lines;++z){for(var I=B[p][U],j=0;j<m.width;++j){for(var H=0;H<2*m.type;++H)r[I++]=x[R+H*m.width*m.height];R++}U++}}}return new DataView(r.buffer)}function L(e,t){for(var n=new Uint8Array(e),r=0;0!=n[t.value+r];)r+=1;var i=(new TextDecoder).decode(n.slice(t.value,t.value+r));return t.value=t.value+r+1,i}function I(e,t){var n=e.getInt32(t.value,!0);return t.value=t.value+4,n}function j(e,t){var n=e.getUint32(t.value,!0);return t.value=t.value+4,n}function H(e,t){var n=e[t.value];return t.value=t.value+1,n}function V(e,t){var n=e.getUint8(t.value);return t.value=t.value+1,n}const q=function(e,t){let n;return n="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,n};function W(e,t){var n=e.getFloat32(t.value,!0);return t.value+=4,n}function Z(e,t){return o.DataUtils.toHalfFloat(W(e,t))}function Y(e){var t=(31744&e)>>10,n=1023&e;return(e>>15?-1:1)*(t?31===t?n?NaN:1/0:Math.pow(2,t-15)*(1+n/1024):n/1024*6103515625e-14)}function Q(e,t){var n=e.getUint16(t.value,!0);return t.value+=2,n}function $(e,t){return Y(Q(e,t))}function X(e,t,n,r,i){return"string"===r||"stringvector"===r||"iccProfile"===r?function(e,t,n){var r=(new TextDecoder).decode(new Uint8Array(e).slice(t.value,t.value+n));return t.value=t.value+n,r}(t,n,i):"chlist"===r?function(e,t,n,r){for(var i=n.value,a=[];n.value<i+r-1;){var o=L(t,n),s=I(e,n),u=V(e,n);n.value+=3;var l=I(e,n),c=I(e,n);a.push({name:o,pixelType:s,pLinear:u,xSampling:l,ySampling:c})}return n.value+=1,a}(e,t,n,i):"chromaticities"===r?function(e,t){return{redX:W(e,t),redY:W(e,t),greenX:W(e,t),greenY:W(e,t),blueX:W(e,t),blueY:W(e,t),whiteX:W(e,t),whiteY:W(e,t)}}(e,n):"compression"===r?function(e,t){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][V(e,t)]}(e,n):"box2i"===r?function(e,t){return{xMin:j(e,t),yMin:j(e,t),xMax:j(e,t),yMax:j(e,t)}}(e,n):"lineOrder"===r?function(e,t){return["INCREASING_Y"][V(e,t)]}(e,n):"float"===r?W(e,n):"v2f"===r?function(e,t){return[W(e,t),W(e,t)]}(e,n):"v3f"===r?function(e,t){return[W(e,t),W(e,t),W(e,t)]}(e,n):"int"===r?I(e,n):"rational"===r?function(e,t){return[I(e,t),j(e,t)]}(e,n):"timecode"===r?function(e,t){return[j(e,t),j(e,t)]}(e,n):"preview"===r?(n.value+=i,"skipped"):void(n.value+=i)}const G=new DataView(e),K=new Uint8Array(e),J={value:0},ee=function(e,t,n){const r={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";r.version=e.getUint8(4);const i=e.getUint8(5);r.spec={singleTile:!!(2&i),longName:!!(4&i),deepFormat:!!(8&i),multiPart:!!(16&i)},n.value=8;for(var a=!0;a;){var o=L(t,n);if(0==o)a=!1;else{var s=L(t,n),u=X(e,t,n,s,j(e,n));void 0===u?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${s}'.`):r[o]=u}}if(-5&i)throw console.error("EXRHeader:",r),"THREE.EXRLoader: provided file is currently unsupported.";return r}(G,e,J),te=function(e,t,n,r,i){const a={size:0,viewer:t,array:n,offset:r,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[Nt?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":a.lines=1,a.uncompress=B;break;case"RLE_COMPRESSION":a.lines=1,a.uncompress=z;break;case"ZIPS_COMPRESSION":a.lines=1,a.uncompress=k;break;case"ZIP_COMPRESSION":a.lines=16,a.uncompress=k;break;case"PIZ_COMPRESSION":a.lines=32,a.uncompress=P;break;case"PXR24_COMPRESSION":a.lines=16,a.uncompress=U;break;case"DWAA_COMPRESSION":a.lines=32,a.uncompress=R;break;case"DWAB_COMPRESSION":a.lines=256,a.uncompress=R;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(a.scanlineBlockSize=a.lines,1==a.type)switch(i){case o.FloatType:a.getter=$,a.inputSize=2;break;case o.HalfFloatType:a.getter=Q,a.inputSize=2}else{if(2!=a.type)throw"EXRLoader.parse: unsupported pixelType "+a.type+" for "+e.compression+".";switch(i){case o.FloatType:a.getter=W,a.inputSize=4;break;case o.HalfFloatType:a.getter=Z,a.inputSize=4}}a.blockCount=(e.dataWindow.yMax+1)/a.scanlineBlockSize;for(var s=0;s<a.blockCount;s++)q(t,r);a.outputChannels=3==a.channels?4:a.channels;const u=a.width*a.height*a.outputChannels;switch(i){case o.FloatType:a.byteArray=new Float32Array(u),a.channels<a.outputChannels&&a.byteArray.fill(1,0,u);break;case o.HalfFloatType:a.byteArray=new Uint16Array(u),a.channels<a.outputChannels&&a.byteArray.fill(15360,0,u);break;default:console.error("THREE.EXRLoader: unsupported type: ",i)}return a.bytesPerLine=a.width*a.inputSize*a.channels,4==a.outputChannels?a.format=o.RGBAFormat:a.format=o.RedFormat,Nt?a.colorSpace="srgb-linear":a.encoding=3e3,a}(ee,G,K,J,this.type),ne={value:0},re={R:0,G:1,B:2,A:3,Y:0};for(let o=0;o<te.height/te.scanlineBlockSize;o++){const e=j(G,J);te.size=j(G,J),te.lines=e+te.scanlineBlockSize>te.height?te.height-e:te.scanlineBlockSize;const t=te.size<te.lines*te.bytesPerLine?te.uncompress(te):B(te);J.value+=te.size;for(let n=0;n<te.scanlineBlockSize;n++){const e=n+o*te.scanlineBlockSize;if(e>=te.height)break;for(let r=0;r<te.channels;r++){const i=re[ee.channels[r].name];for(let a=0;a<te.width;a++){ne.value=(n*(te.channels*te.width)+r*te.width+a)*te.inputSize;const o=(te.height-1-e)*(te.width*te.outputChannels)+a*te.outputChannels+i;te.byteArray[o]=te.getter(t,ne)}}}}return{header:ee,width:te.width,height:te.height,data:te.byteArray,format:te.format,[Nt?"colorSpace":"encoding"]:te[Nt?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,r){return super.load(e,(function(e,n){Nt?e.colorSpace=n.colorSpace:e.encoding=n.encoding,e.minFilter=o.LinearFilter,e.magFilter=o.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,n)}),n,r)}}const zt=(e,t,n)=>{let r;switch(e){case o.UnsignedByteType:r=new Uint8ClampedArray(t*n*4);break;case o.HalfFloatType:r=new Uint16Array(t*n*4);break;case o.UnsignedIntType:r=new Uint32Array(t*n*4);break;case o.ByteType:r=new Int8Array(t*n*4);break;case o.ShortType:r=new Int16Array(t*n*4);break;case o.IntType:r=new Int32Array(t*n*4);break;case o.FloatType:r=new Float32Array(t*n*4);break;default:throw new Error("Unsupported data type")}return r};let kt;class Pt{constructor(e){var t,n,r,i,a,s,u,l,c,f,h,d,p,m,g,v;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(vc){throw this._renderer.setRenderTarget(null),vc}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const y={format:o.RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:void 0!==(null===(t=e.renderTargetOptions)||void 0===t?void 0:t.anisotropy)?null===(n=e.renderTargetOptions)||void 0===n?void 0:n.anisotropy:1,generateMipmaps:void 0!==(null===(r=e.renderTargetOptions)||void 0===r?void 0:r.generateMipmaps)&&(null===(i=e.renderTargetOptions)||void 0===i?void 0:i.generateMipmaps),magFilter:void 0!==(null===(a=e.renderTargetOptions)||void 0===a?void 0:a.magFilter)?null===(s=e.renderTargetOptions)||void 0===s?void 0:s.magFilter:o.LinearFilter,minFilter:void 0!==(null===(u=e.renderTargetOptions)||void 0===u?void 0:u.minFilter)?null===(l=e.renderTargetOptions)||void 0===l?void 0:l.minFilter:o.LinearFilter,samples:void 0!==(null===(c=e.renderTargetOptions)||void 0===c?void 0:c.samples)?null===(f=e.renderTargetOptions)||void 0===f?void 0:f.samples:void 0,wrapS:void 0!==(null===(h=e.renderTargetOptions)||void 0===h?void 0:h.wrapS)?null===(d=e.renderTargetOptions)||void 0===d?void 0:d.wrapS:o.ClampToEdgeWrapping,wrapT:void 0!==(null===(p=e.renderTargetOptions)||void 0===p?void 0:p.wrapT)?null===(m=e.renderTargetOptions)||void 0===m?void 0:m.wrapT:o.ClampToEdgeWrapping};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=Pt.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new o.Scene,this._camera=new o.OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!((e,t,n,r)=>{if(void 0!==kt)return kt;const i=new o.WebGLRenderTarget(1,1,r);t.setRenderTarget(i);const a=new o.Mesh(new o.PlaneGeometry,new o.MeshBasicMaterial({color:16777215}));t.render(a,n),t.setRenderTarget(null);const s=zt(e,i.width,i.height);return t.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),a.geometry.dispose(),a.material.dispose(),kt=0!==s[0],kt})(this._type,this._renderer,this._camera,y)){let e;if(this._type===o.HalfFloatType)e=this._renderer.extensions.has("EXT_color_buffer_float")?o.FloatType:void 0;void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${o.FloatType}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new o.Mesh(new o.PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new o.WebGLRenderTarget(this.width,this.height,y),this._renderTarget.texture.mapping=void 0!==(null===(g=e.renderTargetOptions)||void 0===g?void 0:g.mapping)?null===(v=e.renderTargetOptions)||void 0===v?void 0:v.mapping:o.UVMapping}static instantiateRenderer(){const e=new o.WebGLRenderer;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=zt(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new o.DataTexture(this.toArray(),this.width,this.height,o.RGBAFormat,this._type,(null==e?void 0:e.mapping)||o.UVMapping,(null==e?void 0:e.wrapS)||o.ClampToEdgeWrapping,(null==e?void 0:e.wrapT)||o.ClampToEdgeWrapping,(null==e?void 0:e.magFilter)||o.LinearFilter,(null==e?void 0:e.minFilter)||o.LinearFilter,(null==e?void 0:e.anisotropy)||1,o.LinearSRGBColorSpace);return t.generateMipmaps=void 0!==(null==e?void 0:e.generateMipmaps)&&(null==e?void 0:e.generateMipmaps),t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof o.ShaderMaterial&&Object.values(this.material.uniforms).forEach((e=>{e.value instanceof o.Texture&&e.value.dispose()})),Object.values(this.material).forEach((e=>{e instanceof o.Texture&&e.dispose()})),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Ut extends o.ShaderMaterial{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:r,gainMapMax:i,maxDisplayBoost:a,hdrCapacityMin:s,hdrCapacityMax:u,sdr:l,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:"\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\n// min half float value\n#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )\n// max half float value\n#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )\n\nuniform sampler2D sdr;\nuniform sampler2D gainMap;\nuniform vec3 gamma;\nuniform vec3 offsetHdr;\nuniform vec3 offsetSdr;\nuniform vec3 gainMapMin;\nuniform vec3 gainMapMax;\nuniform float weightFactor;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec3 rgb = texture2D( sdr, vUv ).rgb;\n  vec3 recovery = texture2D( gainMap, vUv ).rgb;\n  vec3 logRecovery = pow( recovery, gamma );\n  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;\n  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;\n  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));\n  gl_FragColor = vec4( clampedHdrColor , 1.0 );\n}\n",uniforms:{sdr:{value:l},gainMap:{value:c},gamma:{value:new o.Vector3(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:(new o.Vector3).fromArray(t)},offsetSdr:{value:(new o.Vector3).fromArray(n)},gainMapMin:{value:(new o.Vector3).fromArray(r)},gainMapMax:{value:(new o.Vector3).fromArray(i)},weightFactor:{value:(Math.log2(a)-s)/(u-s)}},blending:o.NoBlending,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=s,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Rt extends Error{}class Lt extends Error{}const It=(e,t,n)=>{var r;let i;const a=null===(r=e.attributes.getNamedItem(t))||void 0===r?void 0:r.nodeValue;if(a)i=a;else{const r=e.getElementsByTagName(t)[0];if(!r){if(n)return n;throw new Error(`Can't find ${t} in gainmap metadata`)}{const e=r.getElementsByTagName("rdf:li");if(3!==e.length)throw new Error(`Gainmap metadata contains an array of items for ${t} but its length is not 3`);i=Array.from(e).map((e=>e.innerHTML))}}return i};class jt{constructor(e){this.options={debug:!(!e||void 0===e.debug)&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise(((t,n)=>{const r=this.options.debug,i=new DataView(e.buffer);if(65496!==i.getUint16(0))return void n(new Error("Not a valid jpeg"));const a=i.byteLength;let o,s=2,u=0;for(;s<a;){if(++u>250)return void n(new Error(`Found no marker after ${u} loops `));if(255!==i.getUint8(s))return void n(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${i.getUint8(s).toString(16)}`));if(o=i.getUint8(s+1),r&&console.log(`Marker: ${o.toString(16)}`),226===o){r&&console.log("Found APP2 marker (0xffe2)");const e=s+4;if(1297106432===i.getUint32(e)){const r=e+4;let a;if(18761===i.getUint16(r))a=!1;else{if(19789!==i.getUint16(r))return void n(new Error("No valid endianness marker found in TIFF header"));a=!0}if(42!==i.getUint16(r+2,!a))return void n(new Error("Not valid TIFF data! (no 0x002A marker)"));const o=i.getUint32(r+4,!a);if(o<8)return void n(new Error("Not valid TIFF data! (First offset less than 8)"));const s=r+o,u=i.getUint16(s,!a),l=s+2;let c=0;for(let e=l;e<l+12*u;e+=12)45057===i.getUint16(e,!a)&&(c=i.getUint32(e+8,!a));const f=s+2+12*u+4,h=[];for(let e=f;e<f+16*c;e+=16){const t={MPType:i.getUint32(e,!a),size:i.getUint32(e+4,!a),dataOffset:i.getUint32(e+8,!a),dependantImages:i.getUint32(e+12,!a),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=r+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,h.push(t)}if(this.options.extractNonFII&&h.length){const e=new Blob([i]),n=[];for(const t of h){if(t.isFII&&!this.options.extractFII)continue;const r=e.slice(t.start,t.end+1,"image/jpeg");n.push(r)}t(n)}}}s+=2+i.getUint16(s+2)}}))}}const Ht=async e=>{const t=(e=>{var t,n;let r;r="undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):e.toString();let i=r.indexOf("<x:xmpmeta");const a=new DOMParser;for(;-1!==i;){const e=r.indexOf("x:xmpmeta>",i);r.slice(i,e+10);const o=r.slice(i,e+10);try{const e=a.parseFromString(o,"text/xml").getElementsByTagName("rdf:Description")[0],r=It(e,"hdrgm:GainMapMin","0"),i=It(e,"hdrgm:GainMapMax"),s=It(e,"hdrgm:Gamma","1"),u=It(e,"hdrgm:OffsetSDR","0.015625"),l=It(e,"hdrgm:OffsetHDR","0.015625");let c=null===(t=e.attributes.getNamedItem("hdrgm:HDRCapacityMin"))||void 0===t?void 0:t.nodeValue;c||(c="0");const f=null===(n=e.attributes.getNamedItem("hdrgm:HDRCapacityMax"))||void 0===n?void 0:n.nodeValue;if(!f)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(r)?r.map((e=>parseFloat(e))):[parseFloat(r),parseFloat(r),parseFloat(r)],gainMapMax:Array.isArray(i)?i.map((e=>parseFloat(e))):[parseFloat(i),parseFloat(i),parseFloat(i)],gamma:Array.isArray(s)?s.map((e=>parseFloat(e))):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(u)?u.map((e=>parseFloat(e))):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(l)?l.map((e=>parseFloat(e))):[parseFloat(l),parseFloat(l),parseFloat(l)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(f)}}catch(vc){}i=r.indexOf("<x:xmpmeta",e)}})(e);if(!t)throw new Lt("Gain map XMP metadata not found");const n=new jt({extractFII:!0,extractNonFII:!0}),r=await n.extract(e);if(2!==r.length)throw new Rt("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:t}},Vt=e=>new Promise(((t,n)=>{const r=document.createElement("img");r.onload=()=>{t(r)},r.onerror=e=>{n(e)},r.src=URL.createObjectURL(e)}));class qt extends o.Loader{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new o.LoadingManager}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Ut({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new o.Texture,sdr:new o.Texture});return new Pt({width:16,height:16,type:o.HalfFloatType,colorSpace:o.LinearSRGBColorSpace,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,r){const i=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let s,u,l=!1;if("undefined"==typeof createImageBitmap){const e=await Promise.all([i?Vt(i):Promise.resolve(void 0),Vt(a)]);u=e[0],s=e[1],l=!0}else{const e=await Promise.all([i?createImageBitmap(i,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);u=e[0],s=e[1]}const c=new o.Texture(u||new ImageData(2,2),o.UVMapping,o.ClampToEdgeWrapping,o.ClampToEdgeWrapping,o.LinearFilter,o.LinearMipMapLinearFilter,o.RGBAFormat,o.UnsignedByteType,1,o.LinearSRGBColorSpace);c.flipY=l,c.needsUpdate=!0;const f=new o.Texture(s,o.UVMapping,o.ClampToEdgeWrapping,o.ClampToEdgeWrapping,o.LinearFilter,o.LinearMipMapLinearFilter,o.RGBAFormat,o.UnsignedByteType,1,o.SRGBColorSpace);f.flipY=l,f.needsUpdate=!0,e.width=s.width,e.height=s.height,e.material.gainMap=c,e.material.sdr=f,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Wt extends qt{load([e,t,n],r,i,a){const s=this.prepareQuadRenderer();let u,l,c;const f=async()=>{if(u&&l&&c){try{await this.render(s,c,u,l)}catch(He){return this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),"function"==typeof a&&a(He),void s.disposeOnDemandRenderer()}"function"==typeof r&&r(s),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),s.disposeOnDemandRenderer()}};let h=!0,d=0,p=0,m=!0,g=0,v=0,y=!0,D=0,w=0;const _=()=>{if("function"==typeof i){i(new ProgressEvent("progress",{lengthComputable:h&&m&&y,loaded:p+v+w,total:d+g+D}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const E=new o.FileLoader(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(e,(async e=>{if("string"==typeof e)throw new Error("Invalid sdr buffer");u=e,await f()}),(e=>{h=e.lengthComputable,p=e.loaded,d=e.total,_()}),(t=>{this.manager.itemError(e),"function"==typeof a&&a(t)}));const b=new o.FileLoader(this._internalLoadingManager);b.setResponseType("arraybuffer"),b.setRequestHeader(this.requestHeader),b.setPath(this.path),b.setWithCredentials(this.withCredentials),b.load(t,(async e=>{if("string"==typeof e)throw new Error("Invalid gainmap buffer");l=e,await f()}),(e=>{m=e.lengthComputable,v=e.loaded,g=e.total,_()}),(e=>{this.manager.itemError(t),"function"==typeof a&&a(e)}));const C=new o.FileLoader(this._internalLoadingManager);return C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(n,(async e=>{if("string"!=typeof e)throw new Error("Invalid metadata string");c=JSON.parse(e),await f()}),(e=>{y=e.lengthComputable,w=e.loaded,D=e.total,_()}),(e=>{this.manager.itemError(n),"function"==typeof a&&a(e)})),s}}class Zt extends qt{load(e,t,n,r){const i=this.prepareQuadRenderer(),a=new o.FileLoader(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,(async n=>{if("string"==typeof n)throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const a=new Uint8Array(n);let o,s,u;try{const e=await Ht(a);o=e.sdr,s=e.gainMap,u=e.metadata}catch(vc){if(!(vc instanceof Lt||vc instanceof Rt))throw vc;console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),u={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},o=a}try{await this.render(i,u,o,s)}catch(He){return this.manager.itemError(e),"function"==typeof r&&r(He),void i.disposeOnDemandRenderer()}"function"==typeof t&&t(i),this.manager.itemEnd(e),i.disposeOnDemandRenderer()}),n,(t=>{this.manager.itemError(e),"function"==typeof r&&r(t)})),i}}const Yt={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Qt="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",$t=e=>Array.isArray(e),Xt=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Gt({files:e=Xt,path:t="",preset:n,encoding:i,extensions:a}={}){let s=null,u=!1;n&&(en(n),e=Yt[n],t=Qt),u=$t(e);const{extension:l,isCubemap:c}=tn(e);if(s=nn(l),!s)throw new Error("useEnvironment: Unrecognized file extension: "+e);const f=ce((e=>e.gl));(0,r.useLayoutEffect)((()=>{"webp"!==l&&"jpg"!==l&&"jpeg"!==l||f.domElement.addEventListener("webglcontextlost",(function(){pe.clear(s,u?[e]:e)}),{once:!0})}),[e,f.domElement]);const h=pe(s,u?[e]:e,(e=>{"webp"!==l&&"jpg"!==l&&"jpeg"!==l||e.setRenderer(f),null==e.setPath||e.setPath(t),a&&a(e)}));let d=u?h[0]:h;var p;"jpg"!==l&&"jpeg"!==l&&"webp"!==l||(d=null==(p=d.renderTarget)?void 0:p.texture);return d.mapping=c?o.CubeReflectionMapping:o.EquirectangularReflectionMapping,"colorSpace"in d?d.colorSpace=(null!=i?i:c)?"srgb":"srgb-linear":d.encoding=(null!=i?i:c)?3001:3e3,d}const Kt={files:Xt,path:"",preset:void 0,extensions:void 0};Gt.preload=e=>{const t={...Kt,...e};let{files:n,path:r=""}=t;const{preset:i,extensions:a}=t;i&&(en(i),n=Yt[i],r=Qt);const{extension:o}=tn(n);if("webp"===o||"jpg"===o||"jpeg"===o)throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=nn(o);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);pe.preload(s,$t(n)?[n]:n,(e=>{null==e.setPath||e.setPath(r),a&&a(e)}))};const Jt={files:Xt,preset:void 0};function en(e){if(!(e in Yt))throw new Error("Preset must be one of: "+Object.keys(Yt).join(", "))}function tn(e){var t;const n=$t(e)&&6===e.length,r=$t(e)&&3===e.length&&e.some((e=>e.endsWith("json"))),i=$t(e)?e[0]:e;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":null==(t=i.split(".").pop())||null==(t=t.split("?"))||null==(t=t.shift())?void 0:t.toLowerCase(),isCubemap:n,isGainmap:r}}function nn(e){return"cube"===e?o.CubeTextureLoader:"hdr"===e?tt:"exr"===e?Bt:"jpg"===e||"jpeg"===e?Zt:"webp"===e?Wt:null}Gt.clear=e=>{const t={...Jt,...e};let{files:n}=t;const{preset:r}=t;r&&(en(r),n=Yt[r]);const{extension:i}=tn(n),a=nn(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);pe.clear(a,$t(n)?[n]:n)};function rn(e,t,n,r,i={}){var a,o,s,u,l;i={backgroundBlurriness:null!==(a=i.blur)&&void 0!==a?a:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=(e=>{return(t=e).current&&t.current.isScene?e.current:e;var t})(t||n),f=c.background,h=c.environment,d={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:null!==(o=null==(s=c.backgroundRotation)||null==s.clone?void 0:s.clone())&&void 0!==o?o:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:null!==(u=null==(l=c.environmentRotation)||null==l.clone?void 0:l.clone())&&void 0!==u?u:[0,0,0]};return"only"!==e&&(c.environment=r),e&&(c.background=r),De(c,i),()=>{"only"!==e&&(c.environment=h),e&&(c.background=f),De(c,d)}}function an({scene:e,background:t=!1,map:n,...i}){const a=ce((e=>e.scene));return r.useLayoutEffect((()=>{if(n)return rn(t,e,a,n,i)})),null}function on({background:e=!1,scene:t,blur:n,backgroundBlurriness:i,backgroundIntensity:a,backgroundRotation:o,environmentIntensity:s,environmentRotation:u,...l}){const c=Gt(l),f=ce((e=>e.scene));return r.useLayoutEffect((()=>rn(e,t,f,c,{blur:n,backgroundBlurriness:i,backgroundIntensity:a,backgroundRotation:o,environmentIntensity:s,environmentRotation:u}))),null}function sn({children:e,near:t=.1,far:n=1e3,resolution:i=256,frames:a=1,map:s,background:u=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:h,environmentIntensity:d,environmentRotation:m,scene:g,files:v,path:y,preset:D,extensions:w}){const _=ce((e=>e.gl)),E=ce((e=>e.scene)),b=r.useRef(null),[C]=r.useState((()=>new o.Scene)),x=r.useMemo((()=>{const e=new o.WebGLCubeRenderTarget(i);return e.texture.type=o.HalfFloatType,e}),[i]);r.useLayoutEffect((()=>{if(1===a){const e=_.autoClear;_.autoClear=!0,b.current.update(_,C),_.autoClear=e}return rn(u,g,E,x.texture,{blur:l,backgroundBlurriness:c,backgroundIntensity:f,backgroundRotation:h,environmentIntensity:d,environmentRotation:m})}),[e,C,x.texture,g,E,u,a,_]);let F=1;return fe((()=>{if(a===1/0||F<a){const e=_.autoClear;_.autoClear=!0,b.current.update(_,C),_.autoClear=e,F++}})),r.createElement(r.Fragment,null,function(e,t,n){return(0,p.jsx)(xe,{children:e,container:t,state:n},t.uuid)}(r.createElement(r.Fragment,null,e,r.createElement("cubeCamera",{ref:b,args:[t,n,x]}),v||D?r.createElement(on,{background:!0,files:v,preset:D,path:y,extensions:w}):s?r.createElement(an,{background:!0,map:s,extensions:w}):null),C))}function un(e){var t,n,i,a;const o=Gt(e),s=e.map||o;r.useMemo((()=>D({GroundProjectedEnvImpl:et})),[]);const u=r.useMemo((()=>[s]),[s]),l=null==(t=e.ground)?void 0:t.height,c=null==(n=e.ground)?void 0:n.radius,f=null!==(i=null==(a=e.ground)?void 0:a.scale)&&void 0!==i?i:1e3;return r.createElement(r.Fragment,null,r.createElement(an,Je({},e,{map:s})),r.createElement("groundProjectedEnvImpl",{args:u,scale:f,height:l,radius:c}))}function ln(e){return e.ground?r.createElement(un,e):e.map?r.createElement(an,e):e.children?r.createElement(sn,e):r.createElement(on,e)}const cn=1,fn=2,hn=4,dn=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),pn=0,mn=1,gn=-1;function vn(e){return e.isPerspectiveCamera}function yn(e){return e.isOrthographicCamera}const Dn=2*Math.PI,wn=Math.PI/2,_n=Math.PI/180;function En(e,t,n){return Math.max(t,Math.min(n,e))}function bn(e,t=1e-5){return Math.abs(e)<t}function Cn(e,t,n=1e-5){return bn(e-t,n)}function xn(e,t){return Math.round(e/t)*t}function Fn(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function An(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function Sn(e,t,n,r,i=1/0,a){const o=2/(r=Math.max(1e-4,r)),s=o*a,u=1/(1+s+.48*s*s+.235*s*s*s);let l=e-t;const c=t,f=i*r;l=En(l,-f,f),t=e-l;const h=(n.value+o*l)*a;n.value=(n.value-o*h)*u;let d=t+(l+h)*u;return c-e>0==d>c&&(d=c,n.value=(d-c)/a),d}function Mn(e,t,n,r,i=1/0,a,o){const s=2/(r=Math.max(1e-4,r)),u=s*a,l=1/(1+u+.48*u*u+.235*u*u*u);let c=t.x,f=t.y,h=t.z,d=e.x-c,p=e.y-f,m=e.z-h;const g=c,v=f,y=h,D=i*r,w=d*d+p*p+m*m;if(w>D*D){const e=Math.sqrt(w);d=d/e*D,p=p/e*D,m=m/e*D}c=e.x-d,f=e.y-p,h=e.z-m;const _=(n.x+s*d)*a,E=(n.y+s*p)*a,b=(n.z+s*m)*a;n.x=(n.x-s*_)*l,n.y=(n.y-s*E)*l,n.z=(n.z-s*b)*l,o.x=c+(d+_)*l,o.y=f+(p+E)*l,o.z=h+(m+b)*l;const C=g-e.x,x=v-e.y,F=y-e.z;return C*(o.x-g)+x*(o.y-v)+F*(o.z-y)>0&&(o.x=g,o.y=v,o.z=y,n.x=(o.x-g)/a,n.y=(o.y-v)/a,n.z=(o.z-y)/a),o}function Tn(e,t){t.set(0,0),e.forEach((e=>{t.x+=e.clientX,t.y+=e.clientY})),t.x/=e.length,t.y/=e.length}function On(e,t){return!!yn(e)&&(console.warn(`${t} is not supported in OrthographicCamera`),!0)}class Nn{constructor(){this._listeners={}}addEventListener(e,t){const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}removeAllEventListeners(e){e?Array.isArray(this._listeners[e])&&(this._listeners[e].length=0):this._listeners={}}dispatchEvent(e){const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}}var Bn;const zn=1/8,kn=/Mac/.test(null===(Bn=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===Bn?void 0:Bn.platform);let Pn,Un,Rn,Ln,In,jn,Hn,Vn,qn,Wn,Zn,Yn,Qn,$n,Xn,Gn,Kn,Jn,er,tr,nr,rr,ir;class ar extends Nn{static install(e){Pn=e.THREE,Un=Object.freeze(new Pn.Vector3(0,0,0)),Rn=Object.freeze(new Pn.Vector3(0,1,0)),Ln=Object.freeze(new Pn.Vector3(0,0,1)),In=new Pn.Vector2,jn=new Pn.Vector3,Hn=new Pn.Vector3,Vn=new Pn.Vector3,qn=new Pn.Vector3,Wn=new Pn.Vector3,Zn=new Pn.Vector3,Yn=new Pn.Vector3,Qn=new Pn.Vector3,$n=new Pn.Vector3,Xn=new Pn.Spherical,Gn=new Pn.Spherical,Kn=new Pn.Box3,Jn=new Pn.Box3,er=new Pn.Sphere,tr=new Pn.Quaternion,nr=new Pn.Quaternion,rr=new Pn.Matrix4,ir=new Pn.Raycaster}static get ACTION(){return dn}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=dn.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=pn,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Pn.Vector3,this._focalOffsetVelocity=new Pn.Vector3,this._zoomVelocity={value:0},this._truckInternal=(e,t,n)=>{let r,i;if(vn(this._camera)){const n=jn.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*_n,o=n.length()*Math.tan(.5*a);r=this.truckSpeed*e*o/this._elementRect.height,i=this.truckSpeed*t*o/this._elementRect.height}else{if(!yn(this._camera))return;{const n=this._camera;r=e*(n.right-n.left)/n.zoom/this._elementRect.width,i=t*(n.top-n.bottom)/n.zoom/this._elementRect.height}}this.verticalDragToForward?(n?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(r,0,!0),this.forward(-i,!0)):n?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y+i,this._focalOffsetEnd.z,!0):this.truck(r,i,!0)},this._rotateInternal=(e,t)=>{const n=Dn*this.azimuthRotateSpeed*e/this._elementRect.height,r=Dn*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(n,r,!0)},this._dollyInternal=(e,t,n)=>{const r=Math.pow(.95,-e*this.dollySpeed),i=this._sphericalEnd.radius,a=this._sphericalEnd.radius*r,o=En(a,this.minDistance,this.maxDistance),s=o-a;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(a,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(s,!0),this._dollyToNoClamp(o,!0)):this._dollyToNoClamp(o,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?a:o)-i,this._dollyControlCoord.set(t,n)),this._lastDollyDirection=Math.sign(-e)},this._zoomInternal=(e,t,n)=>{const r=Math.pow(.95,e*this.dollySpeed),i=this._zoom,a=this._zoom*r;this.zoomTo(a,!0),this.dollyToCursor&&(this._changedZoom+=a-i,this._dollyControlCoord.set(t,n))},void 0===Pn&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=(new Pn.Quaternion).setFromUnitVectors(this._camera.up,Rn),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=dn.NONE,this._target=new Pn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Pn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=(new Pn.Spherical).setFromVector3(jn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Pn.Vector3,new Pn.Vector3,new Pn.Vector3,new Pn.Vector3],this._updateNearPlaneCorners(),this._boundary=new Pn.Box3(new Pn.Vector3(-1/0,-1/0,-1/0),new Pn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Pn.Vector2,this.mouseButtons={left:dn.ROTATE,middle:dn.DOLLY,right:dn.TRUCK,wheel:vn(this._camera)?dn.DOLLY:yn(this._camera)?dn.ZOOM:dn.NONE},this.touches={one:dn.TOUCH_ROTATE,two:vn(this._camera)?dn.TOUCH_DOLLY_TRUCK:yn(this._camera)?dn.TOUCH_ZOOM_TRUCK:dn.NONE,three:dn.TOUCH_TRUCK};const n=new Pn.Vector2,r=new Pn.Vector2,i=new Pn.Vector2,a=e=>{if(!this._enabled||!this._domElement)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){const t=this._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<this._interactiveArea.left||n>this._interactiveArea.right||r<this._interactiveArea.top||r>this._interactiveArea.bottom)return}const t="mouse"!==e.pointerType?null:(e.buttons&cn)===cn?cn:(e.buttons&hn)===hn?hn:(e.buttons&fn)===fn?fn:null;if(null!==t){const e=this._findPointerByMouseButton(t);e&&this._disposePointer(e)}if((e.buttons&cn)===cn&&this._lockedPointer)return;const n={pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:t};this._activePointers.push(n),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",s),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",s),this._isDragging=!0,f(e)},o=e=>{e.cancelable&&e.preventDefault();const t=e.pointerId,n=this._lockedPointer||this._findPointerById(t);if(n){if(n.clientX=e.clientX,n.clientY=e.clientY,n.deltaX=e.movementX,n.deltaY=e.movementY,this._state=0,"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(e.buttons&cn)===cn)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(e.buttons&hn)===hn&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(e.buttons&fn)===fn&&(this._state=this._state|this.mouseButtons.right);h()}},s=e=>{const t=this._findPointerById(e.pointerId);if(!t||t!==this._lockedPointer){if(t&&this._disposePointer(t),"touch"===e.pointerType)switch(this._activePointers.length){case 0:this._state=dn.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=dn.NONE;d()}};let u=-1;const l=e=>{if(!this._domElement)return;if(!this._enabled||this.mouseButtons.wheel===dn.NONE)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){const t=this._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<this._interactiveArea.left||n>this._interactiveArea.right||r<this._interactiveArea.top||r>this._interactiveArea.bottom)return}if(e.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===dn.ROTATE||this.mouseButtons.wheel===dn.TRUCK){const e=performance.now();u-e<1e3&&this._getClientRect(this._elementRect),u=e}const t=kn?-1:-3,n=1===e.deltaMode?e.deltaY/t:e.deltaY/(10*t),r=this.dollyToCursor?(e.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,i=this.dollyToCursor?(e.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case dn.ROTATE:this._rotateInternal(e.deltaX,e.deltaY),this._isUserControllingRotate=!0;break;case dn.TRUCK:this._truckInternal(e.deltaX,e.deltaY,!1),this._isUserControllingTruck=!0;break;case dn.OFFSET:this._truckInternal(e.deltaX,e.deltaY,!0),this._isUserControllingOffset=!0;break;case dn.DOLLY:this._dollyInternal(-n,r,i),this._isUserControllingDolly=!0;break;case dn.ZOOM:this._zoomInternal(-n,r,i),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},c=e=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===ar.ACTION.NONE){const t=e instanceof PointerEvent?e.pointerId:0,n=this._findPointerById(t);return n&&this._disposePointer(n),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),void this._domElement.ownerDocument.removeEventListener("pointerup",s)}e.preventDefault()}},f=e=>{if(!this._enabled)return;Tn(this._activePointers,In),this._getClientRect(this._elementRect),n.copy(In),r.copy(In);if(this._activePointers.length>=2){const e=In.x-this._activePointers[1].clientX,t=In.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t);i.set(0,n);const a=.5*(this._activePointers[0].clientX+this._activePointers[1].clientX),o=.5*(this._activePointers[0].clientY+this._activePointers[1].clientY);r.set(a,o)}if(this._state=0,e)if("pointerType"in e&&"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._lockedPointer||(e.buttons&cn)!==cn||(this._state=this._state|this.mouseButtons.left),(e.buttons&hn)===hn&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&fn)===fn&&(this._state=this._state|this.mouseButtons.right);else this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);(this._state&dn.ROTATE)!==dn.ROTATE&&(this._state&dn.TOUCH_ROTATE)!==dn.TOUCH_ROTATE&&(this._state&dn.TOUCH_DOLLY_ROTATE)!==dn.TOUCH_DOLLY_ROTATE&&(this._state&dn.TOUCH_ZOOM_ROTATE)!==dn.TOUCH_ZOOM_ROTATE||(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),(this._state&dn.TRUCK)!==dn.TRUCK&&(this._state&dn.TOUCH_TRUCK)!==dn.TOUCH_TRUCK&&(this._state&dn.TOUCH_DOLLY_TRUCK)!==dn.TOUCH_DOLLY_TRUCK&&(this._state&dn.TOUCH_ZOOM_TRUCK)!==dn.TOUCH_ZOOM_TRUCK||(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),(this._state&dn.DOLLY)!==dn.DOLLY&&(this._state&dn.TOUCH_DOLLY)!==dn.TOUCH_DOLLY&&(this._state&dn.TOUCH_DOLLY_TRUCK)!==dn.TOUCH_DOLLY_TRUCK&&(this._state&dn.TOUCH_DOLLY_OFFSET)!==dn.TOUCH_DOLLY_OFFSET&&(this._state&dn.TOUCH_DOLLY_ROTATE)!==dn.TOUCH_DOLLY_ROTATE||(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),(this._state&dn.ZOOM)!==dn.ZOOM&&(this._state&dn.TOUCH_ZOOM)!==dn.TOUCH_ZOOM&&(this._state&dn.TOUCH_ZOOM_TRUCK)!==dn.TOUCH_ZOOM_TRUCK&&(this._state&dn.TOUCH_ZOOM_OFFSET)!==dn.TOUCH_ZOOM_OFFSET&&(this._state&dn.TOUCH_ZOOM_ROTATE)!==dn.TOUCH_ZOOM_ROTATE||(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),(this._state&dn.OFFSET)!==dn.OFFSET&&(this._state&dn.TOUCH_OFFSET)!==dn.TOUCH_OFFSET&&(this._state&dn.TOUCH_DOLLY_OFFSET)!==dn.TOUCH_DOLLY_OFFSET&&(this._state&dn.TOUCH_ZOOM_OFFSET)!==dn.TOUCH_ZOOM_OFFSET||(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},h=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Tn(this._activePointers,In);const e=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,t=e?-e.deltaX:r.x-In.x,a=e?-e.deltaY:r.y-In.y;if(r.copy(In),(this._state&dn.ROTATE)!==dn.ROTATE&&(this._state&dn.TOUCH_ROTATE)!==dn.TOUCH_ROTATE&&(this._state&dn.TOUCH_DOLLY_ROTATE)!==dn.TOUCH_DOLLY_ROTATE&&(this._state&dn.TOUCH_ZOOM_ROTATE)!==dn.TOUCH_ZOOM_ROTATE||(this._rotateInternal(t,a),this._isUserControllingRotate=!0),(this._state&dn.DOLLY)===dn.DOLLY||(this._state&dn.ZOOM)===dn.ZOOM){const e=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,t=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0,r=this.dollyDragInverted?-1:1;(this._state&dn.DOLLY)===dn.DOLLY?(this._dollyInternal(r*a*zn,e,t),this._isUserControllingDolly=!0):(this._zoomInternal(r*a*zn,e,t),this._isUserControllingZoom=!0)}if((this._state&dn.TOUCH_DOLLY)===dn.TOUCH_DOLLY||(this._state&dn.TOUCH_ZOOM)===dn.TOUCH_ZOOM||(this._state&dn.TOUCH_DOLLY_TRUCK)===dn.TOUCH_DOLLY_TRUCK||(this._state&dn.TOUCH_ZOOM_TRUCK)===dn.TOUCH_ZOOM_TRUCK||(this._state&dn.TOUCH_DOLLY_OFFSET)===dn.TOUCH_DOLLY_OFFSET||(this._state&dn.TOUCH_ZOOM_OFFSET)===dn.TOUCH_ZOOM_OFFSET||(this._state&dn.TOUCH_DOLLY_ROTATE)===dn.TOUCH_DOLLY_ROTATE||(this._state&dn.TOUCH_ZOOM_ROTATE)===dn.TOUCH_ZOOM_ROTATE){const e=In.x-this._activePointers[1].clientX,t=In.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t),a=i.y-n;i.set(0,n);const o=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,s=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&dn.TOUCH_DOLLY)===dn.TOUCH_DOLLY||(this._state&dn.TOUCH_DOLLY_ROTATE)===dn.TOUCH_DOLLY_ROTATE||(this._state&dn.TOUCH_DOLLY_TRUCK)===dn.TOUCH_DOLLY_TRUCK||(this._state&dn.TOUCH_DOLLY_OFFSET)===dn.TOUCH_DOLLY_OFFSET?(this._dollyInternal(a*zn,o,s),this._isUserControllingDolly=!0):(this._zoomInternal(a*zn,o,s),this._isUserControllingZoom=!0)}(this._state&dn.TRUCK)!==dn.TRUCK&&(this._state&dn.TOUCH_TRUCK)!==dn.TOUCH_TRUCK&&(this._state&dn.TOUCH_DOLLY_TRUCK)!==dn.TOUCH_DOLLY_TRUCK&&(this._state&dn.TOUCH_ZOOM_TRUCK)!==dn.TOUCH_ZOOM_TRUCK||(this._truckInternal(t,a,!1),this._isUserControllingTruck=!0),(this._state&dn.OFFSET)!==dn.OFFSET&&(this._state&dn.TOUCH_OFFSET)!==dn.TOUCH_OFFSET&&(this._state&dn.TOUCH_DOLLY_OFFSET)!==dn.TOUCH_DOLLY_OFFSET&&(this._state&dn.TOUCH_ZOOM_OFFSET)!==dn.TOUCH_ZOOM_OFFSET||(this._truckInternal(t,a,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},d=()=>{Tn(this._activePointers,In),r.copy(In),this._dragNeedsUpdate=!1,(0===this._activePointers.length||1===this._activePointers.length&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",s),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{this._enabled&&this._domElement&&(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",s),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",p),this._domElement.ownerDocument.addEventListener("pointerlockerror",m),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",s),f())},this.unlockPointer=()=>{var e,t,n;null!==this._lockedPointer&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),null===(e=this._domElement)||void 0===e||e.ownerDocument.exitPointerLock(),null===(t=this._domElement)||void 0===t||t.ownerDocument.removeEventListener("pointerlockchange",p),null===(n=this._domElement)||void 0===n||n.ownerDocument.removeEventListener("pointerlockerror",m),this.cancel()};const p=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},m=()=>{this.unlockPointer()};this._addAllEventListeners=e=>{this._domElement=e,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),this._domElement.addEventListener("pointercancel",s),this._domElement.addEventListener("wheel",l,{passive:!1}),this._domElement.addEventListener("contextmenu",c)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("pointercancel",s),this._domElement.removeEventListener("wheel",l,{passive:!1}),this._domElement.removeEventListener("contextmenu",c),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",s),this._domElement.ownerDocument.removeEventListener("pointerlockchange",p),this._domElement.ownerDocument.removeEventListener("pointerlockerror",m))},this.cancel=()=>{this._state!==dn.NONE&&(this._state=dn.NONE,this._activePointers.length=0,d())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=En(e.width,0,1),this._interactiveArea.height=En(e.height,0,1),this._interactiveArea.x=En(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=En(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,n=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,n)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,n=!1){this._isUserControllingRotate=!1;const r=En(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=En(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!n||Cn(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cn(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=pn,this._changedDolly=0,this._dollyToNoClamp(En(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const n=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const t=this._collisionTest(),r=Cn(t,this._spherical.radius);if(!(n>e)&&r)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,t)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const r=!t||Cn(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(qn).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const n=!t||Cn(this._target.x,this._targetEnd.x,this.restThreshold)&&Cn(this._target.y,this._targetEnd.y,this.restThreshold)&&Cn(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=En(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const n=!t||Cn(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(n)}pan(e,t,n=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,n)}truck(e,t,n=!1){this._camera.updateMatrix(),Wn.setFromMatrixColumn(this._camera.matrix,0),Zn.setFromMatrixColumn(this._camera.matrix,1),Wn.multiplyScalar(e),Zn.multiplyScalar(-t);const r=jn.copy(Wn).add(Zn),i=Hn.copy(this._targetEnd).add(r);return this.moveTo(i.x,i.y,i.z,n)}forward(e,t=!1){jn.setFromMatrixColumn(this._camera.matrix,0),jn.crossVectors(this._camera.up,jn),jn.multiplyScalar(e);const n=Hn.copy(this._targetEnd).add(jn);return this.moveTo(n.x,n.y,n.z,t)}elevate(e,t=!1){return jn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+jn.x,this._targetEnd.y+jn.y,this._targetEnd.z+jn.z,t)}moveTo(e,t,n,r=!1){this._isUserControllingTruck=!1;const i=jn.set(e,t,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const a=!r||Cn(this._target.x,this._targetEnd.x,this.restThreshold)&&Cn(this._target.y,this._targetEnd.y,this.restThreshold)&&Cn(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,n,r=!1){const i=jn.set(e,t,n).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(i.x,i.y,i.z,r)}fitToBox(e,t,{cover:n=!1,paddingLeft:r=0,paddingRight:i=0,paddingBottom:a=0,paddingTop:o=0}={}){const s=[],u=e.isBox3?Kn.copy(e):Kn.setFromObject(e);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const l=xn(this._sphericalEnd.theta,wn),c=xn(this._sphericalEnd.phi,wn);s.push(this.rotateTo(l,c,t));const f=jn.setFromSpherical(this._sphericalEnd).normalize(),h=tr.setFromUnitVectors(f,Ln),d=Cn(Math.abs(f.y),1);d&&h.multiply(nr.setFromAxisAngle(Rn,l)),h.multiply(this._yAxisUpSpaceInverse);const p=Jn.makeEmpty();Hn.copy(u.min).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.min).setX(u.max.x).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.min).setY(u.max.y).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.max).setZ(u.min.z).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.min).setZ(u.max.z).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.max).setY(u.min.y).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.max).setX(u.min.x).applyQuaternion(h),p.expandByPoint(Hn),Hn.copy(u.max).applyQuaternion(h),p.expandByPoint(Hn),p.min.x-=r,p.min.y-=a,p.max.x+=i,p.max.y+=o,h.setFromUnitVectors(Ln,f),d&&h.premultiply(nr.invert()),h.premultiply(this._yAxisUpSpace);const m=p.getSize(jn),g=p.getCenter(Hn).applyQuaternion(h);if(vn(this._camera)){const e=this.getDistanceToFitBox(m.x,m.y,m.z,n);s.push(this.moveTo(g.x,g.y,g.z,t)),s.push(this.dollyTo(e,t)),s.push(this.setFocalOffset(0,0,0,t))}else if(yn(this._camera)){const e=this._camera,r=e.right-e.left,i=e.top-e.bottom,a=n?Math.max(r/m.x,i/m.y):Math.min(r/m.x,i/m.y);s.push(this.moveTo(g.x,g.y,g.z,t)),s.push(this.zoomTo(a,t)),s.push(this.setFocalOffset(0,0,0,t))}return Promise.all(s)}fitToSphere(e,t){const n=[],r="isObject3D"in e?ar.createBoundingSphere(e,er):er.copy(e);if(n.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),vn(this._camera)){const e=this.getDistanceToFitSphere(r.radius);n.push(this.dollyTo(e,t))}else if(yn(this._camera)){const e=this._camera.right-this._camera.left,i=this._camera.top-this._camera.bottom,a=2*r.radius,o=Math.min(e/a,i/a);n.push(this.zoomTo(o,t))}return n.push(this.setFocalOffset(0,0,0,t)),Promise.all(n)}setLookAt(e,t,n,r,i,a,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=pn,this._changedDolly=0;const s=Hn.set(r,i,a),u=jn.set(e,t,n);this._targetEnd.copy(s),this._sphericalEnd.setFromVector3(u.sub(s).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const l=!o||Cn(this._target.x,this._targetEnd.x,this.restThreshold)&&Cn(this._target.y,this._targetEnd.y,this.restThreshold)&&Cn(this._target.z,this._targetEnd.z,this.restThreshold)&&Cn(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cn(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Cn(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(l)}lerpLookAt(e,t,n,r,i,a,o,s,u,l,c,f,h,d=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=pn,this._changedDolly=0;const p=jn.set(r,i,a),m=Hn.set(e,t,n);Xn.setFromVector3(m.sub(p).applyQuaternion(this._yAxisUpSpace));const g=Vn.set(l,c,f),v=Hn.set(o,s,u);Gn.setFromVector3(v.sub(g).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(g,h));const y=Gn.theta-Xn.theta,D=Gn.phi-Xn.phi,w=Gn.radius-Xn.radius;this._sphericalEnd.set(Xn.radius+w*h,Xn.phi+D*h,Xn.theta+y*h),this.normalizeRotations(),this._needsUpdate=!0,d||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const _=!d||Cn(this._target.x,this._targetEnd.x,this.restThreshold)&&Cn(this._target.y,this._targetEnd.y,this.restThreshold)&&Cn(this._target.z,this._targetEnd.z,this.restThreshold)&&Cn(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Cn(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Cn(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(_)}setPosition(e,t,n,r=!1){return this.setLookAt(e,t,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,n,r=!1){const i=this.getPosition(jn),a=this.setLookAt(i.x,i.y,i.z,e,t,n,r);return this._sphericalEnd.phi=En(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,n,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,n),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const i=!r||Cn(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Cn(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Cn(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(e,t,n){this._camera.updateMatrixWorld(),Wn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Zn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Yn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=jn.set(e,t,n),i=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);Wn.multiplyScalar(a.x),Zn.multiplyScalar(a.y),Yn.multiplyScalar(a.z),jn.copy(Wn).add(Zn).add(Yn),jn.z=jn.z+i,this.dollyTo(i,!1),this.setFocalOffset(-jn.x,jn.y,-jn.z,!1),this.moveTo(e,t,n,!1)}setBoundary(e){if(!e)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._needsUpdate=!0);this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,n,r){null!==e?(this._viewport=this._viewport||new Pn.Vector4,"number"==typeof e?this._viewport.set(e,t,n,r):this._viewport.copy(e)):this._viewport=null}getDistanceToFitBox(e,t,n,r=!1){if(On(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const i=e/t,a=this._camera.getEffectiveFOV()*_n,o=this._camera.aspect;return.5*((r?i>o:i<o)?t:e/o)/Math.tan(.5*a)+.5*n}getDistanceToFitSphere(e){if(On(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*_n,n=2*Math.atan(Math.tan(.5*t)*this._camera.aspect),r=1<this._camera.aspect?t:n;return e/Math.sin(.5*r)}getTarget(e,t=!0){return(e&&e.isVector3?e:new Pn.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new Pn.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new Pn.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new Pn.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Dn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Dn),this._spherical.theta+=Dn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Dn)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Cn(this._camera.up.x,this._cameraUp0.x)||!Cn(this._camera.up.y,this._cameraUp0.y)||!Cn(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const e=this.getPosition(jn);this.updateCameraUp(),this.setPosition(e.x,e.y,e.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Rn),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=jn.subVectors(this._target,this._camera.position).normalize(),t=Hn.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const n=this.getPosition(jn);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,i=Qn.subVectors(this._targetEnd,this._target),a=$n.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(bn(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Sn(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,t,1/0,e),this._needsUpdate=!0}if(bn(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Sn(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,t,1/0,e),this._needsUpdate=!0}if(bn(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const t=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Sn(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,t,this.maxSpeed,e),this._needsUpdate=!0}if(bn(i.x)&&bn(i.y)&&bn(i.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const t=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;Mn(this._target,this._targetEnd,this._targetVelocity,t,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(bn(a.x)&&bn(a.y)&&bn(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const t=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;Mn(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,t,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(bn(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const t=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Sn(this._zoom,this._zoomEnd,this._zoomVelocity,t,1/0,e)}if(this.dollyToCursor)if(vn(this._camera)&&0!==this._changedDolly){const e=this._spherical.radius-this._lastDistance,t=this._camera,n=this._getCameraDirection(qn),r=jn.copy(n).cross(t.up).normalize();0===r.lengthSq()&&(r.x=1);const i=Hn.crossVectors(r,n),a=this._sphericalEnd.radius*Math.tan(t.getEffectiveFOV()*_n*.5),o=(this._sphericalEnd.radius-e-this._sphericalEnd.radius)/this._sphericalEnd.radius,s=Vn.copy(this._targetEnd).add(r.multiplyScalar(this._dollyControlCoord.x*a*t.aspect)).add(i.multiplyScalar(this._dollyControlCoord.y*a)),u=jn.copy(this._targetEnd).lerp(s,o),l=this._lastDollyDirection===mn&&this._spherical.radius<=this.minDistance,c=this._lastDollyDirection===gn&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(l||c)){this._sphericalEnd.radius-=e,this._spherical.radius-=e;const t=Hn.copy(n).multiplyScalar(-e);u.add(t)}this._boundary.clampPoint(u,u);const f=Hn.subVectors(u,this._targetEnd);this._targetEnd.copy(u),this._target.add(f),this._changedDolly-=e,bn(this._changedDolly)&&(this._changedDolly=0)}else if(yn(this._camera)&&0!==this._changedZoom){const e=this._zoom-this._lastZoom,t=this._camera,n=jn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(t.near+t.far)/(t.near-t.far)).unproject(t),r=Hn.set(0,0,-1).applyQuaternion(t.quaternion),i=Vn.copy(n).add(r.multiplyScalar(-n.dot(t.up))),a=-(this._zoom-e-this._zoom)/this._zoom,o=this._getCameraDirection(qn),s=this._targetEnd.dot(o),u=jn.copy(this._targetEnd).lerp(i,a),l=u.dot(o),c=o.multiplyScalar(l-s);u.sub(c),this._boundary.clampPoint(u,u);const f=Hn.subVectors(u,this._targetEnd);this._targetEnd.copy(u),this._target.add(f),this._changedZoom-=e,bn(this._changedZoom)&&(this._changedZoom=0)}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const s=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,s),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target);(!bn(this._focalOffset.x)||!bn(this._focalOffset.y)||!bn(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Wn.setFromMatrixColumn(this._camera.matrix,0),Zn.setFromMatrixColumn(this._camera.matrix,1),Yn.setFromMatrixColumn(this._camera.matrix,2),Wn.multiplyScalar(this._focalOffset.x),Zn.multiplyScalar(-this._focalOffset.y),Yn.multiplyScalar(this._focalOffset.z),jn.copy(Wn).add(Zn).add(Yn),this._camera.position.add(jn)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),jn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),bn(t,this.restThreshold)&&bn(n,this.restThreshold)&&bn(r,this.restThreshold)&&bn(i.x,this.restThreshold)&&bn(i.y,this.restThreshold)&&bn(i.z,this.restThreshold)&&bn(a.x,this.restThreshold)&&bn(a.y,this.restThreshold)&&bn(a.z,this.restThreshold)&&bn(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Fn(this.maxDistance),minZoom:this.minZoom,maxZoom:Fn(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Fn(this.maxPolarAngle),minAzimuthAngle:Fn(this.minAzimuthAngle),maxAzimuthAngle:Fn(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:jn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=An(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=An(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=An(n.maxPolarAngle),this.minAzimuthAngle=An(n.minAzimuthAngle),this.maxAzimuthAngle=An(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],t),Xn.setFromVector3(jn.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Xn.theta,Xn.phi,t),this.dollyTo(Xn.radius,t),this.zoomTo(n.zoom,t),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],t),this._needsUpdate=!0}connect(e){this._domElement?console.warn("camera-controls is already connected."):(e.setAttribute("data-camera-controls-version","2.9.0"),this._addAllEventListeners(e),this._getClientRect(this._elementRect))}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find((t=>t.pointerId===e))}_findPointerByMouseButton(e){return this._activePointers.find((t=>t.mouseButton===e))}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,n){const r=t.lengthSq();if(0===r)return e;const i=Hn.copy(t).add(e),a=this._boundary.clampPoint(i,Vn).sub(i),o=a.lengthSq();if(0===o)return e.add(t);if(o===r)return e;if(0===n)return e.add(t).add(a);{const r=1+n*o/t.dot(a);return e.add(Hn.copy(t).multiplyScalar(r)).add(a.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if(vn(this._camera)){const e=this._camera,t=e.near,n=e.getEffectiveFOV()*_n,r=Math.tan(.5*n)*t,i=r*e.aspect;this._nearPlaneCorners[0].set(-i,-r,0),this._nearPlaneCorners[1].set(i,-r,0),this._nearPlaneCorners[2].set(i,r,0),this._nearPlaneCorners[3].set(-i,r,0)}else if(yn(this._camera)){const e=this._camera,t=1/e.zoom,n=e.left*t,r=e.right*t,i=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(n,i,0),this._nearPlaneCorners[1].set(r,i,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(n,a,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1))return e;if(On(this._camera,"_collisionTest"))return e;const t=this._getTargetDirection(qn);rr.lookAt(Un,t,this._camera.up);for(let n=0;n<4;n++){const r=Hn.copy(this._nearPlaneCorners[n]);r.applyMatrix4(rr);const i=Vn.addVectors(this._target,r);ir.set(i,t),ir.far=this._spherical.radius+1;const a=ir.intersectObjects(this.colliderMeshes);0!==a.length&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise((e=>{const t=()=>{this.removeEventListener("rest",t),e()};this.addEventListener("rest",t)})))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new Pn.Sphere){const n=t,r=n.center;Kn.makeEmpty(),e.traverseVisible((e=>{e.isMesh&&Kn.expandByObject(e)})),Kn.getCenter(r);let i=0;return e.traverseVisible((e=>{if(!e.isMesh)return;const t=e,n=t.geometry.clone();n.applyMatrix4(t.matrixWorld);const a=n.attributes.position;for(let o=0,s=a.count;o<s;o++)jn.fromBufferAttribute(a,o),i=Math.max(i,r.distanceToSquared(jn))})),n.radius=Math.sqrt(i),n}}const or=(0,r.forwardRef)(((e,t)=>{(0,r.useMemo)((()=>{const e={Box3:o.Box3,MathUtils:{clamp:o.MathUtils.clamp},Matrix4:o.Matrix4,Quaternion:o.Quaternion,Raycaster:o.Raycaster,Sphere:o.Sphere,Spherical:o.Spherical,Vector2:o.Vector2,Vector3:o.Vector3,Vector4:o.Vector4};ar.install({THREE:e}),D({CameraControlsImpl:ar})}),[]);const{camera:n,domElement:i,makeDefault:a,onStart:s,onEnd:u,onChange:l,regress:c,...f}=e,h=ce((e=>e.camera)),d=ce((e=>e.gl)),p=ce((e=>e.invalidate)),m=ce((e=>e.events)),g=ce((e=>e.setEvents)),v=ce((e=>e.set)),y=ce((e=>e.get)),w=ce((e=>e.performance)),_=n||h,E=i||m.connected||d.domElement,b=(0,r.useMemo)((()=>new ar(_)),[_]);return fe(((e,t)=>{b.enabled&&b.update(t)}),-1),(0,r.useEffect)((()=>(b.connect(E),()=>{b.disconnect()})),[E,b]),(0,r.useEffect)((()=>{const e=e=>{p(),c&&w.regress(),l&&l(e)},t=e=>{s&&s(e)},n=e=>{u&&u(e)};return b.addEventListener("update",e),b.addEventListener("controlstart",t),b.addEventListener("controlend",n),b.addEventListener("control",e),b.addEventListener("transitionstart",e),b.addEventListener("wake",e),()=>{b.removeEventListener("update",e),b.removeEventListener("controlstart",t),b.removeEventListener("controlend",n),b.removeEventListener("control",e),b.removeEventListener("transitionstart",e),b.removeEventListener("wake",e)}}),[b,s,u,p,g,c,l]),(0,r.useEffect)((()=>{if(a){const e=y().controls;return v({controls:b}),()=>v({controls:e})}}),[a,b]),r.createElement("primitive",Je({ref:t,object:b},f))}));function sr(e,t,n,r){const i=class extends o.ShaderMaterial{constructor(i={}){const a=Object.entries(e);super({uniforms:a.reduce(((e,[t,n])=>({...e,...o.UniformsUtils.clone({[t]:{value:n}})})),{}),vertexShader:t,fragmentShader:n}),this.key="",a.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),Object.assign(this,i),r&&r(this)}};return i.key=o.MathUtils.generateUUID(),i}const ur=sr({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),lr=(()=>parseInt(o.REVISION.replace(/\D+/g,"")))();const cr=r.createContext(null),fr=sr({color:new o.Color,blend:2,alphaTest:.75,opacity:0,map:null},"varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }",`varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <${lr>=154?"colorspace_fragment":"encodings_fragment"}>\n   }`),hr=r.forwardRef((({children:e,temporal:t,frames:n=40,limit:i=1/0,blend:a=20,scale:o=10,opacity:s=1,alphaTest:u=.75,color:l="black",colorBlend:c=2,resolution:f=1024,toneMapped:h=!0,...d},p)=>{D({SoftShadowMaterial:fr});const m=ce((e=>e.gl)),g=ce((e=>e.scene)),v=ce((e=>e.camera)),y=ce((e=>e.invalidate)),w=r.useRef(null),_=r.useRef(null),[E]=r.useState((()=>new pr(m,g,f)));r.useLayoutEffect((()=>{E.configure(w.current)}),[]);const b=r.useMemo((()=>({lights:new Map,temporal:!!t,frames:Math.max(2,n),blend:Math.max(2,n===1/0?a:n),count:0,getMesh:()=>w.current,reset:()=>{E.clear();const e=w.current.material;e.opacity=0,e.alphaTest=0,b.count=0},update:(e=1)=>{const t=w.current.material;b.temporal?(t.opacity=Math.min(s,t.opacity+s/b.blend),t.alphaTest=Math.min(u,t.alphaTest+u/b.blend)):(t.opacity=s,t.alphaTest=u),_.current.visible=!0,E.prepare();for(let n=0;n<e;n++)b.lights.forEach((e=>e.update())),E.update(v,b.blend);_.current.visible=!1,E.finish()}})),[E,v,g,t,n,a,s,u]);return r.useLayoutEffect((()=>{b.reset(),b.temporal||b.frames===1/0||b.update(b.blend)})),r.useImperativeHandle(p,(()=>b),[b]),fe((()=>{(b.temporal||b.frames===1/0)&&b.count<b.frames&&b.count<i&&(y(),b.update(),b.count++)})),r.createElement("group",d,r.createElement("group",{traverse:()=>null,ref:_},r.createElement(cr.Provider,{value:b},e)),r.createElement("mesh",{receiveShadow:!0,ref:w,scale:o,rotation:[-Math.PI/2,0,0]},r.createElement("planeGeometry",null),r.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:h,color:l,blend:c,map:E.progressiveLightMap2.texture})))})),dr=r.forwardRef((({castShadow:e=!0,bias:t=.001,mapSize:n=512,size:i=5,near:a=.5,far:s=500,frames:u=1,position:l=[0,0,0],radius:c=1,amount:f=8,intensity:h=(lr>=155?Math.PI:1),ambient:d=.5,...p},m)=>{const g=r.useRef(null),v=new o.Vector3(...l).length(),y=r.useContext(cr),D=r.useCallback((()=>{let e;if(g.current)for(let t=0;t<g.current.children.length;t++)if(e=g.current.children[t],Math.random()>d)e.position.set(l[0]+o.MathUtils.randFloatSpread(c),l[1]+o.MathUtils.randFloatSpread(c),l[2]+o.MathUtils.randFloatSpread(c));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,n=2*Math.PI*Math.random();e.position.set(Math.cos(t)*Math.cos(n)*v,Math.abs(Math.cos(t)*Math.sin(n)*v),Math.sin(t)*v)}}),[c,d,v,...l]),w=r.useMemo((()=>({update:D})),[D]);return r.useImperativeHandle(m,(()=>w),[w]),r.useLayoutEffect((()=>{var e;const t=g.current;return y&&(null==(e=y.lights)||e.set(t.uuid,w)),()=>{var e;null==y||null==(e=y.lights)||e.delete(t.uuid)}}),[y,w]),r.createElement("group",Je({ref:g},p),Array.from({length:f},((o,u)=>r.createElement("directionalLight",{key:u,castShadow:e,"shadow-bias":t,"shadow-mapSize":[n,n],intensity:h/f},r.createElement("orthographicCamera",{attach:"shadow-camera",args:[-i,i,i,-i,a,s]})))))}));class pr{constructor(e,t,n=1024){this.renderer=e,this.res=n,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new o.Color,this.clearAlpha=0;const r={type:o.HalfFloatType,magFilter:o.NearestFilter,minFilter:o.NearestFilter};this.progressiveLightMap1=new o.WebGLRenderTarget(this.res,this.res,r),this.progressiveLightMap2=new o.WebGLRenderTarget(this.res,this.res,r),this.discardMat=new ur,this.targetMat=new o.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n\tuniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+"\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }",e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse((e=>{!function(e){return!!e.geometry}(e)?function(e){return e.isLight}(e)&&this.lights.push({object:e,intensity:e.intensity}):this.meshes.push({object:e,material:e.material})}))}prepare(){this.lights.forEach((e=>e.object.intensity=0)),this.meshes.forEach((e=>e.object.material=this.discardMat))}finish(){this.lights.forEach((e=>e.object.intensity=e.intensity)),this.meshes.forEach((e=>e.object.material=e.material))}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const n=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,i=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(n),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=i}}var mr=n(4634),gr={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},vr=["Matrix","Array"],yr=["number","BigNumber","Fraction"];var Dr=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(gr)};mr(Dr,gr,{MATRIX_OPTIONS:vr,NUMBER_OPTIONS:yr});var wr,_r,Er=9e15,br=1e9,Cr="0123456789abcdef",xr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Fr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ar={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Er,maxE:Er,crypto:!1},Sr=!0,Mr="[DecimalError] ",Tr=Mr+"Invalid argument: ",Or=Mr+"Precision limit exceeded",Nr=Mr+"crypto unavailable",Br="[object Decimal]",zr=Math.floor,kr=Math.pow,Pr=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ur=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Lr=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir=1e7,jr=xr.length-1,Hr=Fr.length-1,Vr={toStringTag:Br};function qr(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=ti(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=ti(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function Wr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Tr+e)}function Zr(e,t,n,r){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=kr(10,7-t),s=e[i]%a|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):o=(n<4&&s+1==a||n>3&&s+1==a/2)&&(e[i+1]/a/100|0)==kr(10,t-2)-1||(s==a/2||0==s)&&!(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(r||n<4)&&9999==s||!r&&n>3&&4999==s):o=((r||n<4)&&s+1==a||!r&&n>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==kr(10,t-3)-1,o}function Yr(e,t,n){for(var r,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=Cr.indexOf(e.charAt(o++)),r=0;r<a.length;r++)a[r]>n-1&&(void 0===a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}Vr.absoluteValue=Vr.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),$r(e)},Vr.ceil=function(){return $r(new this.constructor(this),this.e+1,2)},Vr.clampedTo=Vr.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Tr+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Vr.comparedTo=Vr.cmp=function(e){var t,n,r,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,l=e.s;if(!o||!s)return u&&l?u!==l?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-l:0;if(u!==l)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,n=(r=o.length)<(i=s.length)?r:i;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Vr.cosine=Vr.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/fi(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=ci(e,1,t.times(i),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,hi(r,n)),r.precision=e,r.rounding=t,$r(2==_r||3==_r?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Vr.cubeRoot=Vr.cbrt=function(){var e,t,n,r,i,a,o,s,u,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(Sr=!1,(a=c.s*kr(c.s*c,1/3))&&Math.abs(a)!=1/0?r=new f(a.toString()):(n=qr(c.d),(a=((e=c.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=kr(n,1/3),e=zr((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=a==1/0?"5e"+e:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),o=(e=f.precision)+3;;)if(l=(u=(s=r).times(s).times(s)).plus(c),r=Qr(l.plus(c).times(s),l.plus(u),o+2,1),qr(s.d).slice(0,o)===(n=qr(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||($r(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&($r(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,i=1}return Sr=!0,$r(r,e,f.rounding,t)},Vr.decimalPlaces=Vr.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-zr(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Vr.dividedBy=Vr.div=function(e){return Qr(this,new this.constructor(e))},Vr.dividedToIntegerBy=Vr.divToInt=function(e){var t=this.constructor;return $r(Qr(this,new t(e),0,1,1),t.precision,t.rounding)},Vr.equals=Vr.eq=function(e){return 0===this.cmp(e)},Vr.floor=function(){return $r(new this.constructor(this),this.e+1,3)},Vr.greaterThan=Vr.gt=function(e){return this.cmp(e)>0},Vr.greaterThanOrEqualTo=Vr.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Vr.hyperbolicCosine=Vr.cosh=function(){var e,t,n,r,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/fi(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=ci(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return $r(a,o.precision=n,o.rounding=r,!0)},Vr.hyperbolicSine=Vr.sinh=function(){var e,t,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=ci(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=ci(a,2,i=i.times(1/fi(5,e)),i,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=n,$r(i,t,n,!0)},Vr.hyperbolicTangent=Vr.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Qr(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Vr.inverseCosine=Vr.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,a=n.rounding;return-1!==r?0===r?t.isNeg()?Jr(n,i,a):new n(0):new n(NaN):t.isZero()?Jr(n,i+4,a).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=Jr(n,i+4,a).times(.5),n.precision=i,n.rounding=a,e.minus(t))},Vr.inverseHyperbolicCosine=Vr.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Sr=!1,n=n.times(n).minus(1).sqrt().plus(n),Sr=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Vr.inverseHyperbolicSine=Vr.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Sr=!1,n=n.times(n).plus(1).sqrt().plus(n),Sr=!0,r.precision=e,r.rounding=t,n.ln())},Vr.inverseHyperbolicTangent=Vr.atanh=function(){var e,t,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?$r(new a(i),e,t,!0):(a.precision=n=r-i.e,i=Qr(i.plus(1),new a(1).minus(i),n+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},Vr.inverseSine=Vr.asin=function(){var e,t,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),n=a.precision,r=a.rounding,-1!==t?0===t?((e=Jr(a,n+4,r).times(.5)).s=i.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))},Vr.inverseTangent=Vr.atan=function(){var e,t,n,r,i,a,o,s,u,l=this,c=l.constructor,f=c.precision,h=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=Hr)return(o=Jr(c,f+4,h).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(f+4<=Hr)return(o=Jr(c,f+4,h).times(.5)).s=l.s,o}for(c.precision=s=f+10,c.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Sr=!1,t=Math.ceil(s/7),r=1,u=l.times(l),o=new c(l),i=l;-1!==e;)if(i=i.times(u),a=o.minus(i.div(r+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(r+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Sr=!0,$r(o,c.precision=f,c.rounding=h,!0)},Vr.isFinite=function(){return!!this.d},Vr.isInteger=Vr.isInt=function(){return!!this.d&&zr(this.e/7)>this.d.length-2},Vr.isNaN=function(){return!this.s},Vr.isNegative=Vr.isNeg=function(){return this.s<0},Vr.isPositive=Vr.isPos=function(){return this.s>0},Vr.isZero=function(){return!!this.d&&0===this.d[0]},Vr.lessThan=Vr.lt=function(e){return this.cmp(e)<0},Vr.lessThanOrEqualTo=Vr.lte=function(e){return this.cmp(e)<1},Vr.logarithm=Vr.log=function(e){var t,n,r,i,a,o,s,u,l=this,c=l.constructor,f=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(i=n[0];i%10==0;)i/=10;a=1!==i}if(Sr=!1,o=oi(l,s=f+5),r=t?Kr(c,s+10):oi(e,s),Zr((u=Qr(o,r,s,1)).d,i=f,h))do{if(o=oi(l,s+=10),r=t?Kr(c,s+10):oi(e,s),u=Qr(o,r,s,1),!a){+qr(u.d).slice(i+1,i+15)+1==1e14&&(u=$r(u,f+1,0));break}}while(Zr(u.d,i+=10,h));return Sr=!0,$r(u,f,h)},Vr.minus=Vr.sub=function(e){var t,n,r,i,a,o,s,u,l,c,f,h,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(l=d.d,h=e.d,s=p.precision,u=p.rounding,!l[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(d)}return Sr?$r(e,s,u):e}if(n=zr(e.e/7),c=zr(d.e/7),l=l.slice(),a=c-n){for((f=a<0)?(t=l,a=-a,o=h.length):(t=h,n=c,o=l.length),a>(r=Math.max(Math.ceil(s/7),o)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((f=(r=l.length)<(o=h.length))&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){f=l[r]<h[r];break}a=0}for(f&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(i=r;i&&0===l[--i];)l[i]=Ir-1;--l[i],l[r]+=Ir}l[r]-=h[r]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(e.d=l,e.e=Gr(l,n),Sr?$r(e,s,u):e):new p(3===u?-0:0)},Vr.modulo=Vr.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?$r(new r(n),r.precision,r.rounding):(Sr=!1,9==r.modulo?(t=Qr(n,e.abs(),0,3,1)).s*=e.s:t=Qr(n,e,0,r.modulo,1),t=t.times(e),Sr=!0,n.minus(t))},Vr.naturalExponential=Vr.exp=function(){return ai(this)},Vr.naturalLogarithm=Vr.ln=function(){return oi(this)},Vr.negated=Vr.neg=function(){var e=new this.constructor(this);return e.s=-e.s,$r(e)},Vr.plus=Vr.add=function(e){var t,n,r,i,a,o,s,u,l,c,f=this,h=f.constructor;if(e=new h(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new h(e.d||f.s===e.s?f:NaN)):e=new h(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(l=f.d,c=e.d,s=h.precision,u=h.rounding,!l[0]||!c[0])return c[0]||(e=new h(f)),Sr?$r(e,s,u):e;if(a=zr(f.e/7),r=zr(e.e/7),l=l.slice(),i=a-r){for(i<0?(n=l,i=-i,o=c.length):(n=c,r=a,o=l.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,n=c,c=l,l=n),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/Ir|0,l[i]%=Ir;for(t&&(l.unshift(t),++r),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=Gr(l,r),Sr?$r(e,s,u):e},Vr.precision=Vr.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Tr+e);return n.d?(t=ei(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Vr.round=function(){var e=this,t=e.constructor;return $r(new t(e),e.e+1,t.rounding)},Vr.sine=Vr.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:ci(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/fi(5,n)),t=ci(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(r,hi(r,n)),r.precision=e,r.rounding=t,$r(_r>2?n.neg():n,e,t,!0)):new r(NaN)},Vr.squareRoot=Vr.sqrt=function(){var e,t,n,r,i,a,o=this,s=o.d,u=o.e,l=o.s,c=o.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(Sr=!1,0==(l=Math.sqrt(+o))||l==1/0?(((t=qr(s)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=zr((u+1)/2)-(u<0||u%2),r=new c(t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(a=r).plus(Qr(o,a,n+2,1)).times(.5),qr(a.d).slice(0,n)===(t=qr(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($r(r,u+1,1),e=!r.times(r).eq(o));break}if(!i&&($r(a,u+1,0),a.times(a).eq(o))){r=a;break}n+=4,i=1}return Sr=!0,$r(r,u,c.rounding,e)},Vr.tangent=Vr.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=Qr(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,$r(2==_r||4==_r?n.neg():n,e,t,!0)):new r(NaN)},Vr.times=Vr.mul=function(e){var t,n,r,i,a,o,s,u,l,c=this,f=c.constructor,h=c.d,d=(e=new f(e)).d;if(e.s*=c.s,!(h&&h[0]&&d&&d[0]))return new f(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*e.s:e.s/0);for(n=zr(c.e/7)+zr(e.e/7),(u=h.length)<(l=d.length)&&(a=h,h=d,d=a,o=u,u=l,l=o),a=[],r=o=u+l;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)s=a[i]+d[r]*h[i-r-1]+t,a[i--]=s%Ir|0,t=s/Ir|0;a[i]=(a[i]+t)%Ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=Gr(a,n),Sr?$r(e,f.precision,f.rounding):e},Vr.toBinary=function(e,t){return di(this,2,e,t)},Vr.toDecimalPlaces=Vr.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Wr(e,0,br),void 0===t?t=r.rounding:Wr(t,0,8),$r(n,e+n.e+1,t))},Vr.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Xr(r,!0):(Wr(e,0,br),void 0===t?t=i.rounding:Wr(t,0,8),n=Xr(r=$r(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Vr.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?n=Xr(i):(Wr(e,0,br),void 0===t?t=a.rounding:Wr(t,0,8),n=Xr(r=$r(new a(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Vr.toFraction=function(e){var t,n,r,i,a,o,s,u,l,c,f,h,d=this,p=d.d,m=d.constructor;if(!p)return new m(d);if(l=n=new m(1),r=u=new m(0),o=(a=(t=new m(r)).e=ei(p)-d.e-1)%7,t.d[0]=kr(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new m(e)).isInt()||s.lt(l))throw Error(Tr+s);e=s.gt(t)?a>0?t:l:s}for(Sr=!1,s=new m(qr(p)),c=m.precision,m.precision=a=7*p.length*2;f=Qr(s,t,0,1,1),1!=(i=n.plus(f.times(r))).cmp(e);)n=r,r=i,i=l,l=u.plus(f.times(i)),u=i,i=t,t=s.minus(f.times(i)),s=i;return i=Qr(e.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=d.s,h=Qr(l,r,a,1).minus(d).abs().cmp(Qr(u,n,a,1).minus(d).abs())<1?[l,r]:[u,n],m.precision=c,Sr=!0,h},Vr.toHexadecimal=Vr.toHex=function(e,t){return di(this,16,e,t)},Vr.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Wr(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Sr=!1,n=Qr(n,e,0,t,1).times(e),Sr=!0,$r(n)):(e.s=n.s,n=e),n},Vr.toNumber=function(){return+this},Vr.toOctal=function(e,t){return di(this,8,e,t)},Vr.toPower=Vr.pow=function(e){var t,n,r,i,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(kr(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,a=u.rounding,e.eq(1))return $r(s,r,a);if((t=zr(e.e/7))>=e.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=ni(u,s,n,r),e.s<0?new u(1).div(i):$r(i,r,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(1&e.d[t]||(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(n=kr(+s,l))&&isFinite(n)?new u(n+"").e:zr(l*(Math.log("0."+qr(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(Sr=!1,u.rounding=s.s=1,n=Math.min(12,(t+"").length),(i=ai(e.times(oi(s,r+n)),r)).d&&Zr((i=$r(i,r+5,1)).d,r,a)&&(t=r+10,+qr((i=$r(ai(e.times(oi(s,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=$r(i,r+1,0))),i.s=o,Sr=!0,u.rounding=a,$r(i,r,a))},Vr.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Xr(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Wr(e,1,br),void 0===t?t=i.rounding:Wr(t,0,8),n=Xr(r=$r(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Vr.toSignificantDigits=Vr.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Wr(e,1,br),void 0===t?t=n.rounding:Wr(t,0,8)),$r(new n(this),e,t)},Vr.toString=function(){var e=this,t=e.constructor,n=Xr(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Vr.truncated=Vr.trunc=function(){return $r(new this.constructor(this),this.e+1,1)},Vr.valueOf=Vr.toJSON=function(){var e=this,t=e.constructor,n=Xr(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var Qr=function(){function e(e,t,n){var r,i=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+i,e[a]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o,s,u){var l,c,f,h,d,p,m,g,v,y,D,w,_,E,b,C,x,F,A,S,M=r.constructor,T=r.s==i.s?1:-1,O=r.d,N=i.d;if(!(O&&O[0]&&N&&N[0]))return new M(r.s&&i.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*T:T/0:NaN);for(u?(d=1,c=r.e-i.e):(u=Ir,d=7,c=zr(r.e/d)-zr(i.e/d)),A=N.length,x=O.length,y=(v=new M(T)).d=[],f=0;N[f]==(O[f]||0);f++);if(N[f]>(O[f]||0)&&c--,null==a?(E=a=M.precision,o=M.rounding):E=s?a+(r.e-i.e)+1:a,E<0)y.push(1),p=!0;else{if(E=E/d+2|0,f=0,1==A){for(h=0,N=N[0],E++;(f<x||h)&&E--;f++)b=h*u+(O[f]||0),y[f]=b/N|0,h=b%N|0;p=h||f<x}else{for((h=u/(N[0]+1)|0)>1&&(N=e(N,h,u),O=e(O,h,u),A=N.length,x=O.length),C=A,w=(D=O.slice(0,A)).length;w<A;)D[w++]=0;(S=N.slice()).unshift(0),F=N[0],N[1]>=u/2&&++F;do{h=0,(l=t(N,D,A,w))<0?(_=D[0],A!=w&&(_=_*u+(D[1]||0)),(h=_/F|0)>1?(h>=u&&(h=u-1),1==(l=t(m=e(N,h,u),D,g=m.length,w=D.length))&&(h--,n(m,A<g?S:N,g,u))):(0==h&&(l=h=1),m=N.slice()),(g=m.length)<w&&m.unshift(0),n(D,m,w,u),-1==l&&(l=t(N,D,A,w=D.length))<1&&(h++,n(D,A<w?S:N,w,u)),w=D.length):0===l&&(h++,D=[0]),y[f++]=h,l&&D[0]?D[w++]=O[C]||0:(D=[O[C]],w=1)}while((C++<x||void 0!==D[0])&&E--);p=void 0!==D[0]}y[0]||y.shift()}if(1==d)v.e=c,wr=p;else{for(f=1,h=y[0];h>=10;h/=10)f++;v.e=f+c*d-1,$r(v,s?a+v.e+1:a,o,p)}return v}}();function $r(e,t,n,r){var i,a,o,s,u,l,c,f,h,d=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,o=t,u=(c=f[h=0])/kr(10,i-o-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(s=f.length)){if(!r)break e;for(;s++<=h;)f.push(0);c=u=0,i=1,o=(a%=7)-7+1}else{for(c=s=f[h],i=1;s>=10;s/=10)i++;u=(o=(a%=7)-7+i)<0?0:c/kr(10,i-o-1)%10|0}if(r=r||t<0||void 0!==f[h+1]||(o<0?c:c%kr(10,i-o-1)),l=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(a>0?o>0?c/kr(10,i-o):0:f[h-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,l?(t-=e.e+1,f[0]=kr(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=h,s=1,h--):(f.length=h+1,s=kr(10,7-a),f[h]=o>0?(c/kr(10,i-o)%kr(10,o)|0)*s:0),l)for(;;){if(0==h){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,f[0]==Ir&&(f[0]=1));break}if(f[h]+=s,f[h]!=Ir)break;f[h--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return Sr&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function Xr(e,t,n){if(!e.isFinite())return si(e);var r,i=e.e,a=qr(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ti(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+ti(-i-1)+a,n&&(r=n-o)>0&&(a+=ti(r))):i>=o?(a+=ti(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ti(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ti(r))),a}function Gr(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function Kr(e,t,n){if(t>jr)throw Sr=!0,n&&(e.precision=n),Error(Or);return $r(new e(xr),t,1,!0)}function Jr(e,t,n){if(t>Hr)throw Error(Or);return $r(new e(Fr),t,n,!0)}function ei(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ti(e){for(var t="";e--;)t+="0";return t}function ni(e,t,n,r){var i,a=new e(1),o=Math.ceil(r/7+4);for(Sr=!1;;){if(n%2&&pi((a=a.times(t)).d,o)&&(i=!0),0===(n=zr(n/2))){n=a.d.length-1,i&&0===a.d[n]&&++a.d[n];break}pi((t=t.times(t)).d,o)}return Sr=!0,a}function ri(e){return 1&e.d[e.d.length-1]}function ii(e,t,n){for(var r,i=new e(t[0]),a=0;++a<t.length;){if(!(r=new e(t[a])).s){i=r;break}i[n](r)&&(i=r)}return i}function ai(e,t){var n,r,i,a,o,s,u,l=0,c=0,f=0,h=e.constructor,d=h.rounding,p=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(Sr=!1,u=p):u=t,s=new h(.03125);e.e>-2;)e=e.times(s),f+=5;for(u+=r=Math.log(kr(2,f))/Math.LN10*2+5|0,n=a=o=new h(1),h.precision=u;;){if(a=$r(a.times(e),u,1),n=n.times(++c),qr((s=o.plus(Qr(a,n,u,1))).d).slice(0,u)===qr(o.d).slice(0,u)){for(i=f;i--;)o=$r(o.times(o),u,1);if(null!=t)return h.precision=p,o;if(!(l<3&&Zr(o.d,u-r,d,l)))return $r(o,h.precision=p,d,Sr=!0);h.precision=u+=10,n=a=s=new h(1),c=0,l++}o=s}}function oi(e,t){var n,r,i,a,o,s,u,l,c,f,h,d=1,p=e,m=p.d,g=p.constructor,v=g.rounding,y=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==t?(Sr=!1,c=y):c=t,g.precision=c+=10,r=(n=qr(m)).charAt(0),!(Math.abs(a=p.e)<15e14))return l=Kr(g,c+2,y).times(a+""),p=oi(new g(r+"."+n.slice(1)),c-10).plus(l),g.precision=y,null==t?$r(p,y,v,Sr=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=qr((p=p.times(e)).d)).charAt(0),d++;for(a=p.e,r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1)),f=p,u=o=p=Qr(p.minus(1),p.plus(1),c,1),h=$r(p.times(p),c,1),i=3;;){if(o=$r(o.times(h),c,1),qr((l=u.plus(Qr(o,new g(i),c,1))).d).slice(0,c)===qr(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(Kr(g,c+2,y).times(a+""))),u=Qr(u,new g(d),c,1),null!=t)return g.precision=y,u;if(!Zr(u.d,c-10,v,s))return $r(u,g.precision=y,v,Sr=!0);g.precision=c+=10,l=o=p=Qr(f.minus(1),f.plus(1),c,1),h=$r(p.times(p),c,1),i=s=1}u=l,i+=2}}function si(e){return String(e.s*e.s/0)}function ui(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),Sr&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function li(e,t){var n,r,i,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Lr.test(t))return ui(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ur.test(t))n=16,t=t.toLowerCase();else if(Pr.test(t))n=2;else{if(!Rr.test(t))throw Error(Tr+t);n=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,r=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,i=ni(r,new r(n),a,2*a)),a=c=(l=Yr(t,n,Ir)).length-1;0===l[a];--a)l.pop();return a<0?new r(0*e.s):(e.e=Gr(l,c),e.d=l,Sr=!1,o&&(e=Qr(e,i,4*s)),u&&(e=e.times(Math.abs(u)<54?kr(2,u):ta.pow(2,u))),Sr=!0,e)}function ci(e,t,n,r,i){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(Sr=!1,u=n.times(n),s=new e(r);;){if(o=Qr(s.times(u),new e(t++*t++),l,1),s=i?r.plus(o):r.minus(o),r=Qr(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(r)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=r,r=o,o=a}return Sr=!0,o.d.length=c+1,o}function fi(e,t){for(var n=e;--t;)n*=e;return n}function hi(e,t){var n,r=t.s<0,i=Jr(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return _r=r?4:1,t;if((n=t.divToInt(i)).isZero())_r=r?3:2;else{if((t=t.minus(n.times(i))).lte(a))return _r=ri(n)?r?2:3:r?4:1,t;_r=ri(n)?r?1:4:r?3:2}return t.minus(i).abs()}function di(e,t,n,r){var i,a,o,s,u,l,c,f,h,d=e.constructor,p=void 0!==n;if(p?(Wr(n,1,br),void 0===r?r=d.rounding:Wr(r,0,8)):(n=d.precision,r=d.rounding),e.isFinite()){for(p?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(o=(c=Xr(e)).indexOf("."))>=0&&(c=c.replace(".",""),(h=new d(1)).e=c.length-o,h.d=Yr(Xr(h),10,i),h.e=h.d.length),a=u=(f=Yr(c,10,i)).length;0==f[--u];)f.pop();if(f[0]){if(o<0?a--:((e=new d(e)).d=f,e.e=a,f=(e=Qr(e,h,n,r,0,i)).d,a=e.e,l=wr),o=f[n],s=i/2,l=l||void 0!==f[n+1],l=r<4?(void 0!==o||l)&&(0===r||r===(e.s<0?3:2)):o>s||o===s&&(4===r||l||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,l)for(;++f[--n]>i-1;)f[n]=0,n||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,c="";o<u;o++)c+=Cr.charAt(f[o]);if(p){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(f=Yr(c,i,t)).length;!f[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Cr.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=si(e);return e.s<0?"-"+c:c}function pi(e,t){if(e.length>t)return e.length=t,!0}function mi(e){return new this(e).abs()}function gi(e){return new this(e).acos()}function vi(e){return new this(e).acosh()}function yi(e,t){return new this(e).plus(t)}function Di(e){return new this(e).asin()}function wi(e){return new this(e).asinh()}function _i(e){return new this(e).atan()}function Ei(e){return new this(e).atanh()}function bi(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,a=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?Jr(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=Jr(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,n=this.atan(Qr(e,t,a,1)),t=Jr(this,a,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Qr(e,t,a,1)):(n=Jr(this,a,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Ci(e){return new this(e).cbrt()}function xi(e){return $r(e=new this(e),e.e+1,2)}function Fi(e,t,n){return new this(e).clamp(t,n)}function Ai(e){if(!e||"object"!=typeof e)throw Error(Mr+"Object expected");var t,n,r,i=!0===e.defaults,a=["precision",1,br,"rounding",0,8,"toExpNeg",-Er,0,"toExpPos",0,Er,"maxE",0,Er,"minE",-Er,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],i&&(this[n]=Ar[n]),void 0!==(r=e[n])){if(!(zr(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(Tr+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Ar[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Tr+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Nr);this[n]=!0}else this[n]=!1}return this}function Si(e){return new this(e).cos()}function Mi(e){return new this(e).cosh()}function Ti(e,t){return new this(e).div(t)}function Oi(e){return new this(e).exp()}function Ni(e){return $r(e=new this(e),e.e+1,3)}function Bi(){var e,t,n=new this(0);for(Sr=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Sr=!0,new this(1/0);n=t}return Sr=!0,n.sqrt()}function zi(e){return e instanceof ta||e&&e.toStringTag===Br||!1}function ki(e){return new this(e).ln()}function Pi(e,t){return new this(e).log(t)}function Ui(e){return new this(e).log(2)}function Ri(e){return new this(e).log(10)}function Li(){return ii(this,arguments,"lt")}function Ii(){return ii(this,arguments,"gt")}function ji(e,t){return new this(e).mod(t)}function Hi(e,t){return new this(e).mul(t)}function Vi(e,t){return new this(e).pow(t)}function qi(e){var t,n,r,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:Wr(e,1,br),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Nr);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=r/4}else for(;a<r;)s[a++]=1e7*Math.random()|0;for(e%=7,(r=s[--a])&&e&&(i=kr(10,7-e),s[a]=(r/i|0)*i);0===s[a];a--)s.pop();if(a<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=s,o}function Wi(e){return $r(e=new this(e),e.e+1,this.rounding)}function Zi(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Yi(e){return new this(e).sin()}function Qi(e){return new this(e).sinh()}function $i(e){return new this(e).sqrt()}function Xi(e,t){return new this(e).sub(t)}function Gi(){var e=0,t=arguments,n=new this(t[e]);for(Sr=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Sr=!0,$r(n,this.precision,this.rounding)}function Ki(e){return new this(e).tan()}function Ji(e){return new this(e).tanh()}function ea(e){return $r(e=new this(e),e.e+1,1)}Vr[Symbol.for("nodejs.util.inspect.custom")]=Vr.toString,Vr[Symbol.toStringTag]="Decimal";var ta=Vr.constructor=function e(t){var n,r,i;function a(e){var t,n,r,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,zi(e))return i.s=e.s,void(Sr?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(Sr?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):ui(i,e.toString())}if("string"!==r)throw Error(Tr+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Lr.test(e)?ui(i,e):li(i,e)}if(a.prototype=Vr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=Ai,a.clone=e,a.isDecimal=zi,a.abs=mi,a.acos=gi,a.acosh=vi,a.add=yi,a.asin=Di,a.asinh=wi,a.atan=_i,a.atanh=Ei,a.atan2=bi,a.cbrt=Ci,a.ceil=xi,a.clamp=Fi,a.cos=Si,a.cosh=Mi,a.div=Ti,a.exp=Oi,a.floor=Ni,a.hypot=Bi,a.ln=ki,a.log=Pi,a.log10=Ri,a.log2=Ui,a.max=Li,a.min=Ii,a.mod=ji,a.mul=Hi,a.pow=Vi,a.random=qi,a.round=Wi,a.sign=Zi,a.sin=Yi,a.sinh=Qi,a.sqrt=$i,a.sub=Xi,a.sum=Gi,a.tan=Ki,a.tanh=Ji,a.trunc=ea,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(Ar);xr=new ta(xr),Fr=new ta(Fr);var na=ta;function ra(e){return"number"==typeof e}function ia(e){return!(!e||"object"!=typeof e||"function"!=typeof e.constructor)&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function aa(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function oa(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function sa(e){return e&&!0===e.constructor.prototype.isUnit||!1}function ua(e){return"string"==typeof e}var la=Array.isArray;function ca(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function fa(e){return Array.isArray(e)||ca(e)}function ha(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function da(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function pa(e){return e&&!0===e.constructor.prototype.isRange||!1}function ma(e){return e&&!0===e.constructor.prototype.isIndex||!1}function ga(e){return"boolean"==typeof e}function va(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function ya(e){return e&&!0===e.constructor.prototype.isHelp||!1}function Da(e){return"function"==typeof e}function wa(e){return e instanceof Date}function _a(e){return e instanceof RegExp}function Ea(e){return!(!e||"object"!=typeof e||e.constructor!==Object||aa(e)||oa(e))}function ba(e){return null===e}function Ca(e){return void 0===e}function xa(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function Fa(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function Aa(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Sa(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function Ma(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function Ta(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Oa(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Na(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function Ba(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function za(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function ka(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function Pa(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function Ua(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function Ra(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function La(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function Ia(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function ja(e){return e&&!0===e.constructor.prototype.isChain||!1}function Ha(e){var t=typeof e;return"object"===t?null===e?"null":ia(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Va(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return Va(e)}));if(e instanceof Date)return new Date(e.valueOf());if(ia(e))return e;if(Ea(e))return function(e,t){var n={};for(var r in e)Wa(e,r)&&(n[r]=t(e[r]));return n}(e,Va);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function qa(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!qa(e[r],t[r]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!qa(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function Wa(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Za(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=e[i];void 0!==a&&(n[i]=a)}return n}(r,t.map(Ya));return function(e,t,n){var r=t.filter((e=>!function(e){return e&&"?"===e[0]}(e))).every((e=>void 0!==n[e]));if(!r){var i=t.filter((e=>void 0===n[e]));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map((e=>'"'.concat(e,'"'))).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Ya(e){return e&&"?"===e[0]?e.slice(1):e}var Qa=Za("BigNumber",["?on","config"],(e=>{var{on:t,config:n}=e,r=na.clone({precision:n.precision,modulo:na.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})})),r}),{isClass:!0});const $a=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},Xa=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},Ga=function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Ka=function(){throw SyntaxError("Invalid Param")};function Ja(e,t){const n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}const eo={re:0,im:0},to=function(e,t){const n=eo;if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return no.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return no.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):Ka();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,i=0;null===t&&Ka();for(let e=0;e<t.length;e++){const a=t[e];" "===a||"\t"===a||"\n"===a||("+"===a?r++:"-"===a?i++:"i"===a||"I"===a?(r+i===0&&Ka()," "===t[e+1]||isNaN(t[e+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+t[e+1]),e++),r=i=0):((r+i===0||isNaN(a))&&Ka(),"i"===t[e+1]||"I"===t[e+1]?(n.im+=parseFloat((i%2?"-":"")+a),e++):n.re+=parseFloat((i%2?"-":"")+a),r=i=0))}r+i>0&&Ka();break;case"number":n.im=0,n.re=e;break;default:Ka()}return isNaN(n.re)||isNaN(n.im),n};function no(e,t){if(!(this instanceof no))return new no(e,t);const n=to(e,t);this.re=n.re,this.im=n.im}function ro(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}no.prototype={re:0,im:0,sign:function(){const e=Ga(this.re,this.im);return new no(this.re/e,this.im/e)},add:function(e,t){const n=to(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?no.NAN:no.INFINITY:new no(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=to(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?no.NAN:no.INFINITY:new no(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=to(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;return r&&o||i&&a?no.NAN:r||i?no.INFINITY:0===n.im&&0===this.im?new no(this.re*n.re,0):new no(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=to(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;if(a&&o||r&&i)return no.NAN;if(o||r)return no.INFINITY;if(a||i)return no.ZERO;if(0===n.im)return new no(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const e=n.re/n.im,t=n.re*e+n.im;return new no((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=n.im/n.re,t=n.im*e+n.re;return new no((this.re+this.im*e)/t,(this.im-this.re*e)/t)}},pow:function(e,t){const n=to(e,t),r=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return no.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new no(Math.pow(this.re,n.re),0);if(0===this.re)switch((n.re%4+4)%4){case 0:return new no(Math.pow(this.im,n.re),0);case 1:return new no(0,Math.pow(this.im,n.re));case 2:return new no(-Math.pow(this.im,n.re),0);case 3:return new no(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return no.ZERO;const i=Math.atan2(this.im,this.re),a=Ja(this.re,this.im);let o=Math.exp(n.re*a-n.im*i),s=n.im*a+n.re*i;return new no(o*Math.cos(s),o*Math.sin(s))},sqrt:function(){const e=this.re,t=this.im;if(0===t)return e>=0?new no(Math.sqrt(e),0):new no(0,Math.sqrt(-e));const n=Ga(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new no(r,t<0?-i:i):new no(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return 0===this.im?new no(e,0):new no(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new no(Math.expm1(e)*Math.cos(t)+function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return 0===t&&e>0?new no(Math.log(e),0):new no(Ja(e,t),Math.atan2(t,e))},abs:function(){return Ga(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new no(Math.sin(e)*$a(t),Math.cos(e)*Xa(t))},cos:function(){const e=this.re,t=this.im;return new no(Math.cos(e)*$a(t),-Math.sin(e)*Xa(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+$a(t);return new no(Math.sin(e)/n,Xa(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-$a(t);return new no(-Math.sin(e)/n,Xa(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*$a(2*t)+.5*Math.cos(2*e);return new no(Math.cos(e)*$a(t)/n,Math.sin(e)*Xa(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*$a(2*t)-.5*Math.cos(2*e);return new no(Math.sin(e)*$a(t)/n,-Math.cos(e)*Xa(t)/n)},asin:function(){const e=this.re,t=this.im,n=new no(t*t-e*e+1,-2*e*t).sqrt(),r=new no(n.re-t,n.im+e).log();return new no(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new no(t*t-e*e+1,-2*e*t).sqrt(),r=new no(n.re-t,n.im+e).log();return new no(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new no(0,1/0);if(-1===t)return new no(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new no((1-t*t-e*e)/n,-2*e/n).log();return new no(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(0===t)return new no(Math.atan2(1,e),0);const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).atan():new no(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new no(0,1/0);const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).acos():new no(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new no(Math.PI/2,1/0);const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).asin():new no(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new no(Xa(e)*Math.cos(t),$a(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new no($a(e)*Math.cos(t),Xa(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=$a(e)+Math.cos(t);return new no(Xa(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=$a(e)-Math.cos(t);return new no(Xa(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-$a(2*e);return new no(-2*Xa(e)*Math.cos(t)/n,2*$a(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+$a(2*e);return new no(2*$a(e)*Math.cos(t)/n,-2*Xa(e)*Math.sin(t)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,a=r*r+t*t,o=0!==a?new no((i*r-t*t)/a,(t*r+i*t)/a):new no(-1!==e?e/0:0,0!==t?t/0:0),s=o.re;return o.re=Ja(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new no(0,Math.PI/2);const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).atanh():new no(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(0===t)return new no(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).asinh():new no(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return no.INFINITY;const n=e*e+t*t;return 0!==n?new no(e/n,-t/n).acosh():new no(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return no.INFINITY;if(this.isInfinite())return no.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new no(e/n,-t/n)},conjugate:function(){return new no(this.re,-this.im)},neg:function(){return new no(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new no(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new no(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new no(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=to(e,t);return Math.abs(n.re-this.re)<=no.EPSILON&&Math.abs(n.im-this.im)<=no.EPSILON},clone:function(){return new no(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<no.EPSILON&&(e=0),Math.abs(t)<no.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},no.ZERO=new no(0,0),no.ONE=new no(1,0),no.I=new no(0,1),no.PI=new no(Math.PI,0),no.E=new no(Math.E,0),no.INFINITY=new no(1/0,1/0),no.NAN=new no(NaN,NaN),no.EPSILON=1e-15;var io=Math.sign||function(e){return e>0?1:e<0?-1:0},ao=Math.log2||function(e){return Math.log(e)/Math.LN2},oo=Math.log10||function(e){return Math.log(e)/Math.LN10},so=(Math.log1p,Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t}),uo=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function lo(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!ro(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!ro(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(r).concat(e.toString(t)).concat(i)}function co(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=fo(t);switch(n){case"fixed":return po(e,r);case"exponential":return mo(e,r);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ho(e),r=go(n,t),i=r.exponent,a=r.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(ra(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),u=0;u<s;u++)a.push(0);var l=Math.abs(i-o),c=1;for(;l>0;)c++,l--;var f=a.slice(c).join(""),h=ra(t)&&f.length||f.match(/[1-9]/)?"."+f:"",d=a.slice(0,c).join("")+h+"e"+(i>=0?"+":"")+o.toString();return r.sign+d}(e,r);case"bin":return lo(e,2,i);case"oct":return lo(e,8,i);case"hex":return lo(e,16,i);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=xo(null==n?void 0:n.lowerExp,-3),i=xo(null==n?void 0:n.upperExp,5),a=ho(e),o=t?go(a,t):a;if(o.exponent<r||o.exponent>=i)return mo(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(vo(t-s.length))),s=s.concat(vo(u-s.length+1+(s.length<t?t-s.length:0)));var l=u>0?u:0;return l<(s=vo(-u).concat(s)).length-1&&s.splice(l+1,0,"."),o.sign+s.join("")}(e,r,t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fo(e){var t,n,r="auto";if(void 0!==e)if(ra(e))t=e;else if(ia(e))t=e.toNumber();else{if(!Ea(e))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==e.precision&&(t=Co(e.precision,(()=>{throw new Error('Option "precision" must be a number or BigNumber')}))),void 0!==e.wordSize&&(n=Co(e.wordSize,(()=>{throw new Error('Option "wordSize" must be a number or BigNumber')}))),e.notation&&(r=e.notation)}return{notation:r,precision:t,wordSize:n}}function ho(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=-1!==a?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function po(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ho(e),r="number"==typeof t?go(n,n.exponent+1+t):n,i=r.coefficients,a=r.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(vo(o-i.length))),a<0&&(i=vo(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),r.sign+i.join("")}function mo(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ho(e),r=t?go(n,t):n,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(vo(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function go(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function vo(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var yo=Number.EPSILON||2220446049250313e-31;function Do(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=yo||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var wo=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},_o=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Eo=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},bo=(Math.cosh,Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2});Math.tanh;function Co(e,t){return ra(e)?e:ia(e)?e.toNumber():void t()}function xo(e,t){return ra(e)?e:ia(e)?e.toNumber():t}var Fo=Za("Complex",[],(()=>(Object.defineProperty(no,"name",{value:"Complex"}),no.prototype.constructor=no,no.prototype.type="Complex",no.prototype.isComplex=!0,no.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},no.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},no.prototype.format=function(e){var t=this.im,n=this.re,r=co(this.re,e),i=co(this.im,e),a=ra(e)?e:e?e.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(n/t)<o&&(n=0),Math.abs(t/n)<o&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},no.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return no(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(ra(n)){if(sa(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),ra(r))return new no({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},no.prototype.valueOf=no.prototype.toString,no.fromJSON=function(e){return new no(e)},no.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},no)),{isClass:!0});function Ao(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),a=0,o=function(e){var o=i[e];if(o&&(delete r[o],delete i[e],--t,n===o)){if(!t)return a=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(s){var u=i[s],l=++a;if(r[l]=s,i[s]=l,!u){if(++t<=e)return;return s=r[n],o(s),s}if(delete r[u],n===u)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=a=0,n=1,r=Object.create(null),i=Object.create(null)}}}function So(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:Ao(n||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var s=e.apply(e,i);return r.cache.values.set(o,s),r.cache.values.delete(r.cache.lru.hit(o)),s}}function Mo(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}So((function(e){return new e(1).exp()}),{hasher:Oo}),So((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),{hasher:Oo});var To=So((function(e){return e.acos(-1)}),{hasher:Oo});So((function(e){return To(e).times(2)}),{hasher:Oo});function Oo(e){return e[0].precision}Math.PI,Math.PI,Math.E;No("fineStructure",.0072973525693),No("weakMixingAngle",.2229),No("efimovFactor",22.7),No("sackurTetrode",-1.16487052358);function No(e,t){return Za(e,["config","BigNumber"],(e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t}))}var Bo=n(3996),zo=Za("Fraction",[],(()=>(Object.defineProperty(Bo,"name",{value:"Fraction"}),Bo.prototype.constructor=Bo,Bo.prototype.type="Fraction",Bo.prototype.isFraction=!0,Bo.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Bo.fromJSON=function(e){return new Bo(e)},Bo)),{isClass:!0}),ko=Za("Matrix",[],(()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0});function Po(e,t,n){var r=new(0,e.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!ro(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),i="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Uo(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=fo(t);switch(n){case"fixed":return function(e,t){return e.toFixed(t)}(e,r);case"exponential":return Ro(e,r);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),a=i.toPrecision(t);if(a.includes("e")){a=new(0,e.constructor)(a).toFixed()}return a+"e"+(n>=0?"+":"")+r.toString()}(e,r);case"bin":return Po(e,2,i);case"oct":return Po(e,8,i);case"hex":return Po(e,16,i);case"auto":var a=Lo(null==t?void 0:t.lowerExp,-3),o=Lo(null==t?void 0:t.upperExp,5);if(e.isZero())return"0";var s=e.toSignificantDigits(r),u=s.e;return(u>=a&&u<o?s.toFixed():Ro(e,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ro(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Lo(e,t){return ra(e)?e:ia(e)?e.toNumber():t}function Io(e,t){var n=function(e,t){if("number"==typeof e)return co(e,t);if(ia(e))return Uo(e,t);if(function(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return Vo(e,t);if(ua(e))return jo(e);if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e){return"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((n=>jo(n)+": "+Io(e[n],t))).join(", ")+"}"}return String(e)}(e,t);return t&&"object"==typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function jo(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in Ho?Ho[i]:i,r++}return'"'+n+'"'}var Ho={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Vo(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=Vo(e[i],t);return n+="]"}return Io(e,t)}function qo(e,t){if(!ua(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ha(e)+", index: 0)");if(!ua(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ha(t)+", index: 1)");return e===t?0:e>t?1:-1}function Wo(e,t,n){if(!(this instanceof Wo))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Zo(e,t,n){if(!(this instanceof Zo))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Yo(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Qo(e,t,n){var r,i=e.length;if(i!==t[n])throw new Wo(i,t[n]);if(n<t.length-1){var a=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new Wo(t.length-1,t.length,"<");Qo(e[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new Wo(t.length+1,t.length,">")}function $o(e,t){if(0===t.length){if(Array.isArray(e))throw new Wo(e.length,0)}else Qo(e,t,0)}function Xo(e,t){if(void 0!==e){if(!ra(e)||!ro(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new Zo(e,t)}}function Go(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!ra(e)||!ro(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Io(t)+")")})),(ra(e)||ia(e))&&(e=[e]),Ko(e,t,0,void 0!==n?n:0),e}function Ko(e,t,n,r){var i,a,o=e.length,s=t[n],u=Math.min(o,s);if(e.length=s,n<t.length-1){var l=n+1;for(i=0;i<u;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),Ko(a,t,l,r);for(i=u;i<s;i++)a=[],e[i]=a,Ko(a,t,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<s;i++)e[i]=r}}function Jo(e,t){var n=is(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Wo(0,r,"!=");var i=ts(t=es(t,r));if(r!==i)throw new Wo(i,r,"!=");try{return function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}(n,t)}catch(vc){if(vc instanceof Wo)throw new Wo(i,r,"!=");throw vc}}function es(e,t){var n=ts(e),r=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%n==0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[i]=-t/n}return r}function ts(e){return e.reduce(((e,t)=>e*t),1)}function ns(e,t,n,r){var i=r||Yo(e);if(n)for(var a=0;a<n;a++)e=[e],i.unshift(1);for(e=rs(e,t,0);i.length<t;)i.push(1);return e}function rs(e,t,n){var r,i;if(Array.isArray(e)){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=rs(e[r],t,a)}else for(var o=n;o<t;o++)e=[e];return e}function is(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function as(e,t){for(var n,r=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(r=a.length),o&&a.length!==r)return;var s=o?as(a,t):t(a);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function os(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Wo(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=os(e[a],t[a],n,r+1);return i}return e.concat(t)}function ss(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce((function(e,n){return os(e,n,t,0)}),e[0]);throw new Error("Wrong number of arguments in function concat")}function us(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map((e=>e.length)),i=Math.max(...r),a=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],u=r[o],l=0;l<u;l++){var c=i-u+l;s[l]>a[c]&&(a[c]=s[l])}for(var f=0;f<t.length;f++)ls(t[f],a);return a}function ls(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var a=n-r+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[a]))}}function cs(e,t){var n=Yo(e);if(qa(n,t))return e;ls(n,t);var r,i,a,o=us(n,t),s=o.length,u=[...Array(s-n.length).fill(1),...n],l=function(e){return mr([],e)}(e);n.length<s&&(n=Yo(l=Jo(l,u)));for(var c=0;c<s;c++)n[c]<o[c]&&(r=l,i=o[c],a=c,n=Yo(l=ss(...Array(i).fill(r),a)));return l}Wo.prototype=new RangeError,Wo.prototype.constructor=RangeError,Wo.prototype.name="DimensionError",Wo.prototype.isDimensionError=!0,Zo.prototype=new RangeError,Zo.prototype.constructor=RangeError,Zo.prototype.name="IndexError",Zo.prototype.isIndexError=!0;var fs=Za("DenseMatrix",["Matrix"],(e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!ua(t))throw new Error("Invalid datatype: "+t);if(ca(e))"DenseMatrix"===e.type?(this._data=Va(e._data),this._size=Va(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&la(e.data)&&la(e.size))this._data=e.data,this._size=e.size,$o(this._data,this._size),this._datatype=t||e.datatype;else if(la(e))this._data=s(e),this._size=Yo(this._data),$o(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+Ha(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t,n,i){var a=i===n-1,o=t.dimension(i);return a?o.map((function(t){return Xo(t,e.length),e[t]})).valueOf():o.map((function(a){return Xo(a,e.length),r(e[a],t,n,i+1)})).valueOf()}function i(e,t,n,r,a){var o=a===r-1,s=t.dimension(a);o?s.forEach((function(t,r){Xo(t),e[t]=n[r[0]]})):s.forEach((function(o,s){Xo(o),i(e[o],t,n[s[0]],r,a+1)}))}function a(e,t,n){if(0===t.length){for(var r=e._data;la(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Go(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var o=0,s=t.length;o<s;o++)t[o]>r[o]&&(r[o]=t[o],i=!0);i&&a(e,r,n)}function s(e){return ca(e)?s(e.valueOf()):la(e)?e.map(s):e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return as(this._data,Ha)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,a){switch(arguments.length){case 1:return function(e,t){if(!ma(t))throw new TypeError("Invalid index");var i=t.isScalar();if(i)return e.get(t.min());var a=t.size();if(a.length!==e._size.length)throw new Wo(a.length,e._size.length);for(var o=t.min(),s=t.max(),u=0,l=e._size.length;u<l;u++)Xo(o[u],e._size[u]),Xo(s[u],e._size[u]);return new n(r(e._data,t,a.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,s=t.size(),u=t.isScalar();ca(n)?(a=n.size(),n=n.valueOf()):a=Yo(n);if(u){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(!qa(a,s))try{a=Yo(n=0===a.length?cs([n],s):cs(n,s))}catch(p){}if(s.length<e._size.length)throw new Wo(s.length,e._size.length,"<");if(a.length<s.length){for(var l=0,c=0;1===s[l]&&1===a[l];)l++;for(;1===s[l];)c++,l++;n=ns(n,s.length,c,a)}if(!qa(s,a))throw new Wo(s,a,">");var f=t.max().map((function(e){return e+1}));o(e,f,r);var h=s.length,d=0;i(e._data,t,n,h,d)}return e}(this,e,t,a);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!la(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Wo(e.length,this._size.length);for(var t=0;t<e.length;t++)Xo(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var a=e[r];Xo(a,n.length),n=n[a]}return n},n.prototype.set=function(e,t,n){if(!la(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Wo(e.length,this._size.length,"<");var r,i,a,s=e.map((function(e){return e+1}));o(this,s,n);var u=this._data;for(r=0,i=e.length-1;r<i;r++)Xo(a=e[r],u.length),u=u[a];return Xo(a=e[e.length-1],u.length),u[a]=t,this},n.prototype.resize=function(e,t,n){if(!fa(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));return a(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=Jo(n._data,e);var r=n._size.reduce(((e,t)=>e*t));return n._size=es(e,r),n},n.prototype.clone=function(){return new n({data:Va(this._data),size:Va(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=Mo(e),i=function n(i,a){return la(i)?i.map((function(e,t){return n(e,a.concat(t))})):1===r?e(i):2===r?e(i,a):e(i,a,t)}(this._data,[]);return new n(i,void 0!==this._datatype?as(i,Ha):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,i){la(r)?r.forEach((function(e,t){n(e,i.concat(t))})):e(r,i,t)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*e(t,n){if(la(t))for(var r=0;r<t.length;r++)yield*e(t[r],n.concat(r));else yield{value:t,index:n}}(this._data,[])},n.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new n([r],this._datatype));return e},n.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,a=function(r){var a=i.map((e=>[e[r]]));t.push(new n(a,e._datatype))},o=0;o<r[1];o++)a(o);return t},n.prototype.toArray=function(){return Va(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return Io(this._data,e)},n.prototype.toString=function(){return Io(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(ia(e)&&(e=e.toNumber()),!ra(e)||!ro(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,i=this._size[0],a=this._size[1],o=Math.min(i-r,a-t),s=[],u=0;u<o;u++)s[u]=this._data[u+r][u+t];return new n({data:s,size:[o],datatype:this._datatype})},n.diagonal=function(e,t,r,i){if(!la(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(ia(e)&&(e=e.toNumber()),!ra(e)||!ro(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(ia(r)&&(r=r.toNumber()),!ra(r)||!ro(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a,o=r>0?r:0,s=r<0?-r:0,u=e[0],l=e[1],c=Math.min(u-s,l-o);if(la(t)){if(t.length!==c)throw new Error("Invalid value array length");a=function(e){return t[e]}}else if(ca(t)){var f=t.size();if(1!==f.length||f[0]!==c)throw new Error("Invalid matrix length");a=function(e){return t.get([e])}}else a=function(){return t};i||(i=ia(a(0))?a(0).mul(0):0);var h=[];if(e.length>0){h=Go(h,e,i);for(var d=0;d<c;d++)h[d+s][d+o]=a(d)}return new n({data:h,size:[u,l]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!(ra(e)&&ro(e)&&ra(t)&&ro(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Xo(e,this._size[0]),Xo(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n}),{isClass:!0}),hs=n(2369);function ds(e,t){if(vs(e)&&ms(e,t))return e[t];if("function"==typeof e[t]&&gs(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function ps(e,t,n){if(vs(e)&&ms(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function ms(e,t){return!(!e||"object"!=typeof e)&&(!!Wa(ys,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function gs(e,t){return null!=e&&"function"==typeof e[t]&&(!(Wa(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!Wa(Ds,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function vs(e){return"object"==typeof e&&e&&e.constructor===Object}var ys={length:!0,name:!0},Ds={toString:!0,valueOf:!0,toLocaleString:!0};class ws{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return ds(this.wrappedObject,e)}set(e,t){return ps(this.wrappedObject,e,t),this}has(e){return t=this.wrappedObject,e in t;var t}entries(){return _s(this.keys(),(e=>[e,this.get(e)]))}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function _s(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function Es(e){return!!e&&(e instanceof Map||e instanceof ws||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}var bs=function(){return bs=hs.create,hs},Cs=Za("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:i}=e,a=bs();return a.clear(),a.addTypes([{name:"number",test:ra},{name:"Complex",test:aa},{name:"BigNumber",test:ia},{name:"Fraction",test:oa},{name:"Unit",test:sa},{name:"identifier",test:e=>ua&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:ua},{name:"Chain",test:ja},{name:"Array",test:la},{name:"Matrix",test:ca},{name:"DenseMatrix",test:ha},{name:"SparseMatrix",test:da},{name:"Range",test:pa},{name:"Index",test:ma},{name:"boolean",test:ga},{name:"ResultSet",test:va},{name:"Help",test:ya},{name:"function",test:Da},{name:"Date",test:wa},{name:"RegExp",test:_a},{name:"null",test:ba},{name:"undefined",test:Ca},{name:"AccessorNode",test:xa},{name:"ArrayNode",test:Fa},{name:"AssignmentNode",test:Aa},{name:"BlockNode",test:Sa},{name:"ConditionalNode",test:Ma},{name:"ConstantNode",test:Ta},{name:"FunctionNode",test:Na},{name:"FunctionAssignmentNode",test:Oa},{name:"IndexNode",test:Ba},{name:"Node",test:za},{name:"ObjectNode",test:ka},{name:"OperatorNode",test:Pa},{name:"ParenthesisNode",test:Ua},{name:"RangeNode",test:Ra},{name:"RelationalNode",test:La},{name:"SymbolNode",test:Ia},{name:"Map",test:Es},{name:"Object",test:Ea}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||xs(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||Fs(e),new n(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return n||Fs(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||Fs(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||As(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||xs(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||As(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||Fs(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||xs(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||As(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),a.onMismatch=(e,t,n)=>{var r=a.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&fa(t[0])&&n.some((e=>!e.params.includes(",")))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},a.onMismatch=(e,t,n)=>{var r=a.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&fa(t[0])&&n.some((e=>!e.params.includes(",")))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},a}));function xs(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Fs(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function As(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}function Ss(e,t,n){return e&&"function"==typeof e.map?e.map((function(e){return Ss(e,t,n)})):t(e)}var Ms="number",Ts="number, number";function Os(e){return Math.abs(e)}function Ns(e,t){return e+t}function Bs(e,t){return e-t}function zs(e,t){return e*t}function ks(e){return-e}function Ps(e){return e}function Us(e){return so(e)}function Rs(e){return e*e*e}function Ls(e){return Math.exp(e)}function Is(e){return uo(e)}function js(e,t){if(!ro(e)||!ro(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function Hs(e){return oo(e)}function Vs(e){return ao(e)}function qs(e){return io(e)}function Ws(e){return e*e}function Zs(e,t){var n,r,i,a=0,o=1,s=1,u=0;if(!ro(e)||!ro(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=a,a=o-r*a,o=n,n=s,s=u-r*s,u=n,e=t,t=i;return e<0?[-e,-o,-u]:[e,e?o:0,u]}function Ys(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}Os.signature=Ms,Ns.signature=Ts,Bs.signature=Ts,zs.signature=Ts,ks.signature=Ms,Ps.signature=Ms,Us.signature=Ms,Rs.signature=Ms,Ls.signature=Ms,Is.signature=Ms,js.signature=Ts,Hs.signature=Ms,Vs.signature=Ms,qs.signature=Ms,Ws.signature=Ms,Zs.signature=Ts,Ys.signature=Ts;var Qs=Za("abs",["typed"],(e=>{var{typed:t}=e;return t("abs",{number:Os,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e,!0)))})})),$s="number";function Xs(e){return wo(e)}function Gs(e){return Math.atan(1/e)}function Ks(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function Js(e){return Math.asin(1/e)}function eu(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function tu(e){return Math.acos(1/e)}function nu(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function ru(e){return _o(e)}function iu(e){return Eo(e)}function au(e){return 1/Math.tan(e)}function ou(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function su(e){return 1/Math.sin(e)}function uu(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*io(e)}function lu(e){return 1/Math.cos(e)}function cu(e){return 2/(Math.exp(e)+Math.exp(-e))}function fu(e){return bo(e)}Xs.signature=$s,Gs.signature=$s,Ks.signature=$s,Js.signature=$s,eu.signature=$s,tu.signature=$s,nu.signature=$s,ru.signature=$s,iu.signature=$s,au.signature=$s,ou.signature=$s,su.signature=$s,uu.signature=$s,lu.signature=$s,cu.signature=$s,fu.signature=$s;var hu="addScalar",du=Za(hu,["typed"],(e=>{var{typed:t}=e;return t(hu,{"number, number":Ns,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf((e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))})})),pu=Za("bignumber",["typed","BigNumber"],(e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],i=n(t[1]),a=new n(2).pow(Number(r));if(i.gt(a.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var o=new n(2).pow(Number(r)-1);return i.gte(o)?i.sub(a):i}return new n(e)},BigNumber:function(e){return e},Unit:t.referToSelf((e=>t=>{var n=t.clone();return n.value=e(t.value),n})),Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))})}));var mu="number, number";function gu(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function bitAnd");return e&t}function vu(e){if(!ro(e))throw new Error("Integer expected in function bitNot");return~e}function yu(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function bitOr");return e|t}function Du(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function bitXor");return e^t}function wu(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function leftShift");return e<<t}function _u(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function Eu(e,t){if(!ro(e)||!ro(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}gu.signature=mu,vu.signature="number",yu.signature=mu,Du.signature=mu,wu.signature=mu,_u.signature=mu,Eu.signature=mu;function bu(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return bu(e,n)*bu(n+1,t)}function Cu(e,t){if(!ro(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!ro(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,i=2,a=t<n?t:n,o=t<n?n+1:t+1;o<=e;++o)for(r*=o;i<=a&&r%i==0;)r/=i,++i;return i<=a&&(r/=bu(i,a)),r}Cu.signature="number, number";var xu=Za("complex",["typed","Complex"],(e=>{var{typed:t,Complex:n}=e;return t("complex",{"":function(){return n.ZERO},number:function(e){return new n(e,0)},"number, number":function(e,t){return new n(e,t)},"BigNumber, BigNumber":function(e,t){return new n(e.toNumber(),t.toNumber())},Fraction:function(e){return new n(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return n(e)},null:function(e){return n(0)},Object:function(e){if("re"in e&&"im"in e)return new n(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new n(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))})})),Fu="conj",Au=Za(Fu,["typed"],(e=>{var{typed:t}=e;return t(Fu,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))})})),Su=Za("trigUnit",["typed"],(e=>{var{typed:t}=e;return{Unit:t.referToSelf((e=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(e,n.valueType())(n.value)}))}})),Mu=Za("cos",["typed"],(e=>{var{typed:t}=e,n=Su({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},n)}));function Tu(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var Ou=Za("compareUnits",["typed"],(e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf((e=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),r.valueType()])(n.value,r.value)}))}})),Nu="equalScalar",Bu=Za(Nu,["typed","config"],(e=>{var{typed:t,config:n}=e,r=Ou({typed:t});return t(Nu,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return Do(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||Tu(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return Do(e.re,t.re,n)&&Do(e.im,t.im,n)}(e,t,n.epsilon)}},r)})),zu=(Za(Nu,["typed","config"],(e=>{var{typed:t,config:n}=e;return t(Nu,{"number, number":function(e,t){return Do(e,t,n.epsilon)}})})),Math.pow(2,53),Za("exp",["typed"],(e=>{var{typed:t}=e;return t("exp",{number:Ls,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})})));Za("hex",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"hex",wordSize:t})}})}));var ku="number";function Pu(e){return e<0}function Uu(e){return e>0}function Ru(e){return 0===e}function Lu(e){return Number.isNaN(e)}Pu.signature=ku,Uu.signature=ku,Ru.signature=ku,Lu.signature=ku;var Iu="isZero",ju=Za(Iu,["typed"],(e=>{var{typed:t}=e;return t(Iu,{number:Ru,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:t.referToSelf((e=>n=>t.find(e,n.valueType())(n.value))),"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))})}));function Hu(e){var t;if(ro(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:bu(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Hu(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=qu[0];for(var o=1;o<qu.length;++o)t+=qu[o]/(e+o);var s=e+Vu+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}Hu.signature="number";var Vu=4.7421875,qu=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Wu=.9189385332046728,Zu=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Yu(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-Yu(1-e);for(var t=(e-=1)+5+.5,n=Zu[0],r=6;r>=1;r--)n+=Zu[r]/(e+r);return Wu+(e+.5)*Math.log(t)-t+Math.log(n)}Yu.signature="number";var Qu=Za("multiplyScalar",["typed"],(e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":zs,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})})),$u="number, number";function Xu(e){return!e}function Gu(e,t){return!(!e&&!t)}function Ku(e,t){return!!e!=!!t}function Ju(e,t){return!(!e||!t)}Xu.signature="number",Gu.signature=$u,Ku.signature=$u,Ju.signature=$u;var el=Za("number",["typed"],(e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t,n,r=(n=(t=e).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:t,radix:{"0b":2,"0o":8,"0x":16}[n[1]],integerPart:n[2],fractionalPart:n[3]}:null;if(r)return function(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++)n+=parseInt(e.fractionalPart[r],e.radix)/Math.pow(e.radix,r+1);var i=t+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}(r);var i=0,a=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(i=Number(a[2]),e=a[1]);var o=Number(e);if(isNaN(o))throw new SyntaxError('String "'+e+'" is not a valid number');if(a){if(o>2**i-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));o>=2**(i-1)&&(o-=2**i)}return o},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf((e=>t=>{var n=t.clone();return n.value=e(t.value),n})),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))});return n.fromJSON=function(e){return parseFloat(e.value)},n})),tl=(Za("oct",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"oct",wordSize:t})}})})),n(7391));Date.now();var nl=Za("sin",["typed"],(e=>{var{typed:t}=e,n=Su({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},n)})),rl=Za("SparseMatrix",["typed","equalScalar","Matrix"],(e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!ua(t))throw new Error("Invalid datatype: "+t);if(ca(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?Va(t._values):void 0,e._index=Va(t._index),e._ptr=Va(t._ptr),e._size=Va(t._size),e._datatype=n||t._datatype):a(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&la(e.index)&&la(e.ptr)&&la(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(la(e))a(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+Ha(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function a(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=r.length,o=0,s=n,u=0;if(ua(i)&&(s=t.find(n,[i,i])||n,u=t.convert(0,i)),a>0){var l=0;do{e._ptr.push(e._index.length);for(var c=0;c<a;c++){var f=r[c];if(la(f)){if(0===l&&o<f.length&&(o=f.length),l<f.length){var h=f[l];s(h,u)||(e._values.push(h),e._index.push(c))}}else 0===l&&o<1&&(o=1),s(f,u)||(e._values.push(f),e._index.push(c))}l++}while(l<o)}e._ptr.push(e._index.length),e._size=[a,o]}function o(e,t,n,r){if(n-t==0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function s(e,t,n,r,i,a,o){i.splice(e,0,r),a.splice(e,0,t);for(var s=n+1;s<o.length;s++)o[s]++}function u(e,r,i,a){var o=a||0,s=n,u=0;ua(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,u=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var l,c,f,h=!s(o,u),d=e._size[0],p=e._size[1];if(i>p){for(c=p;c<i;c++)if(e._ptr[c]=e._values.length,h)for(l=0;l<d;l++)e._values.push(o),e._index.push(l);e._ptr[i]=e._values.length}else i<p&&(e._ptr.splice(i+1,p-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(p=i,r>d){if(h){var m=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]+m,f=e._ptr[c+1]+m;var g=0;for(l=d;l<r;l++,g++)e._values.splice(f+g,0,o),e._index.splice(f+g,0,l),m++}e._ptr[p]=e._values.length}}else if(r<d){var v=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]-v;var y=e._ptr[c],D=e._ptr[c+1]-v;for(f=y;f<D;f++)(l=e._index[f])>r-1&&(e._values.splice(f,1),e._index.splice(f,1),v++)}e._ptr[c]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function l(e,t,n,r,i){var a,o,s=r[0],u=r[1],l=[];for(a=0;a<s;a++)for(l[a]=[],o=0;o<u;o++)l[a][o]=0;for(o=0;o<u;o++)for(var c=n[o],f=n[o+1],h=c;h<f;h++)l[a=t[h]][o]=e?i?Va(e[h]):e[h]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return as(this._values,Ha)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!ma(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,a,o,s=t.size();if(s.length!==e._size.length)throw new Wo(s.length,e._size.length);var u=t.min(),l=t.max();for(n=0,r=e._size.length;n<r;n++)Xo(u[n],e._size[n]),Xo(l[n],e._size[n]);var c=e._values,f=e._index,h=e._ptr,d=t.dimension(0),p=t.dimension(1),m=[],g=[];d.forEach((function(e,t){g[e]=t[0],m[e]=!0}));var v=c?[]:void 0,y=[],D=[];return p.forEach((function(e){for(D.push(y.length),a=h[e],o=h[e+1];a<o;a++)n=f[a],!0===m[n]&&(y.push(g[n]),v&&v.push(c[a]))})),D.push(y.length),new i({values:v,index:y,ptr:D,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();ca(n)?(i=n.size(),n=n.toArray()):i=Yo(n);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==a.length&&2!==a.length)throw new Wo(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;n=ns(n,a.length,u,i)}if(!qa(a,i))throw new Wo(a,i,">");if(1===a.length){t.dimension(0).forEach((function(t,i){Xo(t),e.set([t,0],n[i[0]],r)}))}else{var l=t.dimension(0),c=t.dimension(1);l.forEach((function(t,i){Xo(t),c.forEach((function(a,o){Xo(a),e.set([t,a],n[i[0]][o[0]],r)}))}))}}return e}(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!la(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Wo(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Xo(t,this._size[0]),Xo(n,this._size[1]);var r=o(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!la(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Wo(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],l=e[1],c=this._size[0],f=this._size[1],h=n,d=0;ua(this._datatype)&&(h=t.find(n,[this._datatype,this._datatype])||n,d=t.convert(0,this._datatype)),(a>c-1||l>f-1)&&(u(this,Math.max(a+1,c),Math.max(l+1,f),i),c=this._size[0],f=this._size[1]),Xo(a,c),Xo(l,f);var p=o(a,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===a?h(r,d)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(p,l,this._values,this._index,this._ptr):this._values[p]=r:h(r,d)||s(p,a,l,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!fa(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(e){if(!ra(e)||!ro(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Io(r)+")")})),u(n?this.clone():this,r[0],r[1],t)},i.prototype.reshape=function(e,t){if(!la(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach((function(t){if(!ra(t)||!ro(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Io(e)+")")}));var n=this._size[0]*this._size[1];if(n!==(e=es(e,n))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var i=[],a=0;a<r._ptr.length;a++)for(var u=0;u<r._ptr[a+1]-r._ptr[a];u++)i.push(a);for(var l=r._values.slice(),c=r._index.slice(),f=0;f<r._index.length;f++){var h=c[f],d=i[f],p=h*r._size[1]+d;i[f]=p%e[1],c[f]=Math.floor(p/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<l.length;g++){var v=c[g],y=i[g],D=l[g];s(o(v,r._ptr[y],r._ptr[y+1],r._index),v,y,D,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?Va(this._values):void 0,index:Va(this._index),ptr:Va(this._ptr),size:Va(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this,o=this._size[0],s=this._size[1],u=Mo(e);return function(e,r,a,o,s,u,l){var c=[],f=[],h=[],d=n,p=0;ua(e._datatype)&&(d=t.find(n,[e._datatype,e._datatype])||n,p=t.convert(0,e._datatype));for(var m=function(e,t,n){e=u(e,t,n),d(e,p)||(c.push(e),f.push(t))},g=o;g<=s;g++){h.push(c.length);var v=e._ptr[g],y=e._ptr[g+1];if(l)for(var D=v;D<y;D++){var w=e._index[D];w>=r&&w<=a&&m(e._values[D],w-r,g-o)}else{for(var _={},E=v;E<y;E++){_[e._index[E]]=e._values[E]}for(var b=r;b<=a;b++){m(b in _?_[b]:0,b-r,g-o)}}}return h.push(c.length),new i({values:c,index:f,ptr:h,size:[a-r+1,s-o+1]})}(this,0,o-1,0,s-1,(function(t,n,r){return 1===u?e(t):2===u?e(t,[n,r]):e(t,[n,r],a)}),r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var u=this._index[s];e(this._values[s],[u,i],this)}else{for(var l={},c=a;c<o;c++){l[this._index[c]]=this._values[c]}for(var f=0;f<n;f++){e(f in l?l[f]:0,[f,i],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var n=this._ptr[t],r=this._ptr[t+1],i=n;i<r;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Io(t,e)+" x "+Io(n,e)+"] density: "+Io(r,e)+"\n",a=0;a<n;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++){i+="\n    ("+Io(this._index[u],e)+", "+Io(a,e)+") ==> "+(this._values?Io(this._values[u],e):"X")}return i},i.prototype.toString=function(){return Io(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(ia(e)&&(e=e.toNumber()),!ra(e)||!ro(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],a=this._size[1],o=Math.min(r-n,a-t),s=[],u=[],l=[];l[0]=0;for(var c=t;c<a&&s.length<o;c++)for(var f=this._ptr[c],h=this._ptr[c+1],d=f;d<h;d++){var p=this._index[d];if(p===c-t+n){s.push(this._values[d]),u[s.length-1]=p-n;break}}return l.push(s.length),new i({values:s,index:u,ptr:l,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,a,o,s){if(!la(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(ia(e)&&(e=e.toNumber()),!ra(e)||!ro(e)||e<1)throw new Error("Size values must be positive integers");return e})),a){if(ia(a)&&(a=a.toNumber()),!ra(a)||!ro(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var u=n,l=0;ua(s)&&(u=t.find(n,[s,s])||n,l=t.convert(0,s));var c,f=a>0?a:0,h=a<0?-a:0,d=e[0],p=e[1],m=Math.min(d-h,p-f);if(la(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(e){return r[e]}}else if(ca(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(e){return r.get([e])}}else c=function(){return r};for(var v=[],y=[],D=[],w=0;w<p;w++){D.push(v.length);var _=w-f;if(_>=0&&_<m){var E=c(_);u(E,l)||(y.push(_+h),v.push(E))}}return D.push(v.length),new i({values:v,index:y,ptr:D,size:[d,p]})},i.prototype.swapRows=function(e,t){if(!(ra(e)&&ro(e)&&ra(t)&&ro(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Xo(e,this._size[0]),Xo(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var a=r[e],o=r[e+1],s=a;s<o;s++)i(n[s],t[s])},i._swapRows=function(e,t,n,r,i,a){for(var s=0;s<n;s++){var u=a[s],l=a[s+1],c=o(e,u,l,i),f=o(t,u,l,i);if(c<l&&f<l&&i[c]===e&&i[f]===t){if(r){var h=r[c];r[c]=r[f],r[f]=h}}else if(c<l&&i[c]===e&&(f>=l||i[f]!==t)){var d=r?r[c]:void 0;i.splice(f,0,t),r&&r.splice(f,0,d),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}else if(f<l&&i[f]===t&&(c>=l||i[c]!==e)){var p=r?r[f]:void 0;i.splice(c,0,e),r&&r.splice(c,0,p),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}}},i}),{isClass:!0}),il="subtractScalar",al=Za(il,["typed"],(e=>{var{typed:t}=e;return t(il,{"number, number":Bs,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf((e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))})}));Za("bin",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}));var ol="unaryMinus",sl=Za(ol,["typed"],(e=>{var{typed:t}=e;return t(ol,{number:ks,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:t.referToSelf((e=>n=>{var r=n.clone();return r.value=t.find(e,r.valueType())(n.value),r})),"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e,!0)))})})),ul=Za("fraction",["typed","Fraction"],(e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf((e=>t=>{var n=t.clone();return n.value=e(t.value),n})),Object:function(e){return new n(e)},"Array | Matrix":t.referToSelf((e=>t=>Ss(t,e)))})})),ll="matrix",cl=Za(ll,["typed","Matrix","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(ll,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new i(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}));function fl(){throw new Error('No "bignumber" implementation available')}function hl(){throw new Error('No "fraction" implementation available')}function dl(){throw new Error('No "matrix" implementation available')}var pl=Za("numeric",["number","?bignumber","?fraction"],(e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:n?e=>n(e):fl,Fraction:r?e=>r(e):hl};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var n=Ha(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===n?e:a[t](e)}}));var ml="size",gl=Za(ml,["typed","config","?matrix"],(e=>{var{typed:t,config:n,matrix:r}=e;return t(ml,{Matrix:function(e){return e.create(e.size())},Array:Yo,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):dl()}})})),vl="divideScalar",yl=Za(vl,["typed","numeric"],(e=>{var{typed:t,numeric:n}=e;return t(vl,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})})),Dl=Za("matAlgo11xS0s",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],p=n,m=0,g=i;"string"==typeof c&&(f=c,p=t.find(n,[f,f]),m=t.convert(0,f),r=t.convert(r,f),g=t.find(i,[f,f]));for(var v=[],y=[],D=[],w=0;w<d;w++){D[w]=y.length;for(var _=u[w],E=u[w+1],b=_;b<E;b++){var C=s[b],x=a?g(r,o[b]):g(o[b],r);p(x,m)||(y.push(C),v.push(x))}}return D[d]=y.length,e.createSparseMatrix({values:v,index:y,ptr:D,size:[h,d],datatype:f})}})),wl=Za("matAlgo14xDs",["typed"],(e=>{var{typed:t}=e;return function(e,r,i,a){var o,s=e._data,u=e._size,l=e._datatype,c=i;"string"==typeof l&&(o=l,r=t.convert(r,o),c=t.find(i,[o,o]));var f=u.length>0?n(c,0,u,u[0],s,r,a):[];return e.createDenseMatrix({data:f,size:Va(u),datatype:o})};function n(e,t,r,i,a,o,s){var u=[];if(t===r.length-1)for(var l=0;l<i;l++)u[l]=s?e(o,a[l]):e(a[l],o);else for(var c=0;c<i;c++)u[c]=n(e,t+1,r,r[t+1],a[c],o,s);return u}})),_l="equal",El=(Za(_l,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return t(_l,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})})),"identity"),bl=Za(El,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(El,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,n){var r=ia(e)||ia(t)?i:null;if(ia(e)&&(e=e.toNumber()),ia(t)&&(t=t.toNumber()),!ro(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!ro(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new i(1):1,u=r?new r(0):0,l=[e,t];if(n){if("sparse"===n)return o.diagonal(l,s,0,u);if("dense"===n)return a.diagonal(l,s,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=Go([],l,u),f=e<t?e:t,h=0;h<f;h++)c[h][h]=s;return c}}));function Cl(e,t,n,r){if(!(this instanceof Cl))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}Cl.prototype=new Error,Cl.prototype.constructor=Error,Cl.prototype.name="ArgumentsError",Cl.prototype.isArgumentsError=!0;var xl="unequal";Za(xl,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return t(xl,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})}));qo.signature="any, any";var Fl=Za("dot",["typed","addScalar","multiplyScalar","conj","size"],(e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var u=o(e,a),l=ca(e)?e._data:e,c=ca(e)?e._datatype||e.getDataType():void 0,f=ca(a)?a._data:a,h=ca(a)?a._datatype||a.getDataType():void 0,d=2===s(e).length,p=2===s(a).length,m=n,g=r;if(c&&h&&c===h&&"string"==typeof c&&"mixed"!==c){var v=c;m=t.find(n,[v,v]),g=t.find(r,[v,v])}if(!d&&!p){for(var y=g(i(l[0]),f[0]),D=1;D<u;D++)y=m(y,g(i(l[D]),f[D]));return y}if(!d&&p){for(var w=g(i(l[0]),f[0][0]),_=1;_<u;_++)w=m(w,g(i(l[_]),f[_][0]));return w}if(d&&!p){for(var E=g(i(l[0][0]),f[0]),b=1;b<u;b++)E=m(E,g(i(l[b][0]),f[b]));return E}if(d&&p){for(var C=g(i(l[0][0]),f[0][0]),x=1;x<u;x++)C=m(C,g(i(l[x][0]),f[x][0]));return C}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var i=e._index,a=e._values,s=t._index,u=t._values,l=0,c=n,f=r,h=0,d=0;for(;h<i.length&&d<s.length;){var p=i[h],m=s[d];p<m?h++:p>m?d++:p===m&&(l=c(l,f(a[h],u[d])),h++,d++)}return l}});function o(e,t){var n,r,i=s(e),a=s(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===a.length)r=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");r=a[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(e){return ca(e)?e.size():a(e)}})),Al="number | BigNumber | Fraction | Matrix | Array";"".concat(Al,", ").concat(Al,", ...").concat(Al);var Sl="multiply",Ml=Za(Sl,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=e,s=Dl({typed:t,equalScalar:a}),u=wl({typed:t});function l(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function c(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._size,f=n._datatype||n.getDataType(),h=s[0],d=c[1],p=r,m=i;u&&f&&u===f&&"string"==typeof u&&"mixed"!==u&&(a=u,p=t.find(r,[a,a]),m=t.find(i,[a,a]));for(var g=[],v=0;v<d;v++){for(var y=m(o[0],l[0][v]),D=1;D<h;D++)y=p(y,m(o[D],l[D][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[d],datatype:u===e._datatype&&f===n._datatype?a:void 0})}(e,n)}var f=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._datatype||n.getDataType(),f=s[0],h=s[1],d=r,p=i;u&&c&&u===c&&"string"==typeof u&&"mixed"!==u&&(a=u,d=t.find(r,[a,a]),p=t.find(i,[a,a]));for(var m=[],g=0;g<f;g++){for(var v=o[g],y=p(v[0],l[0]),D=1;D<h;D++)y=d(y,p(v[D],l[D]));m[g]=y}return e.createDenseMatrix({data:m,size:[f],datatype:u===e._datatype&&c===n._datatype?a:void 0})},"SparseMatrix, any":function(e,n){var o=e._values,s=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,h=n._datatype||n.getDataType(),d=e._size[0],p=n._size[0],m=[],g=[],v=[],y=r,D=i,w=a,_=0;l&&h&&l===h&&"string"==typeof l&&"mixed"!==l&&(c=l,y=t.find(r,[c,c]),D=t.find(i,[c,c]),w=t.find(a,[c,c]),_=t.convert(0,c));var E=[],b=[];v[0]=0;for(var C=0;C<p;C++){var x=f[C];if(!w(x,_))for(var F=u[C],A=u[C+1],S=F;S<A;S++){var M=s[S];b[M]?E[M]=y(E[M],D(x,o[S])):(b[M]=!0,g.push(M),E[M]=D(x,o[S]))}}for(var T=g.length,O=0;O<T;O++){var N=g[O];m[O]=E[N]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[d,1],datatype:l===e._datatype&&h===n._datatype?c:void 0})}}),h=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=n._data,c=n._size,f=n._datatype||n.getDataType(),h=s[0],d=s[1],p=c[1],m=r,g=i;u&&f&&u===f&&"string"==typeof u&&"mixed"!==u&&"mixed"!==u&&(a=u,m=t.find(r,[a,a]),g=t.find(i,[a,a]));for(var v=[],y=0;y<h;y++){var D=o[y];v[y]=[];for(var w=0;w<p;w++){for(var _=g(D[0],l[0][w]),E=1;E<d;E++)_=m(_,g(D[E],l[E][w]));v[y][w]=_}}return e.createDenseMatrix({data:v,size:[h,p],datatype:u===e._datatype&&f===n._datatype?a:void 0})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=n._values,c=n._index,f=n._ptr,h=n._size,d=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=s[0],g=h[1],v=r,y=i,D=a,w=0;u&&d&&u===d&&"string"==typeof u&&"mixed"!==u&&(p=u,v=t.find(r,[p,p]),y=t.find(i,[p,p]),D=t.find(a,[p,p]),w=t.convert(0,p));for(var _=[],E=[],b=[],C=n.createSparseMatrix({values:_,index:E,ptr:b,size:[m,g],datatype:u===e._datatype&&d===n._datatype?p:void 0}),x=0;x<g;x++){b[x]=E.length;var F=f[x],A=f[x+1];if(A>F)for(var S=0,M=0;M<m;M++){for(var T=M+1,O=void 0,N=F;N<A;N++){var B=c[N];S!==T?(O=y(o[M][B],l[N]),S=T):O=v(O,y(o[M][B],l[N]))}S!==T||D(O,w)||(E.push(M),_.push(O))}}return b[g]=E.length,C},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,s=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,h=n._datatype||n.getDataType(),d=e._size[0],p=n._size[0],m=n._size[1],g=r,v=i,y=a,D=0;l&&h&&l===h&&"string"==typeof l&&"mixed"!==l&&(c=l,g=t.find(r,[c,c]),v=t.find(i,[c,c]),y=t.find(a,[c,c]),D=t.convert(0,c));for(var w=[],_=[],E=[],b=e.createSparseMatrix({values:w,index:_,ptr:E,size:[d,m],datatype:l===e._datatype&&h===n._datatype?c:void 0}),C=[],x=[],F=0;F<m;F++){E[F]=_.length;for(var A=F+1,S=0;S<p;S++){var M=f[S][F];if(!y(M,D))for(var T=u[S],O=u[S+1],N=T;N<O;N++){var B=s[N];x[B]!==A?(x[B]=A,_.push(B),C[B]=v(M,o[N])):C[B]=g(C[B],v(M,o[N]))}}for(var z=E[F],k=_.length,P=z;P<k;P++){var U=_[P];w[P]=C[U]}}return E[m]=_.length,b},"SparseMatrix, SparseMatrix":function(e,n){var a,o=e._values,s=e._index,u=e._ptr,l=e._datatype||void 0===e._data?e._datatype:e.getDataType(),c=n._values,f=n._index,h=n._ptr,d=n._datatype||void 0===n._data?n._datatype:n.getDataType(),p=e._size[0],m=n._size[1],g=o&&c,v=r,y=i;l&&d&&l===d&&"string"==typeof l&&"mixed"!==l&&(a=l,v=t.find(r,[a,a]),y=t.find(i,[a,a]));for(var D,w,_,E,b,C,x,F,A=g?[]:void 0,S=[],M=[],T=e.createSparseMatrix({values:A,index:S,ptr:M,size:[p,m],datatype:l===e._datatype&&d===n._datatype?a:void 0}),O=g?[]:void 0,N=[],B=0;B<m;B++){M[B]=S.length;var z=B+1;for(b=h[B],C=h[B+1],E=b;E<C;E++)if(F=f[E],g)for(w=u[F],_=u[F+1],D=w;D<_;D++)N[x=s[D]]!==z?(N[x]=z,S.push(x),O[x]=y(c[E],o[D])):O[x]=v(O[x],y(c[E],o[D]));else for(w=u[F],_=u[F+1],D=w;D<_;D++)N[x=s[D]]!==z&&(N[x]=z,S.push(x));if(g)for(var k=M[B],P=S.length,U=k;U<P;U++){var R=S[U];A[U]=O[R]}}return M[m]=S.length,T}});return t(Sl,i,{"Array, Array":t.referTo("Matrix, Matrix",(e=>(t,r)=>{l(Yo(t),Yo(r));var i=e(n(t),n(r));return ca(i)?i.valueOf():i})),"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return l(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):c(e,t):1===r.length?f(e,t):h(e,t)},"Matrix, Array":t.referTo("Matrix,Matrix",(e=>(t,r)=>e(t,n(r)))),"Array, Matrix":t.referToSelf((e=>(t,r)=>e(n(t,r.storage()),r))),"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf((e=>(t,n,r)=>{for(var i=e(t,n),a=0;a<r.length;a++)i=e(i,r[a]);return i}))})}));n(1880);var Tl=Za("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],(e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t("det",{any:function(e){return Va(e)},"Array | Matrix":function(e){var t;switch((t=ca(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return Va(e);case 1:if(1===t[0])return Va(e.valueOf()[0]);if(0===t[0])return 1;throw new RangeError("Matrix must be square (size: "+Io(t)+")");case 2:var u=t[0],l=t[1];if(u===l)return function(e,t){if(1===t)return Va(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var n=!1,u=new Array(t).fill(0).map(((e,t)=>t)),l=0;l<t;l++){var c=u[l];if(o(e[c][l])){var f=void 0;for(f=l+1;f<t;f++)if(!o(e[u[f]][l])){c=u[f],u[f]=u[l],u[l]=c,n=!n;break}if(f===t)return e[c][l]}for(var h=e[c][l],d=0===l?1:e[u[l-1]][l-1],p=l+1;p<t;p++)for(var m=u[p],g=l+1;g<t;g++)e[m][g]=a(r(i(e[m][g],h),i(e[m][l],e[c][g])),d)}var v=e[u[t-1]][t-1];return n?s(v):v}(e.clone().valueOf(),u);if(0===l)return 1;throw new RangeError("Matrix must be square (size: "+Io(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Io(t)+")")}}})})),Ol=Za("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:u,abs:l}=e;return t("inv",{"Array | Matrix":function(e){var t=ca(e)?e.size():Yo(e);switch(t.length){case 1:if(1===t[0])return ca(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+Io(t)+")");case 2:var i=t[0],a=t[1];if(i===a)return ca(e)?n(c(e.valueOf(),i,a),e.storage()):c(e,i,a);throw new RangeError("Matrix must be square (size: "+Io(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Io(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,f,h,d,p;if(1===t){if(0===(d=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,d)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(o(e[0][1]),m)],[r(o(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var v=u(t).valueOf(),y=0;y<n;y++){var D=l(g[y][y]),w=y;for(c=y+1;c<t;)l(g[c][y])>D&&(D=l(g[c][y]),w=c),c++;if(0===D)throw Error("Cannot calculate inverse, determinant is zero");(c=w)!==y&&(p=g[y],g[y]=g[c],g[c]=p,p=v[y],v[y]=v[c],v[c]=p);var _=g[y],E=v[y];for(c=0;c<t;c++){var b=g[c],C=v[c];if(c!==y){if(0!==b[y]){for(h=r(o(b[y]),_[y]),f=y;f<n;f++)b[f]=i(b[f],a(h,_[f]));for(f=0;f<n;f++)C[f]=i(C[f],a(h,E[f]))}}else{for(h=_[y],f=y;f<n;f++)b[f]=r(b[f],h);for(f=0;f<n;f++)C[f]=r(C[f],h)}}}return v}})),Nl=Za("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],(e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:a,inv:o,number:s,fraction:u,Complex:l}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){var r=e.pow(t);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(e.valueOf(),t.valueOf())},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(e,t){return h(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!ro(t)&&e<0)try{var r=u(t),i=s(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-e,t)}catch(a){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:ro(t)||e>=0||n.predictable?Ys(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function f(e,t){if(!ro(t))throw new TypeError("For A^b, b must be an integer (value is "+t+")");var n=Yo(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(t<0)try{return f(o(e),-t)}catch(He){if("Cannot calculate inverse, determinant is zero"===He.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw He}for(var a=r(n[0]).valueOf(),s=e;t>=1;)1&~t||(a=i(s,a)),t>>=1,s=i(s,s);return a}function h(e,t){return a(f(e.valueOf(),t))}}));n(3693);var Bl=Qa({config:Dr}),zl=Fo({}),kl=zo({}),Pl=ko({}),Ul=fs({Matrix:Pl}),Rl=Cs({BigNumber:Bl,Complex:zl,DenseMatrix:Ul,Fraction:kl}),Ll=Qs({typed:Rl}),Il=du({typed:Rl}),jl=pu({BigNumber:Bl,typed:Rl}),Hl=xu({Complex:zl,typed:Rl}),Vl=Au({typed:Rl}),ql=Mu({typed:Rl}),Wl=Bu({config:Dr,typed:Rl}),Zl=zu({typed:Rl}),Yl=ju({typed:Rl}),Ql=Qu({typed:Rl}),$l=el({typed:Rl}),Xl=nl({typed:Rl}),Gl=rl({Matrix:Pl,equalScalar:Wl,typed:Rl}),Kl=al({typed:Rl}),Jl=sl({typed:Rl}),ec=ul({Fraction:kl,typed:Rl}),tc=cl({DenseMatrix:Ul,Matrix:Pl,SparseMatrix:Gl,typed:Rl}),nc=pl({bignumber:jl,fraction:ec,number:$l}),rc=gl({matrix:tc,config:Dr,typed:Rl}),ic=yl({numeric:nc,typed:Rl}),ac=bl({BigNumber:Bl,DenseMatrix:Ul,SparseMatrix:Gl,config:Dr,matrix:tc,typed:Rl}),oc=Fl({addScalar:Il,conj:Vl,multiplyScalar:Ql,size:rc,typed:Rl}),sc=Ml({addScalar:Il,dot:oc,equalScalar:Wl,matrix:tc,multiplyScalar:Ql,typed:Rl}),uc=Tl({divideScalar:ic,isZero:Yl,matrix:tc,multiply:sc,subtractScalar:Kl,typed:Rl,unaryMinus:Jl}),lc=Ol({abs:Ll,addScalar:Il,det:uc,divideScalar:ic,identity:ac,matrix:tc,multiply:sc,typed:Rl,unaryMinus:Jl}),cc=Nl({Complex:zl,config:Dr,fraction:ec,identity:ac,inv:lc,matrix:tc,multiply:sc,number:$l,typed:Rl});function fc(e,t,n,r,i,a){const o=sc(Zl(Hl(0,2*Math.PI*r/n)),cc(ql(Hl(e,t)),2/n)),s=sc(Zl(Hl(0,2*Math.PI*i/n)),cc(Xl(Hl(e,t)),2/n));return[o.re,s.re,o.im*ql(a)+s.im*Xl(a)]}function hc(){const e=(0,r.useRef)(),{0:t,1:n}=(0,r.useMemo)((()=>{const e=Math.PI/2,t=e/5,n=e/5;let r=[],i=[],a=0;for(let o=0;o<6;++o)for(let s=0;s<6;++s)for(let u=0;u<=e;u+=t)for(let l=-e;l<e;l+=n)r=r.concat([a+0,a+1,a+2,a+2,a+3,a+0]),a+=4,i=i.concat(fc(u,l,6,o,s,2),fc(u+t,l,6,o,s,2),fc(u+t,l+n,6,o,s,2),fc(u,l+n,6,o,s,2));return[new Float32Array(i),new Uint16Array(r)]}));return r.createElement("mesh",{castShadow:!0,position:[0,1.4,0]},r.createElement("bufferGeometry",{ref:e,onUpdate:e=>e.computeVertexNormals()},r.createElement("bufferAttribute",{attach:"attributes-position",array:t,count:t.length/3,itemSize:3}),r.createElement("bufferAttribute",{attach:"index",array:n,count:n.length,itemSize:1})),r.createElement("meshPhongMaterial",{side:o.DoubleSide,color:3623527,specular:13343986}))}function dc(){return r.createElement(ln,{preset:"sunset",background:!0,backgroundBlurriness:.9})}function pc(){const e=(0,r.useRef)();return fe((t=>{var n,r;let{camera:i,clock:a}=t;const o=a.getElapsedTime();null===(n=e.current)||void 0===n||n.moveTo(Math.sin(o/2)/1,(Math.sin(o/4)+1)/4+.5,Math.cos(o/2)/1,!1),null===(r=e.current)||void 0===r||r.lookInDirectionOf(0,.7,0,!1)})),(0,r.useEffect)((()=>{var t;null===(t=e.current)||void 0===t||t.lookInDirectionOf(-15,0,-1,!1)})),r.createElement(or,{enabled:!0,ref:e})}var mc=()=>r.createElement(i.A,{title:"Calabi Manifold",section:"science"},r.createElement("div",{style:{width:"800px",height:"500px"}},r.createElement(Ke,{camera:{fov:25,near:1,far:1e3,position:[5,7,0]}},r.createElement("ambientLight",{intensity:1}),r.createElement("spotLight",{position:[10,10,10],angle:.15,penumbra:1,decay:0,intensity:Math.PI}),r.createElement("pointLight",{position:[-10,-10,-10],decay:0,intensity:Math.PI}),r.createElement("group",{position:[0,-.45,0]},r.createElement(hc,null),r.createElement(hr,{temporal:!0,frames:200,color:"purple",colorBlend:.5,opacity:1,scale:10,alphaTest:.85},r.createElement(dr,{amount:8,radius:5,ambient:.5,position:[5,3,2],bias:.001}))),r.createElement(dc,null),r.createElement(pc,null))));const gc=e=>{var t;let{location:n,data:i,pageContext:o}=e;return r.createElement(a.k,{path:n.pathname,data:i,frontmatter:null==i||null===(t=i.markdownRemark)||void 0===t?void 0:t.frontmatter,pageContext:o,title:"Calabi Manifold"})}},1880:function(e){e.exports=function e(t,n){"use strict";var r,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(o,"")||"",h=c(n).replace(o,"")||"",d=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(u),16)||1!==d.length&&f.match(s)&&Date.parse(f),g=parseInt(h.match(u),16)||m&&h.match(s)&&Date.parse(h)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(d.length,p.length);v<y;v++){if(r=!(d[v]||"").match(l)&&parseFloat(d[v])||d[v]||0,i=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},735:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},2935:function(e,t,n){e.exports=function(e){var t={},r=n(6540),i=n(9982),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}function b(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case f:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:b(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return b(e(t))}catch(n){}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(x(e)!==e)throw Error(o(188))}function A(e){var t=e.alternate;if(!t){if(null===(t=x(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return F(i),e;if(a===r)return F(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function S(e){return null!==(e=A(e))?M(e):null}function M(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=M(e);if(null!==t)return t;e=e.sibling}return null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=T(e);if(null!==t)return t}e=e.sibling}return null}var O,N=Array.isArray,B=e.getPublicInstance,z=e.getRootHostContext,k=e.getChildHostContext,P=e.prepareForCommit,U=e.resetAfterCommit,R=e.createInstance,L=e.appendInitialChild,I=e.finalizeInitialChildren,j=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,q=e.scheduleTimeout,W=e.cancelTimeout,Z=e.noTimeout,Y=e.isPrimaryRenderer,Q=e.supportsMutation,$=e.supportsPersistence,X=e.supportsHydration,G=e.getInstanceFromNode,K=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,fe=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,De=e.removeChildFromContainer,we=e.resetTextContent,_e=e.hideInstance,Ee=e.hideTextInstance,be=e.unhideInstance,Ce=e.unhideTextInstance,xe=e.clearContainer,Fe=e.cloneInstance,Ae=e.createContainerChildSet,Se=e.appendChildToContainerChildSet,Me=e.finalizeContainerChildren,Te=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Ne=e.cloneHiddenTextInstance,Be=e.canHydrateInstance,ze=e.canHydrateTextInstance,ke=e.canHydrateSuspenseInstance,Pe=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,Re=e.registerSuspenseInstanceRetry,Le=e.getNextHydratableSibling,Ie=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,qe=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ze=e.getNextHydratableInstanceAfterSuspenseInstance,Ye=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,$e=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,Ge=e.shouldDeleteUnhydratedTailInstances,Ke=e.didNotMatchHydratedContainerTextInstance,Je=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),ft=ot(!1),ht=lt;function dt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=(e=e.childContextTypes)}function mt(){st(ft),st(ct)}function gt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(ft,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,C(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ht=ct.current,ut(ct,e),ut(ft,ft.current),!0}function Dt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=vt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,st(ft),st(ct),ut(ct,e)):st(ft),ut(ft,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/Et|0)|0},_t=Math.log,Et=Math.LN2;var bt=64,Ct=4194304;function xt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=xt(s):0!==(a&=o)&&(r=xt(a))}else 0!==(o=n&~i)?r=xt(o):0!==a&&(r=xt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nt=0;function Bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var zt=i.unstable_scheduleCallback,kt=i.unstable_cancelCallback,Pt=i.unstable_shouldYield,Ut=i.unstable_requestPaint,Rt=i.unstable_now,Lt=i.unstable_ImmediatePriority,It=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,qt=null;var Wt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Zt=null,Yt=!1,Qt=!1;function $t(e){null===Zt?Zt=[e]:Zt.push(e)}function Xt(){if(!Qt&&null!==Zt){Qt=!0;var e=0,t=Nt;try{var n=Zt;for(Nt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Zt=null,Yt=!1}catch(i){throw null!==Zt&&(Zt=Zt.slice(e+1)),zt(Lt,Xt),i}finally{Nt=t,Qt=!1}}return null}var Gt=s.ReactCurrentBatchConfig;function Kt(e,t){if(Wt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Jt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){Y?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),Y?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Pi=!0),e.firstContext=null)}function fn(e){var t=Y?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,dn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Qa&&1&e.mode&&!(2&Ya)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function Dn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;dn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,f=c=l=null,u=o;;){var d=u.lane,p=u.eventTime;if((r&d)===d){null!==f&&(f=f.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=e,g=u;switch(d=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=g.payload)?m.call(p,h,d):m))break e;h=a({},h,d);break e;case 2:dn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=p,l=h):f=f.next=p,s|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===f&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=h}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var En=(new r.Component).refs;function bn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Cn={isMounted:function(e){return!!(e=e._reactInternals)&&x(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),i=Eo(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=bo(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),i=Eo(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=bo(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=Eo(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),null!==(t=bo(e,r,n))&&yn(t,e,r)}};function xn(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Kt(n,r)||!Kt(i,a))}function Fn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"==typeof a&&null!==a?a=fn(a):(i=pt(t)?ht:ct.current,a=(r=null!=(r=t.contextTypes))?dt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Cn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function An(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cn.enqueueReplaceState(t,t.state,null)}function Sn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=En,pn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=fn(a):(a=pt(t)?ht:ct.current,i.context=dt(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(bn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Cn.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Mn=[],Tn=0,On=null,Nn=0,Bn=[],zn=0,kn=null,Pn=1,Un="";function Rn(e,t){Mn[Tn++]=Nn,Mn[Tn++]=On,On=e,Nn=t}function Ln(e,t,n){Bn[zn++]=Pn,Bn[zn++]=Un,Bn[zn++]=kn,kn=e;var r=Pn;e=Un;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-wt(t)+i|n<<i|r,Un=a+e}else Pn=1<<a|n<<i|r,Un=e}function In(e){null!==e.return&&(Rn(e,1),Ln(e,1,0))}function jn(e){for(;e===On;)On=Mn[--Tn],Mn[Tn]=null,Nn=Mn[--Tn],Mn[Tn]=null;for(;e===kn;)kn=Bn[--zn],Bn[zn]=null,Un=Bn[--zn],Bn[zn]=null,Pn=Bn[--zn],Bn[zn]=null}var Hn=null,Vn=null,qn=!1,Wn=!1,Zn=null;function Yn(e,t){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Qn(e,t){switch(e.tag){case 5:return null!==(t=Be(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=Ie(t),!0);case 6:return null!==(t=ze(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=ke(t))){var n=null!==kn?{id:Pn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ko(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function $n(e){return!(!(1&e.mode)||128&e.flags)}function Xn(e){if(qn){var t=Vn;if(t){var n=t;if(!Qn(e,t)){if($n(e))throw Error(o(418));t=Le(n);var r=Hn;t&&Qn(e,t)?Yn(r,n):(e.flags=-4097&e.flags|2,qn=!1,Hn=e)}}else{if($n(e))throw Error(o(418));e.flags=-4097&e.flags|2,qn=!1,Hn=e}}}function Gn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Kn(e){if(!X||e!==Hn)return!1;if(!qn)return Gn(e),qn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ge(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if($n(e)){for(e=Vn;e;)e=Le(e);throw Error(o(418))}for(;t;)Yn(e,t),t=Le(t)}}if(Gn(e),13===e.tag){if(!X)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Vn=Ze(e)}else Vn=Hn?Le(e.stateNode):null;return!0}function Jn(){X&&(Vn=Hn=null,Wn=qn=!1)}function er(e){null===Zn?Zn=[e]:Zn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===En&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===D&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case D:return m(e,(0,t._init)(t._payload),n)}if(N(t)||E(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:f(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?h(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case D:return g(e,t,(i=n._init)(n._payload),r)}if(N(n)||E(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return v(e,t,n,(0,r._init)(r._payload),i)}if(N(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,u){for(var l=null,c=null,f=o,h=o=0,d=null;null!==f&&h<s.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=g(i,f,s[h],u);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&t(i,f),o=a(p,o,h),null===c?l=p:c.sibling=p,c=p,f=d}if(h===s.length)return n(i,f),qn&&Rn(i,h),l;if(null===f){for(;h<s.length;h++)null!==(f=m(i,s[h],u))&&(o=a(f,o,h),null===c?l=f:c.sibling=f,c=f);return qn&&Rn(i,h),l}for(f=r(i,f);h<s.length;h++)null!==(d=v(f,i,h,s[h],u))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),o=a(d,o,h),null===c?l=d:c.sibling=d,c=d);return e&&f.forEach((function(e){return t(i,e)})),qn&&Rn(i,h),l}function w(i,s,u,l){var c=E(u);if("function"!=typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,h=s,d=s=0,p=null,y=u.next();null!==h&&!y.done;d++,y=u.next()){h.index>d?(p=h,h=null):p=h.sibling;var D=g(i,h,y.value,l);if(null===D){null===h&&(h=p);break}e&&h&&null===D.alternate&&t(i,h),s=a(D,s,d),null===f?c=D:f.sibling=D,f=D,h=p}if(y.done)return n(i,h),qn&&Rn(i,d),c;if(null===h){for(;!y.done;d++,y=u.next())null!==(y=m(i,y.value,l))&&(s=a(y,s,d),null===f?c=y:f.sibling=y,f=y);return qn&&Rn(i,d),c}for(h=r(i,h);!y.done;d++,y=u.next())null!==(y=v(h,i,d,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?d:y.key),s=a(y,s,d),null===f?c=y:f.sibling=y,f=y);return e&&h.forEach((function(e){return t(i,e)})),qn&&Rn(i,d),c}return function e(r,a,o,f){if("object"==typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var h=o.key,d=a;null!==d;){if(d.key===h){if((h=o.type)===c){if(7===d.tag){n(r,d.sibling),(a=i(d,o.props.children)).return=r,r=a;break e}}else if(d.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===D&&rr(h)===d.type){n(r,d.sibling),(a=i(d,o.props)).ref=tr(r,d,o),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===c?((a=ns(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=ts(o.type,o.key,o.props,null,r.mode,f)).ref=tr(r,a,o),f.return=r,r=f)}return s(r);case l:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,f)).return=r,r=a}return s(r);case D:return e(r,a,(d=o._init)(o._payload),f)}if(N(o))return y(r,a,o,f);if(E(o))return w(r,a,o,f);nr(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,f)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function fr(e){if(e===sr)throw Error(o(174));return e}function hr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=z(t),st(ur),ut(ur,e)}function dr(){st(ur),st(lr),st(cr)}function pr(e){var t=fr(cr.current),n=fr(ur.current);n!==(t=k(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function mr(e){lr.current===e&&(st(ur),st(lr))}var gr=ot(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pe(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function Dr(){for(var e=0;e<yr.length;e++){var t=yr[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=s.ReactCurrentDispatcher,_r=s.ReactCurrentBatchConfig,Er=0,br=null,Cr=null,xr=null,Fr=!1,Ar=!1,Sr=0,Mr=0;function Tr(){throw Error(o(321))}function Or(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Nr(e,t,n,r,i,a){if(Er=a,br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Ar){a=0;do{if(Ar=!1,Sr=0,25<=a)throw Error(o(301));a+=1,xr=Cr=null,t.updateQueue=null,wr.current=gi,e=n(r,i)}while(Ar)}if(wr.current=di,t=null!==Cr&&null!==Cr.next,Er=0,xr=Cr=br=null,Fr=!1,t)throw Error(o(300));return e}function Br(){var e=0!==Sr;return Sr=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xr?br.memoizedState=xr=e:xr=xr.next=e,xr}function kr(){if(null===Cr){var e=br.alternate;e=null!==e?e.memoizedState:null}else e=Cr.next;var t=null===xr?br.memoizedState:xr.next;if(null!==t)xr=t,Cr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Cr=e).memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},null===xr?br.memoizedState=xr=e:xr=xr.next=e}return xr}function Pr(e,t){return"function"==typeof t?t(e):t}function Ur(e){var t=kr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Cr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((Er&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,br.lanes|=f,to|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Wt(r,t.memoizedState)||(Pi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,br.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rr(e){var t=kr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Wt(a,t.memoizedState)||(Pi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Lr(){}function Ir(e,t){var n=br,r=kr(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Pi=!0),r=r.queue,Gr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==xr&&1&xr.memoizedState.tag){if(n.flags|=2048,Zr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Qa)throw Error(o(349));30&Er||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=br.updateQueue)?(t={lastEffect:null,stores:null},br.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,qr(t)&&bo(e,1,-1)}function Vr(e,t,n){return n((function(){qr(t)&&bo(e,1,-1)}))}function qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=zr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,br,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=br.updateQueue)?(t={lastEffect:null,stores:null},br.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yr(){return kr().memoizedState}function Qr(e,t,n,r){var i=zr();br.flags|=e,i.memoizedState=Zr(1|t,n,void 0,void 0===r?null:r)}function $r(e,t,n,r){var i=kr();r=void 0===r?null:r;var a=void 0;if(null!==Cr){var o=Cr.memoizedState;if(a=o.destroy,null!==r&&Or(r,o.deps))return void(i.memoizedState=Zr(t,n,a,r))}br.flags|=e,i.memoizedState=Zr(1|t,n,a,r)}function Xr(e,t){return Qr(8390656,8,e,t)}function Gr(e,t){return $r(2048,8,e,t)}function Kr(e,t){return $r(4,2,e,t)}function Jr(e,t){return $r(4,4,e,t)}function ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!=n?n.concat([e]):null,$r(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=kr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Or(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=kr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Or(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Nt;Nt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Nt=n,_r.transition=r}}function oi(){return kr().memoizedState}function si(e,t,n){var r=Eo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(fi(e,t,n),null!==(e=bo(e,r,n=_o()))&&hi(e,t,r))}function ui(e,t,n){var r=Eo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(u){}null!==(e=bo(e,r,n=_o()))&&hi(e,t,r)}}function li(e){var t=e.alternate;return e===br||null!==t&&t===br}function ci(e,t){Ar=Fr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Qa&&1&e.mode&&!(2&Ya)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var di={readContext:fn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},pi={readContext:fn,useCallback:function(e,t){return zr().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Xr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Qr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qr(4,2,e,t)},useMemo:function(e,t){var n=zr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,br,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Xr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=br,i=zr();if(qn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Qa)throw Error(o(349));30&Er||jr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Xr(Vr.bind(null,r,a,e),[e]),r.flags|=2048,Zr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=zr(),t=Qa.identifierPrefix;if(qn){var n=Un;t=":"+t+"R"+(n=(Pn&~(1<<32-wt(Pn)-1)).toString(32)+n),0<(n=Sr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Mr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Gr,useImperativeHandle:ti,useInsertionEffect:Kr,useLayoutEffect:Jr,useMemo:ii,useReducer:Ur,useRef:Yr,useState:function(){return Ur(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Pr),n=t[0],r=t[1];return Gr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Ur(Pr)[0],kr().memoizedState]},useMutableSource:Lr,useSyncExternalStore:Ir,useId:oi,unstable_isNewReconciler:!1},gi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Gr,useImperativeHandle:ti,useInsertionEffect:Kr,useLayoutEffect:Jr,useMemo:ii,useReducer:Rr,useRef:Yr,useState:function(){return Rr(Pr)},useDebugValue:ni,useDeferredValue:function(e){var t=Rr(Pr),n=t[0],r=t[1];return Gr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Rr(Pr)[0],kr().memoizedState]},useMutableSource:Lr,useSyncExternalStore:Ir,useId:oi,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Di,wi,_i,Ei,bi="function"==typeof WeakMap?WeakMap:Map;function Ci(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function xi(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!=typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Fi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new bi;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Zo.bind(null,e,t,n),t.then(e,e))}function Ai(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Si(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e)}function Mi(e){e.flags|=4}function Ti(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(Q)Di=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)L(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wi=function(){},_i=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(ur.current);n=j(a,n,e,r,i,o),(t.updateQueue=n)&&Mi(t)}},Ei=function(e,t,n,r){n!==r&&Mi(t)};else if($){Di=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Oe(a,i.type,i.memoizedProps,i)),L(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ne(a,i.memoizedProps,i)),L(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Di(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Oi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Oe(a,i.type,i.memoizedProps,i)),Se(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ne(a,i.memoizedProps,i)),Se(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Oi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};wi=function(e,t){var n=t.stateNode;if(!Ti(e,t)){e=n.containerInfo;var r=Ae(e);Oi(r,t,!1,!1),n.pendingChildren=r,Mi(t),Me(e,r)}},_i=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ti(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=fr(ur.current),l=null;o!==r&&(l=j(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Fe(a,l,n,o,r,t,e,s),I(a,n,r,i,u)&&Mi(t),t.stateNode=a,e?Mi(t):Di(a,t,!1,!1))}},Ei=function(e,t,n,r){n!==r?(e=fr(cr.current),n=fr(ur.current),t.stateNode=V(r,e,n,t),Mi(t)):t.stateNode=e.stateNode}}else wi=function(){},_i=function(){},Ei=function(){};function Ni(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zi(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(t),null;case 1:case 17:return pt(t.type)&&mt(),Bi(t),null;case 3:return r=t.stateNode,dr(),st(ft),st(ct),Dr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Kn(t)?Mi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Zn&&(So(Zn),Zn=null))),wi(e,t),Bi(t),null;case 5:mr(t),n=fr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)_i(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Bi(t),null}if(e=fr(ur.current),Kn(t)){if(!X)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Mi(t)}else{var a=R(i,r,n,e,t);Di(a,t,!1,!1),t.stateNode=a,I(a,i,r,n,e)&&Mi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Bi(t),null;case 6:if(e&&null!=t.stateNode)Ei(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=fr(cr.current),n=fr(ur.current),Kn(t)){if(!X)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=qe(e,r,t,!Wn))&&null!==(i=Hn))switch(a=!!(1&i.mode),i.tag){case 3:Ke(i.stateNode.containerInfo,e,r,a);break;case 5:Je(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Mi(t)}else t.stateNode=V(r,e,n,t)}return Bi(t),null;case 13:if(st(gr),r=t.memoizedState,qn&&null!==Vn&&1&t.mode&&!(128&t.flags)){for(e=Vn;e;)e=Le(e);return Jn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Kn(t),null===e){if(!r)throw Error(o(318));if(!X)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else Jn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Bi(t),null}return null!==Zn&&(So(Zn),Zn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Kn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&gr.current?0===Ja&&(Ja=3):Po())),null!==t.updateQueue&&(t.flags|=4),Bi(t),null);case 4:return dr(),wi(e,t),null===e&&K(t.stateNode.containerInfo),Bi(t),null;case 10:return un(t.type._context),Bi(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return Bi(t),null;if(r=!!(128&t.flags),null===(a=i.rendering))if(r)Ni(i,!1);else{if(0!==Ja||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=vr(e))){for(t.flags|=128,Ni(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Rt()>so&&(t.flags|=128,r=!0,Ni(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ni(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!qn)return Bi(t),null}else 2*Rt()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ni(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Rt(),t.sibling=null,e=gr.current,ut(gr,r?1&e|2:1&e),t):(Bi(t),null);case 22:case 23:return No(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ga)&&(Bi(t),Q&&6&t.subtreeFlags&&(t.flags|=8192)):Bi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var ki=s.ReactCurrentOwner,Pi=!1;function Ui(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Ri(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Nr(e,t,n,r,a,i),n=Br(),null===e||Pi?(qn&&n&&In(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Li(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Jo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ii(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Kt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Ii(e,t,n,r,i){if(null!==e&&Kt(e.memoizedProps,r)&&e.ref===t.ref){if(Pi=!1,!(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);131072&e.flags&&(Pi=!0)}return Vi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut(Ka,Ga),Ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut(Ka,Ga),Ga|=r}else t.memoizedState={baseLanes:0,cachePool:null},ut(Ka,Ga),Ga|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Ka,Ga),Ga|=r;return Ui(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=pt(n)?ht:ct.current;return a=dt(t,a),cn(t,i),n=Nr(e,t,n,r,a,i),r=Br(),null===e||Pi?(qn&&r&&In(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function qi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Fn(t,n,r),Sn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=fn(l):l=dt(t,l=pt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&An(t,o,r,l),dn=!1;var h=t.memoizedState;o.state=h,wn(t,r,o,i),u=t.memoizedState,s!==r||h!==u||ft.current||dn?("function"==typeof c&&(bn(t,n,c,r),u=t.memoizedState),(s=dn||xn(t,n,s,r,h,u,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"==typeof(u=n.contextType)&&null!==u?u=fn(u):u=dt(t,u=pt(n)?ht:ct.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==f||h!==u)&&An(t,o,r,u),dn=!1,h=t.memoizedState,o.state=h,wn(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||ft.current||dn?("function"==typeof d&&(bn(t,n,d,r),p=t.memoizedState),(l=dn||xn(t,n,l,r,h,p,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Hi(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&Dt(t,n,!1),ia(e,t,a);r=t.stateNode,ki.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&Dt(t,n,!0),t.child}function Zi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),hr(e,t.containerInfo)}function Yi(e,t,n,r,i){return Jn(),er(i),t.flags|=256,Ui(e,t,n,r),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0};function $i(e){return{baseLanes:e,cachePool:null}}function Xi(e,t,n){var r,i=t.pendingProps,a=gr.current,s=!1,u=!!(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(gr,1&a),null===e)return Xn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Ue(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},1&i||null===s?s=rs(a,i,0,null):(s.childLanes=0,s.pendingProps=a),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$i(n),t.memoizedState=Qi,e):Gi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&ar(t,e.child,null,n),t.child.memoizedState=$i(n),t.memoizedState=Qi,s);if(1&t.mode)if(Ue(r))t=ea(e,t,n,Error(o(419)));else if(i=!!(n&e.childLanes),Pi||i){if(null!==(i=Qa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=s&(i.suspendedLanes|n)?0:s)&&i!==a.retryLane&&(a.retryLane=i,bo(e,i,-1))}Po(),t=ea(e,t,n,Error(o(421)))}else Pe(r)?(t.flags|=128,t.child=e.child,t=Qo.bind(null,e),Re(r,t),t=null):(n=a.treeContext,X&&(Vn=He(r),Hn=t,qn=!0,Zn=null,Wn=!1,null!==n&&(Bn[zn++]=Pn,Bn[zn++]=Un,Bn[zn++]=kn,Pn=n.id,Un=n.overflow,kn=t)),(t=Gi(t,t.pendingProps.children)).flags|=4096);else t=ea(e,t,n,null);return t}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?$i(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Qi,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?$i(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Qi,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}function Gi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ji(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 1&a||t.child===e?(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null),null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),2&(r=gr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(gr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),st(ft),st(ct),Dr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Jn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return dr(),null;case 10:return un(t.type._context),null;case 22:case 23:return No(),null;default:return null}}var oa=!1,sa=!1,ua="function"==typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var ha=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=B(n);else e=n;"function"==typeof t?t(e):t.current=e}}function ga(e,t,n){if(qt&&"function"==typeof qt.onCommitFiberUnmount)try{qt.onCommitFiberUnmount(Vt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:Q?Ca(e,t,n):$&&$&&(t=t.stateNode.containerInfo,n=Ae(t),Te(t,n))}}function va(e,t,n){for(var r=t;;)if(ga(e,r,n),null===r.child||Q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Da(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Da(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _a(e){if(Q){e:{for(var t=e.return;null!==t;){if(Da(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),ba(e,n=wa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Ea(e,n=wa(e),t);break;default:throw Error(o(161))}}}function Ea(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function ba(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function Ca(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)va(e,a,n),i?De(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Xe(r,a.stateNode):$e(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ga(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function xa(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&me(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(X&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo));case 13:case 19:return void Fa(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Fa(t);case 3:X&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo)}e:if($){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Te(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Fa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=$o.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Aa(e,t,n){la=e,Sa(e,t,n)}function Sa(e,t,n){for(var r=!!(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Oa(i):null!==u?(u.return=o,la=u):Oa(i);for(;null!==a;)la=a,Sa(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Ma(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,la=a):Ma(e)}}function Ma(e){for(;null!==la;){var t=la;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&_n(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=B(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&pe(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(X&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Qe(f)}}}break;default:throw Error(o(163))}sa||512&t.flags&&ma(t)}catch(h){Wo(t,t.return,h)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Ta(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Oa(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(u){Wo(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Wo(t,i,u)}}var a=t.return;try{ma(t)}catch(u){Wo(t,a,u)}break;case 5:var o=t.return;try{ma(t)}catch(u){Wo(t,o,u)}}}catch(u){Wo(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Na=0,Ba=1,za=2,ka=3,Pa=4;if("function"==typeof Symbol&&Symbol.for){var Ua=Symbol.for;Na=Ua("selector.component"),Ba=Ua("selector.has_pseudo_class"),za=Ua("selector.role"),ka=Ua("selector.test_id"),Pa=Ua("selector.text")}function Ra(e){var t=G(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function La(e,t){switch(t.$$typeof){case Na:if(e.type===t.value)return!0;break;case Ba:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&La(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case za:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Pa:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case ka:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ia(e){switch(e.$$typeof){case Na:return"<"+(b(e.value)||"Unknown")+">";case Ba:return":has("+(Ia(e)||"")+")";case za:return'[role="'+e.value+'"]';case Pa:return'"'+e.value+'"';case ka:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function ja(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&La(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(o(363));e=ja(e=Ra(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,qa=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,Za=s.ReactCurrentBatchConfig,Ya=0,Qa=null,$a=null,Xa=0,Ga=0,Ka=ot(0),Ja=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=Rt()+500}var lo,co=!1,fo=null,ho=null,po=!1,mo=null,go=0,vo=0,yo=null,Do=-1,wo=0;function _o(){return 6&Ya?Rt():-1!==Do?Do:Do=Rt()}function Eo(e){return 1&e.mode?2&Ya&&0!==Xa?Xa&-Xa:null!==Gt.transition?(0===wo&&(e=bt,!(4194240&(bt<<=1))&&(bt=64),wo=e),wo):0!==(e=Nt)?e:J():1}function bo(e,t,n){if(50<vo)throw vo=0,yo=null,Error(o(185));var r=Co(e,t);return null===r?null:(Tt(r,t,n),2&Ya&&r===Qa||(r===Qa&&(!(2&Ya)&&(no|=t),4===Ja&&Mo(r,Xa)),xo(r,n),1===t&&0===Ya&&!(1&e.mode)&&(uo(),Yt&&Xt())),r)}function Co(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function xo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,u=i[o];-1===u?s&n&&!(s&r)||(i[o]=At(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ft(e,e===Qa?Xa:0);if(0===r)null!==n&&kt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&kt(n),1===t)0===e.tag?function(e){Yt=!0,$t(e)}(To.bind(null,e)):$t(To.bind(null,e)),te?ne((function(){0===Ya&&Xt()})):zt(Lt,Xt),n=null;else{switch(Bt(r)){case 1:n=Lt;break;case 4:n=It;break;case 16:default:n=jt;break;case 536870912:n=Ht}n=Xo(n,Fo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fo(e,t){if(Do=-1,wo=0,6&Ya)throw Error(o(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Ft(e,e===Qa?Xa:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Uo(e,r);else{t=r;var i=Ya;Ya|=2;var a=ko();for(Qa===e&&Xa===t||(uo(),Bo(e,t));;)try{Lo();break}catch(u){zo(e,u)}on(),qa.current=a,Ya=i,null!==$a?t=0:(Qa=null,Xa=0,t=Ja)}if(0!==t){if(2===t&&(0!==(i=St(e))&&(r=i,t=Ao(e,i))),1===t)throw n=eo,Bo(e,0),Mo(e,r),xo(e,Rt()),n;if(6===t)Mo(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=Uo(e,r),2===t&&(a=St(e),0!==a&&(r=a,t=Ao(e,a))),1!==t)))throw n=eo,Bo(e,0),Mo(e,r),xo(e,Rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ho(e,ao);break;case 3:if(Mo(e,r),(130023424&r)===r&&10<(t=oo+500-Rt())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=q(Ho.bind(null,e,ao),t);break}Ho(e,ao);break;case 4:if(Mo(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Rt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=q(Ho.bind(null,e,ao),r);break}Ho(e,ao);break;default:throw Error(o(329))}}}return xo(e,Rt()),e.callbackNode===n?Fo.bind(null,e):null}function Ao(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Bo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=ao,ao=n,null!==t&&So(t)),e}function So(e){null===ao?ao=e:ao.push.apply(ao,e)}function Mo(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function To(e){if(6&Ya)throw Error(o(327));Vo();var t=Ft(e,0);if(!(1&t))return xo(e,Rt()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=St(e);0!==r&&(t=r,n=Ao(e,r))}if(1===n)throw n=eo,Bo(e,0),Mo(e,t),xo(e,Rt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,ao),xo(e,Rt()),null}function Oo(e){null!==mo&&0===mo.tag&&!(6&Ya)&&Vo();var t=Ya;Ya|=1;var n=Za.transition,r=Nt;try{if(Za.transition=null,Nt=1,e)return e()}finally{Nt=r,Za.transition=n,!(6&(Ya=t))&&Xt()}}function No(){Ga=Ka.current,st(Ka)}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Z&&(e.timeoutHandle=Z,W(n)),null!==$a)for(n=$a.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:dr(),st(ft),st(ct),Dr();break;case 5:mr(r);break;case 4:dr();break;case 13:case 19:st(gr);break;case 10:un(r.type._context);break;case 22:case 23:No()}n=n.return}if(Qa=e,$a=e=es(e.current,null),Xa=Ga=t,Ja=0,eo=null,ro=no=to=0,ao=io=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hn=null}return e}function zo(e,t){for(;;){var n=$a;try{if(on(),wr.current=di,Fr){for(var r=br.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Fr=!1}if(Er=0,xr=Cr=br=null,Ar=!1,Sr=0,Wa.current=null,null===n||null===n.return){Ja=1,eo=t,$a=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Xa,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,f=u,h=f.tag;if(!(1&f.mode||0!==h&&11!==h&&15!==h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ai(s);if(null!==p){p.flags&=-257,Si(p,s,u,0,t),1&p.mode&&Fi(a,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(!(1&t)){Fi(a,c,t),Po();break e}l=Error(o(426))}else if(qn&&1&u.mode){var v=Ai(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),Si(v,s,u,0,t),er(l);break e}}a=l,4!==Ja&&(Ja=2),null===io?io=[a]:io.push(a),l=vi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,Dn(u,Ci(0,l,t));break e;case 1:a=l;var y=u.type,D=u.stateNode;if(!(128&u.flags||"function"!=typeof y.getDerivedStateFromError&&(null===D||"function"!=typeof D.componentDidCatch||null!==ho&&ho.has(D)))){u.flags|=65536,t&=-t,u.lanes|=t,Dn(u,xi(u,a,t));break e}}u=u.return}while(null!==u)}jo(n)}catch(w){t=w,$a===n&&null!==n&&($a=n=n.return);continue}break}}function ko(){var e=qa.current;return qa.current=di,null===e?di:e}function Po(){0!==Ja&&3!==Ja&&2!==Ja||(Ja=4),null===Qa||!(268435455&to)&&!(268435455&no)||Mo(Qa,Xa)}function Uo(e,t){var n=Ya;Ya|=2;var r=ko();for(Qa===e&&Xa===t||Bo(e,t);;)try{Ro();break}catch(i){zo(e,i)}if(on(),Ya=n,qa.current=r,null!==$a)throw Error(o(261));return Qa=null,Xa=0,Ja}function Ro(){for(;null!==$a;)Io($a)}function Lo(){for(;null!==$a&&!Pt();)Io($a)}function Io(e){var t=lo(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,null===t?jo(e):$a=t,Wa.current=null}function jo(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=aa(n,t)))return n.flags&=32767,void($a=n);if(null===e)return Ja=6,void($a=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=zi(n,t,Ga)))return void($a=n);if(null!==(t=t.sibling))return void($a=t);$a=t=e}while(null!==t);0===Ja&&(Ja=5)}function Ho(e,t){var n=Nt,r=Za.transition;try{Za.transition=null,Nt=1,function(e,t,n){do{Vo()}while(null!==mo);if(6&Ya)throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Qa&&($a=Qa=null,Xa=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||po||(po=!0,Xo(jt,(function(){return Vo(),null}))),a=!!(15990&r.flags),!!(15990&r.subtreeFlags)||a){a=Za.transition,Za.transition=null;var s=Nt;Nt=1;var u=Ya;Ya|=4,Wa.current=null,function(e,t){for(P(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,1028&e.subtreeFlags&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Q&&xe(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Wo(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=ha,ha=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Q?Ca(a,i,t):va(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(_){Wo(i,t,_)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&Q&&we(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Rt())}break;case 22:var f=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;if(n=t,Q)e:if(r=n,i=f,a=null,Q)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?_e(m):be(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?Ee(g):Ce(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(f&&!d&&1&n.mode){la=n;for(var v=n.child;null!==v;){for(n=la=v;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var D=r.stateNode;if("function"==typeof D.componentWillUnmount){var w=r.return;try{D.props=r.memoizedProps,D.state=r.memoizedState,D.componentWillUnmount()}catch(_){Wo(r,w,_)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Ta(n);continue}}null!==y?(y.return=r,la=y):Ta(n)}v=v.sibling}}}switch(4102&s){case 2:_a(t),t.flags&=-3;break;case 6:_a(t),t.flags&=-3,xa(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,xa(t.alternate,t);break;case 4:xa(t.alternate,t)}}catch(_){Wo(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),U(e.containerInfo),e.current=r,Aa(r,e,i),Ut(),Ya=u,Nt=s,Za.transition=a}else e.current=r;if(po&&(po=!1,mo=e,go=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(qt&&"function"==typeof qt.onCommitFiberRoot)try{qt.onCommitFiberRoot(Vt,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),xo(e,Rt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;!!(1&go)&&0!==e.tag&&Vo(),a=e.pendingLanes,1&a?e===yo?vo++:(vo=0,yo=e):vo=0,Xt()}(e,t,n)}finally{Za.transition=r,Nt=n}return null}function Vo(){if(null!==mo){var e=Bt(go),t=Za.transition,n=Nt;try{if(Za.transition=null,Nt=16>e?16:e,null===mo)var r=!1;else{if(e=mo,mo=null,go=0,6&Ya)throw Error(o(331));var i=Ya;for(Ya|=4,la=e.current;null!==la;){var a=la,s=a.child;if(16&la.flags){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var f=la;switch(f.tag){case 0:case 11:case 15:da(8,f,a)}var h=f.child;if(null!==h)h.return=f,la=h;else for(;null!==la;){var d=(f=la).sibling,p=f.return;if(ya(f),f===c){la=null;break}if(null!==d){d.return=p,la=d;break}la=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}la=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(2048&(a=la).flags)switch(a.tag){case 0:case 11:case 15:da(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var D=e.current;for(la=D;null!==la;){var w=(s=la).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,la=w;else e:for(s=D;null!==la;){if(2048&(u=la).flags)try{switch(u.tag){case 0:case 11:case 15:pa(9,u)}}catch(E){Wo(u,u.return,E)}if(u===s){la=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,la=_;break e}la=u.return}}if(Ya=i,Xt(),qt&&"function"==typeof qt.onPostCommitFiberRoot)try{qt.onPostCommitFiberRoot(Vt,e)}catch(E){}r=!0}return r}finally{Nt=n,Za.transition=t}}return!1}function qo(e,t,n){vn(e,t=Ci(0,t=vi(n,t),1)),t=_o(),null!==(e=Co(e,1))&&(Tt(e,1,t),xo(e,t))}function Wo(e,t,n){if(3===e.tag)qo(e,e,n);else for(;null!==t;){if(3===t.tag){qo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ho||!ho.has(r))){vn(t,e=xi(t,e=vi(n,e),1)),e=_o(),null!==(t=Co(t,1))&&(Tt(t,1,e),xo(t,e));break}}t=t.return}}function Zo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Qa===e&&(Xa&n)===n&&(4===Ja||3===Ja&&(130023424&Xa)===Xa&&500>Rt()-oo?Bo(e,0):ro|=n),xo(e,t)}function Yo(e,t){0===t&&(1&e.mode?(t=Ct,!(130023424&(Ct<<=1))&&(Ct=4194304)):t=1);var n=_o();null!==(e=Co(e,t))&&(Tt(e,t,n),xo(e,n))}function Qo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Yo(e,n)}function $o(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Yo(e,n)}function Xo(e,t){return zt(e,t)}function Go(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(e,t,n,r){return new Go(e,t,n,r)}function Jo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Ko(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Jo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case f:s=8,i|=8;break;case h:return(e=Ko(12,n,t,2|i)).elementType=h,e.lanes=a,e;case g:return(e=Ko(13,n,t,i)).elementType=g,e.lanes=a,e;case v:return(e=Ko(19,n,t,i)).elementType=v,e.lanes=a,e;case w:return rs(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ko(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Ko(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Ko(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Ko(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Ko(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Z,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mt(0),this.expirationTimes=Mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.identifierPrefix=r,this.onRecoverableError=i,X&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ko(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function us(e){if(!e)return lt;e:{if(x(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=S(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function hs(e){return null===(e=S(e))?null:e.stateNode}function ds(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Pi=!0;else{if(!(e.lanes&n||128&t.flags))return Pi=!1,function(e,t,n){switch(t.tag){case 3:Zi(t),Jn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(gr,1&gr.current),t.flags|=128,null):n&t.child.childLanes?Xi(e,t,n):(ut(gr,1&gr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(gr,1&gr.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return ia(e,t,n)}(e,t,n);Pi=!!(131072&e.flags)}else Pi=!1,qn&&1048576&t.flags&&Ln(t,Nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Nr(null,t,r,e,i,n);var a=Br();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Cn,t.stateNode=i,i._reactInternals=t,Sn(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,qn&&a&&In(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Jo(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=qi(null,t,r,e,n);break e;case 11:t=Ri(null,t,r,e,n);break e;case 14:t=Li(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,qi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Zi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,mn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,X&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Yi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Yi(e,t,r,n,i=Error(o(424)));break e}for(X&&(Vn=je(t.stateNode.containerInfo),Hn=t,qn=!0,Zn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Jn(),r===i){t=ia(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Xn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Xn(t),null;case 13:return Xi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ri(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Wt(a.value,s)){if(a.children===i.children&&!ft.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=gn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=fn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Li(e,t,r,i=en(r.type,i),n);case 15:return Ii(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Fn(t,r,i),Sn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return ji(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(bo(e,134217728,_o()),fs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=Eo(e);bo(e,n,t),fs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xt(t.pendingLanes);0!==n&&(Ot(t,1|n),xo(t,Rt()),!(6&Ya)&&(uo(),Xt()))}break;case 13:var r=_o();Oo((function(){return bo(e,1,r)})),fs(e,1)}},t.batchedUpdates=function(e,t){var n=Ya;Ya|=1;try{return e(t)}finally{0===(Ya=n)&&(uo(),Yt&&Xt())}},t.createComponentSelector=function(e){return{$$typeof:Na,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ba,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=gn(r=_o(),i=Eo(n))).callback=null!=t?t:null,vn(n,a),e.current.lanes=i,Tt(e,i,r),xo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:za,value:e}},t.createTestNameSelector=function(e){return{$$typeof:ka,value:e}},t.createTextSelector=function(e){return{$$typeof:Pa,value:e}},t.deferredUpdates=function(e){var t=Nt,n=Za.transition;try{return Za.transition=null,Nt=16,e()}finally{Nt=t,Za.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Nt,o=Za.transition;try{return Za.transition=null,Nt=1,e(t,n,r,i)}finally{Nt=a,Za.transition=o,0===Ya&&uo()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,h=l.y,d=h+l.height;if(r>=c&&a>=h&&i<=f&&s<=d){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||d<a||h>s)){h>a&&(l.height+=h-a,l.y=a),d<s&&(l.height=s-h),e.splice(t,1);break}if(!(a!==h||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=A(e))?T(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=Ya;Ya|=1;var n=Za.transition,r=Nt;try{Za.transition=null,Nt=1,e()}finally{Nt=r,Za.transition=n,0===(Ya=t)&&(uo(),Xt())}},t.flushPassiveEffects=Vo,t.flushSync=Oo,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=ja(e=Ra(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Ra(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(La(a,u)&&(r.push(Ia(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ia(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?B(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||ds,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),qt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ha(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=_o(),o=Eo(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=bo(i,o,a))&&yn(e,i,o),o},t}},772:function(e,t,n){"use strict";e.exports=n(735)},4845:function(e,t,n){"use strict";e.exports=n(2935)},7391:function(e,t,n){var r=n(7180),i=n(3181),a=n(3031),o=n(9067),s=n(6833),u=n(3717),l=n(4801);l.alea=r,l.xor128=i,l.xorwow=a,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},7180:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},3717:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},3181:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},6833:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},9067:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},3031:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},4801:function(e,t,n){var r;!function(i,a,o){var s,u=256,l=o.pow(u,6),c=o.pow(2,52),f=2*c,h=255;function d(e,t,n){var r=[],h=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,y(a)]}}():e,3),r),d=new p(r),D=function(){for(var e=d.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return D.int32=function(){return 0|d.g(4)},D.quick=function(){return d.g(4)/4294967296},D.double=D,v(y(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,d),e.state=function(){return m(d,{})}),n?(o.random=e,t):e})(D,h,"global"in t?t.global:this==o,t.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=h&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=h&i+1],n=n*u+o[h&(o[i]=o[a=h&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[h&i]=h&(n^=19*t[h&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(o.random(),a),e.exports){e.exports=d;try{s=n(1234)}catch(D){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},1234:function(){},3693:function(e,t,n){var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9045:function(e,t,n){var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:function(e,t,n){var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2369:function(e){e.exports=function(){"use strict";function e(){return!0}function t(){return!1}function n(){}const r="Argument is not a typed-function.";function i(){function a(e){return"object"==typeof e&&null!==e&&e.constructor===Object}const o=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],s={name:"any",test:e,isAny:!0};let u,l,c=0,f={createCount:0};function h(e){const t=u.get(e);if(t)return t;let n='Unknown type "'+e+'"';const r=e.toLowerCase();let i;for(i of l)if(i.toLowerCase()===r){n+='. Did you mean "'+i+'" ?';break}throw new TypeError(n)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=t?h(t).index:l.length,r=[];for(let a=0;a<e.length;++a){if(!e[a]||"string"!=typeof e[a].name||"function"!=typeof e[a].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[a].name;if(u.has(t))throw new TypeError('Duplicate type name "'+t+'"');r.push(t),u.set(t,{name:t,test:e[a].test,isAny:e[a].isAny,index:n+a,conversionsTo:[]})}const i=l.slice(n);l=l.slice(0,n).concat(r).concat(i);for(let a=n+r.length;a<l.length;++a)u.get(l[a]).index=a}function p(){u=new Map,l=[],c=0,d([s],!1)}function m(){let e;for(e of l)u.get(e).conversionsTo=[];c=0}function g(e){const t=l.filter((t=>{const n=u.get(t);return!n.isAny&&n.test(e)}));return t.length?t:["any"]}function v(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function y(e,t,n){if(!v(e))throw new TypeError(r);const i=n&&n.exact,a=x(Array.isArray(t)?t.join(","):t),o=_(a);if(!i||o in e.signatures){const t=e._typedFunctionData.signatureMap.get(o);if(t)return t}const s=a.length;let u,l;if(i){let t;for(t in u=[],e.signatures)u.push(e._typedFunctionData.signatureMap.get(t))}else u=e._typedFunctionData.signatures;for(let r=0;r<s;++r){const e=a[r],t=[];let n;for(n of u){const i=M(n.params,r);if(i&&(!e.restParam||i.restParam)){if(!i.hasAny){const t=C(i);if(e.types.some((e=>!t.has(e.name))))continue}t.push(n)}}if(u=t,0===u.length)break}for(l of u)if(l.params.length<=s)return l;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+_(a,", ")+"))")}function D(e,t,n){return y(e,t,n).implementation}function w(e,t){const n=h(t);if(n.test(e))return e;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+t+" defined.");for(let i=0;i<r.length;i++)if(h(r[i].from).test(e))return r[i].convert(e);throw new Error("Cannot convert "+e+" to "+t)}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map((e=>e.name)).join(t)}function E(e){const t=0===e.indexOf("..."),n=(t?e.length>3?e.slice(3):"any":e).split("|").map((e=>h(e.trim())));let r=!1,i=t?"...":"";return{types:n.map((function(e){return r=e.isAny||r,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}})),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:t}}function b(e){const t=R(e.types.map((e=>e.name)));let n=e.hasAny,r=e.name;const i=t.map((function(e){const t=h(e.from);return n=t.isAny||n,r+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}}));return{types:e.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:e.restParam}}function C(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach((t=>e.typeSet.add(t.name)))),e.typeSet}function x(e){const t=[];if("string"!=typeof e)throw new TypeError("Signatures must be strings");const n=e.trim();if(""===n)return t;const r=n.split(",");for(let i=0;i<r.length;++i){const e=E(r[i].trim());if(e.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function F(e){const t=X(e);return!!t&&t.restParam}function A(t){if(t&&0!==t.types.length){if(1===t.types.length)return h(t.types[0].name).test;if(2===t.types.length){const e=h(t.types[0].name).test,n=h(t.types[1].name).test;return function(t){return e(t)||n(t)}}{const e=t.types.map((function(e){return h(e.name).test}));return function(t){for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}}return e}function S(e){let t,n,r;if(F(e)){t=$(e).map(A);const n=t.length,r=A(X(e)),i=function(e){for(let t=n;t<e.length;t++)if(!r(e[t]))return!1;return!0};return function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return i(e)&&e.length>=n+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=A(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=A(e[0]),r=A(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(A),function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function M(e,t){return t<e.length?e[t]:F(e)?X(e):null}function T(e,t){const n=M(e,t);return n?C(n):new Set}function O(e){return null===e.conversion||void 0===e.conversion}function N(e,t){const n=new Set;return e.forEach((e=>{const r=T(e.params,t);let i;for(i of r)n.add(i)})),n.has("any")?["any"]:Array.from(n)}function B(e,t,n){let r,i;const a=e||"unnamed";let o,s=n;for(o=0;o<t.length;o++){const e=[];if(s.forEach((n=>{const r=A(M(n.params,o));(o<n.params.length||F(n.params))&&r(t[o])&&e.push(n)})),0===e.length){if(i=N(s,o),i.length>0){const e=g(t[o]);return r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+o+")"),r.data={category:"wrongType",fn:a,index:o,actual:e,expected:i},r}}else s=e}const u=s.map((function(e){return F(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,u))return i=N(s,o),r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;const l=Math.max.apply(null,u);if(t.length>l)return r=new TypeError("Too many arguments in function "+a+" (expected: "+l+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:l},r;const c=[];for(let f=0;f<t.length;++f)c.push(g(t[f]).join("|"));return r=new TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+a+"."),r.data={category:"mismatch",actual:c},r}function z(e){let t=l.length+1;for(let n=0;n<e.types.length;n++)O(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function k(e){let t=c+1;for(let n=0;n<e.types.length;n++)O(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function P(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return-1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return-1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return-1;const n=z(e)-z(t);if(n<0)return-1;if(n>0)return 1;const r=k(e)-k(t);return r<0?-1:r>0?1:0}function U(e,t){const n=e.params,r=t.params,i=X(n),a=X(r),o=F(n),s=F(r);if(o&&i.hasAny){if(!s||!a.hasAny)return 1}else if(s&&a.hasAny)return-1;let u,l=0,c=0;for(u of n)u.hasAny&&++l,u.hasConversion&&++c;let f=0,h=0;for(u of r)u.hasAny&&++f,u.hasConversion&&++h;if(l!==f)return l-f;if(o&&i.hasConversion){if(!s||!a.hasConversion)return 1}else if(s&&a.hasConversion)return-1;if(c!==h)return c-h;if(o){if(!s)return 1}else if(s)return-1;const d=(n.length-r.length)*(o?-1:1);if(0!==d)return d;const p=[];let m,g=0;for(let v=0;v<n.length;++v){const e=P(n[v],r[v]);p.push(e),g+=e}if(0!==g)return g;for(m of p)if(0!==m)return m;return 0}function R(e){if(0===e.length)return[];const t=e.map(h);e.length>1&&t.sort(((e,t)=>e.index-t.index));let n=t[0].conversionsTo;if(1===e.length)return n;n=n.concat([]);const r=new Set(e);for(let i=1;i<t.length;++i){let e;for(e of t[i].conversionsTo)r.has(e.from)||(n.push(e),r.add(e.from))}return n}function L(e,t){let n=t;if(e.some((e=>e.hasConversion))){const r=F(e),i=e.map(I);n=function(){const e=[],n=r?arguments.length-1:arguments.length;for(let t=0;t<n;t++)e[t]=i[t](arguments[t]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}let r=n;if(F(e)){const t=e.length-1;r=function(){return n.apply(this,G(arguments,0,t).concat([G(arguments,t)]))}}return r}function I(e){let t,n,r,i;const a=[],o=[];switch(e.types.forEach((function(e){e.conversion&&(a.push(h(e.conversion.from).test),o.push(e.conversion.convert))})),o.length){case 0:return function(e){return e};case 1:return t=a[0],r=o[0],function(e){return t(e)?r(e):e};case 2:return t=a[0],n=a[1],r=o[0],i=o[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(let t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function j(e){function t(e,n,r){if(n<e.length){const i=e[n];let a=[];if(i.restParam){const e=i.types.filter(O);e.length<i.types.length&&a.push({types:e,name:"..."+e.map((e=>e.name)).join("|"),hasAny:e.some((e=>e.isAny)),hasConversion:!1,restParam:!0}),a.push(i)}else a=i.types.map((function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}}));return J(a,(function(i){return t(e,n+1,r.concat([i]))}))}return[r]}return t(e,0,[])}function H(e,t){const n=Math.max(e.length,t.length);for(let s=0;s<n;s++){const n=T(e,s),r=T(t,s);let i,a=!1;for(i of r)if(n.has(i)){a=!0;break}if(!a)return!1}const r=e.length,i=t.length,a=F(e),o=F(t);return a?o?r===i:i>=r:o?r>=i:r===i}function V(e){return e.map((e=>ie(e)?ne(e.referToSelf.callback):re(e)?te(e.referTo.references,e.referTo.callback):e))}function q(e,t,n){const r=[];let i;for(i of e){let e=n[i];if("number"!=typeof e)throw new TypeError('No definition for referenced signature "'+i+'"');if(e=t[e],"function"!=typeof e)return!1;r.push(e)}return r}function W(e,t,n){const r=V(e),i=new Array(r.length).fill(!1);let a=!0;for(;a;){a=!1;let e=!0;for(let o=0;o<r.length;++o){if(i[o])continue;const s=r[o];if(ie(s))r[o]=s.referToSelf.callback(n),r[o].referToSelf=s.referToSelf,i[o]=!0,e=!1;else if(re(s)){const n=q(s.referTo.references,r,t);n?(r[o]=s.referTo.callback.apply(this,n),r[o].referTo=s.referTo,i[o]=!0,e=!1):a=!0}}if(e&&a)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function Z(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach((n=>{const r=e[n];if(t.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function Y(e,r){if(f.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&Z(r);const i=[],a=[],o={},s=[];let u;for(u in r){if(!Object.prototype.hasOwnProperty.call(r,u))continue;const e=x(u);if(!e)continue;i.forEach((function(t){if(H(t,e))throw new TypeError('Conflicting signatures "'+_(t)+'" and "'+_(e)+'".')})),i.push(e);const t=a.length;a.push(r[u]);const n=e.map(b);let l;for(l of j(n)){const e=_(l);s.push({params:l,name:e,fn:t}),l.every((e=>!e.hasConversion))&&(o[e]=t)}}s.sort(U);const l=W(a,o,ue);let c;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(o[c]=l[o[c]]);const h=[],d=new Map;for(c of s)d.has(c.name)||(c.fn=l[c.fn],h.push(c),d.set(c.name,c));const p=h[0]&&h[0].params.length<=2&&!F(h[0].params),m=h[1]&&h[1].params.length<=2&&!F(h[1].params),g=h[2]&&h[2].params.length<=2&&!F(h[2].params),v=h[3]&&h[3].params.length<=2&&!F(h[3].params),y=h[4]&&h[4].params.length<=2&&!F(h[4].params),D=h[5]&&h[5].params.length<=2&&!F(h[5].params),w=p&&m&&g&&v&&y&&D;for(let t=0;t<h.length;++t)h[t].test=S(h[t].params);const E=p?A(h[0].params[0]):t,C=m?A(h[1].params[0]):t,M=g?A(h[2].params[0]):t,T=v?A(h[3].params[0]):t,O=y?A(h[4].params[0]):t,N=D?A(h[5].params[0]):t,B=p?A(h[0].params[1]):t,z=m?A(h[1].params[1]):t,k=g?A(h[2].params[1]):t,P=v?A(h[3].params[1]):t,R=y?A(h[4].params[1]):t,I=D?A(h[5].params[1]):t;for(let t=0;t<h.length;++t)h[t].implementation=L(h[t].params,h[t].fn);const V=p?h[0].implementation:n,q=m?h[1].implementation:n,Y=g?h[2].implementation:n,Q=v?h[3].implementation:n,$=y?h[4].implementation:n,X=D?h[5].implementation:n,G=p?h[0].params.length:-1,K=m?h[1].params.length:-1,J=g?h[2].params.length:-1,ee=v?h[3].params.length:-1,te=y?h[4].params.length:-1,ne=D?h[5].params.length:-1,re=w?6:0,ie=h.length,ae=h.map((e=>e.test)),oe=h.map((e=>e.implementation)),se=function(){for(let e=re;e<ie;e++)if(ae[e](arguments))return oe[e].apply(this,arguments);return f.onMismatch(e,arguments,h)};function ue(e,t){return arguments.length===G&&E(e)&&B(t)?V.apply(this,arguments):arguments.length===K&&C(e)&&z(t)?q.apply(this,arguments):arguments.length===J&&M(e)&&k(t)?Y.apply(this,arguments):arguments.length===ee&&T(e)&&P(t)?Q.apply(this,arguments):arguments.length===te&&O(e)&&R(t)?$.apply(this,arguments):arguments.length===ne&&N(e)&&I(t)?X.apply(this,arguments):se.apply(this,arguments)}try{Object.defineProperty(ue,"name",{value:e})}catch(le){}return ue.signatures=o,ue._typedFunctionData={signatures:h,signatureMap:d},ue}function Q(e,t,n){throw B(e,t,n)}function $(e){return G(e,0,e.length-1)}function X(e){return e[e.length-1]}function G(e,t,n){return Array.prototype.slice.call(e,t,n)}function K(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}function J(e,t){return Array.prototype.concat.apply([],e.map(t))}function ee(){const e=$(arguments).map((e=>_(x(e)))),t=X(arguments);if("function"!=typeof t)throw new TypeError("Callback function expected as last argument");return te(e,t)}function te(e,t){return{referTo:{references:e,callback:t}}}function ne(e){if("function"!=typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function re(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function ie(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function ae(e,t){if(!e)return t;if(t&&t!==e){const n=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw n.data={actual:t,expected:e},n}return e}function oe(e){let t;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(v(e[n])||"string"==typeof e[n].signature)&&(t=ae(t,e[n].name));return t}function se(e,t){let n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n in e&&t[n]!==e[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:t[n],destFunction:e[n]},r}e[n]=t[n]}}p(),d(o);const ue=f;function le(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return f=function(e){const t="string"==typeof e;let n=t?e:"";const r={};for(let i=t?1:0;i<arguments.length;++i){const e=arguments[i];let o,s={};if("function"==typeof e?(o=e.name,"string"==typeof e.signature?s[e.signature]=e:v(e)&&(s=e.signatures)):a(e)&&(s=e,t||(o=oe(e))),0===Object.keys(s).length){const t=new TypeError("Argument to 'typed' at index "+i+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:i,argument:e},t}t||(n=ae(n,o)),se(r,s)}return Y(n||"",r)},f.create=i,f.createCount=ue.createCount,f.onMismatch=Q,f.throwMismatchError=Q,f.createError=B,f.clear=p,f.clearConversions=m,f.addTypes=d,f._findType=h,f.referTo=ee,f.referToSelf=ne,f.convert=w,f.findSignature=y,f.find=D,f.isTypedFunction=v,f.warnAgainstDeprecatedThis=!0,f.addType=function(e,t){let n="any";!1!==t&&u.has("Object")&&(n="Object"),f.addTypes([e],n)},f.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};le(e);const n=h(e.to),r=n.conversionsTo.find((t=>t.from===e.from));if(r){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+n.name+'"');f.removeConversion({from:r.from,to:e.to,convert:r.convert})}n.conversionsTo.push({from:e.from,convert:e.convert,index:c++})},f.addConversions=function(e,t){e.forEach((e=>f.addConversion(e,t)))},f.removeConversion=function(e){le(e);const t=h(e.to),n=K(t.conversionsTo,(t=>t.from===e.from));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(n.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const r=t.conversionsTo.indexOf(n);t.conversionsTo.splice(r,1)},f.resolve=function(e,t){if(!v(e))throw new TypeError(r);const n=e._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(t))return n[r];return null},f}return i()}()}}]);
//# sourceMappingURL=component---src-pages-calabi-manifold-js-abc691f9125946e3bb93.js.map